{"version":3,"sources":["../src/poodll_shadowmediaskin.js"],"names":["define","$","log","debug","instanceprops","pmr","uploaded","recorded","mustResetResourcePlayer","clone","extend","init","ip","fetch_instanceprops","onUploadSuccess","controlbarid","hide","show","onUploadFailure","fetch_status_bar","skin","fetch_preview_audio","fetch_preview_video","fetch_resource_audio","fetch_resource_video","fetch_uploader_skin","onMediaError","e","console","error","onMediaSuccess_video","self","do_play_resource","controlbar","resourceplayer","bind","stopbutton","click","set_visual_mode","onMediaSuccess_audio","preview","attr","handle_timer_update","update_status","timer","seconds","initseconds","mode","disable_button","startbutton","stopplaybackbutton","resourcestopbutton","enable_button","playbackbutton","resourceplaybutton","insert_controlbar_video","element","prepare_controlbar","insert_controlbar_audio","mediatype","skin_style","config","media_skin_style","recorder_class","replace","resource","size_class","size","ss","fetch_strings","controls","status","prepend","marker","savebutton","register_controlbar_events_video","onMediaSuccess","register_controlbar_events_audio","do_start_audio","do_stop_audio","get","pause","do_stop_resource","do_play_audio","set_completion","blobs","length","do_save_audio","uploader","Output","M","util","get_string","window","onbeforeunload","completed","completioncheck","currentTime","src","load","play","button","removeClass","addClass"],"mappings":"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","sourcesContent":["/* jshint ignore:start */\r\ndefine(['jquery', 'core/log', 'filter_poodll/utils_amd'], function ($, log, utils) {\r\n\r\n    \"use strict\"; // jshint ;_;\r\n\r\n    log.debug('PoodLL Shadow Skin: initialising');\r\n\r\n    return {\r\n\r\n        instanceprops: null,\r\n        pmr: null,\r\n        uploaded: false,\r\n        recorded: false,\r\n        mustResetResourcePlayer: false,\r\n\r\n        //for making multiple instances\r\n        clone: function () {\r\n            return $.extend(true, {}, this);\r\n        },\r\n\r\n        init: function (ip, pmr) {\r\n            this.instanceprops = ip;\r\n            this.pmr = pmr;\r\n        },\r\n\r\n\r\n        fetch_instanceprops: function () {\r\n            return this.instanceprops;\r\n        },\r\n\r\n\r\n        onUploadSuccess: function (controlbarid) {\r\n            $('#' + controlbarid + ' > .poodll_save-recording').hide();\r\n            // $('#' + controlbarid  + '_messages').hide();\r\n            $('#' + controlbarid + ' > .poodll_savedsuccessfully').show();\r\n        },\r\n\r\n        onUploadFailure: function (controlbarid) {\r\n            return;\r\n        },\r\n\r\n        fetch_status_bar: function (skin) {\r\n            var status = '<div class=\"poodll_status_' + skin + '\"></div>';\r\n            return status;\r\n        },\r\n\r\n        fetch_preview_audio: function (skin) {\r\n            var preview = '<audio class=\"poodll_checkplayer_' + skin + ' \" style=\"display: none;\" controls playsinline=\"playsinline\" muted></audio>';\r\n            return preview;\r\n        },\r\n        fetch_preview_video: function (skin) {\r\n            var preview = '<video class=\"poodll_checkplayer_' + skin + '\" width=\"320\" height=\"240\" playsinline=\"playsinline\" muted></video>';\r\n            return preview;\r\n        },\r\n        fetch_resource_audio: function (skin) {\r\n            var resourceplayer = '<audio class=\"poodll_resourceplayer_' + skin + '\" style=\"display: none;\" src=\"@@RESOURCEURL@@\" playsinline=\"playsinline\" controls></audio>';\r\n            return resourceplayer;\r\n        },\r\n        fetch_resource_video: function (skin) {\r\n            var resourceplayer = '<video class=\"poodll_resourceplayer_' + skin + '\" style=\"display: none;\" src=\"@@RESOURCEURL@@\" playsinline=\"playsinline\"></video>';\r\n            return resourceplayer;\r\n        },\r\n        fetch_uploader_skin: function (controlbarid, element) {\r\n            return false;\r\n        },\r\n        onMediaError: function (e) {\r\n            console.error('media error', e);\r\n        },\r\n\r\n        onMediaSuccess_video: function (controlbarid) {\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n            var self = this;\r\n\r\n            this.recorded = true;\r\n\r\n            //also start the model audio playback\r\n            this.do_play_resource(ip);\r\n            ip.controlbar.resourceplayer.bind('ended', function () {\r\n                ip.controlbar.stopbutton.click();\r\n            });\r\n\r\n            self.set_visual_mode('recordingmode', ip);\r\n            /*\r\n            ip.controlbar.stopbutton.attr('disabled',false);\r\n            ip.controlbar.savebutton.attr('disabled',false);\r\n            */\r\n        },\r\n\r\n        onMediaSuccess_audio: function (controlbarid) {\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n            var self=this;\r\n            ip.controlbar.preview.attr('src', null);\r\n\r\n\r\n            this.recorded = true;\r\n\r\n            //also start the model audio playback\r\n            this.do_play_resource(ip);\r\n            ip.controlbar.resourceplayer.bind('ended', function () {\r\n                ip.controlbar.stopbutton.click();\r\n            });\r\n\r\n            self.set_visual_mode('recordingmode', ip);\r\n            /*\r\n            ip.controlbar.stopbutton.attr('disabled',false);;\r\n            ip.controlbar.savebutton.attr('disabled',false);\r\n            */\r\n        },\r\n\r\n        handle_timer_update: function (controlbarid) {\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n            this.update_status(controlbarid);\r\n            if (ip.timer.seconds == 0 && ip.timer.initseconds > 0) {\r\n                ip.controlbar.stopbutton.click();\r\n            }\r\n        },\r\n\r\n        update_status: function (controlbarid) {\r\n            /*\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n            ip.controlbar.status.html(ip.timer.fetch_display_time());\r\n            */\r\n        },\r\n\r\n        //set visuals for different states (ie recording or playing)\r\n        set_visual_mode: function (mode, ip) {\r\n            var self = this;\r\n\r\n            switch (mode) {\r\n\r\n                case 'recordingmode':\r\n                    //hide  buttons\r\n                    self.disable_button(ip.controlbar.startbutton);\r\n                    ip.controlbar.startbutton.hide();\r\n                    self.disable_button(ip.controlbar.stopplaybackbutton);\r\n                    ip.controlbar.stopplaybackbutton.hide();\r\n                    self.disable_button(ip.controlbar.resourcestopbutton);\r\n                    ip.controlbar.resourcestopbutton.hide();\r\n\r\n\r\n                    //show  buttons  \r\n                    self.enable_button(ip.controlbar.stopbutton);\r\n                    ip.controlbar.stopbutton.show();\r\n                    self.disable_button(ip.controlbar.playbackbutton);\r\n                    ip.controlbar.playbackbutton.show();\r\n                    self.disable_button(ip.controlbar.resourceplaybutton);\r\n                    ip.controlbar.resourceplaybutton.show();\r\n\r\n                    break;\r\n\r\n                case 'resourceplayingmode':\r\n                    //hide  buttons\r\n                    self.disable_button(ip.controlbar.stopbutton);\r\n                    ip.controlbar.stopbutton.hide();\r\n                    self.disable_button(ip.controlbar.playbackbutton);\r\n                    ip.controlbar.playbackbutton.hide();\r\n                    self.disable_button(ip.controlbar.resourceplaybutton);\r\n                    ip.controlbar.resourceplaybutton.hide();\r\n\r\n                    //show buttons  \r\n                    self.disable_button(ip.controlbar.startbutton);\r\n                    ip.controlbar.startbutton.show();\r\n                    self.disable_button(ip.controlbar.stopplaybackbutton);\r\n                    ip.controlbar.stopplaybackbutton.show();\r\n                    self.enable_button(ip.controlbar.resourcestopbutton);\r\n                    ip.controlbar.resourcestopbutton.show();\r\n                    break;\r\n\r\n                case 'playingbackmode':\r\n                    //hide  buttons\r\n                    self.disable_button(ip.controlbar.stopbutton);\r\n                    ip.controlbar.stopbutton.hide();\r\n                    self.disable_button(ip.controlbar.playbackbutton);\r\n                    ip.controlbar.playbackbutton.hide();\r\n                    self.disable_button(ip.controlbar.resourcestopbutton);\r\n                    ip.controlbar.resourcestopbutton.hide();\r\n\r\n                    //show buttons  \r\n                    self.disable_button(ip.controlbar.startbutton);\r\n                    ip.controlbar.startbutton.show();\r\n                    self.enable_button(ip.controlbar.stopplaybackbutton);\r\n                    ip.controlbar.stopplaybackbutton.show();\r\n                    self.disable_button(ip.controlbar.resourceplaybutton);\r\n                    ip.controlbar.resourceplaybutton.show();\r\n                    break;\r\n\r\n                case 'neverrecordedmode':\r\n                    //hide buttons\r\n                    self.disable_button(ip.controlbar.stopbutton);\r\n                    ip.controlbar.stopbutton.hide();\r\n                    self.disable_button(ip.controlbar.stopplaybackbutton);\r\n                    ip.controlbar.stopplaybackbutton.hide();\r\n                    self.disable_button(ip.controlbar.resourcestopbutton);\r\n                    ip.controlbar.resourcestopbutton.hide();\r\n\r\n                    //show  buttons  \r\n                    self.enable_button(ip.controlbar.startbutton);\r\n                    ip.controlbar.startbutton.show();\r\n                    self.disable_button(ip.controlbar.playbackbutton);\r\n                    ip.controlbar.playbackbutton.show();\r\n                    self.enable_button(ip.controlbar.resourceplaybutton);\r\n                    ip.controlbar.resourceplaybutton.show();\r\n                    break;\r\n\r\n                case 'allstoppedmode':\r\n                    //hide buttons\r\n                    self.disable_button(ip.controlbar.stopbutton);\r\n                    ip.controlbar.stopbutton.hide();\r\n                    self.disable_button(ip.controlbar.stopplaybackbutton);\r\n                    ip.controlbar.stopplaybackbutton.hide();\r\n                    self.disable_button(ip.controlbar.resourcestopbutton);\r\n                    ip.controlbar.resourcestopbutton.hide();\r\n\r\n                    //show  buttons  \r\n                    self.enable_button(ip.controlbar.startbutton);\r\n                    ip.controlbar.startbutton.show();\r\n                    self.enable_button(ip.controlbar.playbackbutton);\r\n                    ip.controlbar.playbackbutton.show();\r\n                    self.enable_button(ip.controlbar.resourceplaybutton);\r\n                    ip.controlbar.resourceplaybutton.show();\r\n                    break;\r\n            }\r\n\r\n        },\r\n\r\n        //insert the control bar and return it to be reused\r\n        insert_controlbar_video: function (element, controlbarid, preview, resourceplayer) {\r\n            var controlbar = this.prepare_controlbar(element, controlbarid, preview, resourceplayer, 'video');\r\n            return controlbar;\r\n        },\r\n        //insert the control bar and return it to be reused\r\n        insert_controlbar_audio: function (element, controlbarid, preview, resourceplayer) {\r\n            var controlbar = this.prepare_controlbar(element, controlbarid, preview, resourceplayer, 'audio');\r\n            return controlbar;\r\n        },\r\n\r\n        //insert the control bar and return it to be reused\r\n        prepare_controlbar: function (element, controlbarid, preview, resourceplayer, mediatype) {\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n            var skin_style = ip.config.media_skin_style;\r\n\r\n            var recorder_class = mediatype == 'video' ? 'poodll_mediarecorder_video' : 'poodll_mediarecorder_audio';\r\n\r\n            //load resource player with the src of the resource audio (or video ...never)\r\n            resourceplayer = resourceplayer.replace('@@RESOURCEURL@@', ip.config.resource);\r\n\r\n            var size_class = 'poodll_mediarecorder_size_auto';\r\n            switch (ip.config.size) {\r\n                case 'small':\r\n                    size_class = 'poodll_mediarecorder_size_small';\r\n                    break;\r\n                case 'big':\r\n                    size_class = 'poodll_mediarecorder_size_big';\r\n                    break;\r\n                case 'auto':\r\n                    size_class = 'poodll_mediarecorder_size_auto';\r\n            }\r\n\r\n            var ss = this.pmr.fetch_strings();\r\n            var controls = '<div class=\"poodll_mediarecorderholder_shadow '\r\n                + recorder_class + ' ' + size_class + '\" id=\"holder_' + controlbarid + '\">';\r\n\r\n            controls += '<div class=\"poodll_mediarecorderbox_shadow\" id=\"' + controlbarid + '\">';\r\n            controls += '<div class=\"style-holder ' + skin_style + '\">';\r\n            var status = this.fetch_status_bar('shadow');\r\n            controls += status,\r\n                controls += preview,\r\n                controls += resourceplayer,\r\n\r\n                controls += '<button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_play-resource_shadow\">'\r\n                    + '<span class=\"fa fa-play-circle fa-4x\"></span>'\r\n                    + '</button>';\r\n\r\n            controls += '<button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_stop-resource_shadow\" style=\"display: none;\">'\r\n                + '<span class=\"fa fa-stop-circle fa-4x\"></span>'\r\n                + '</button>';\r\n\r\n            controls += '<button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_start-recording_shadow\">'\r\n                + '<span class=\"fa fa-play-circle fa-4x\"></span>'\r\n                + '<hr style=\"color: white\">'\r\n                + '<span class=\"fa fa-microphone fa-4x\"></span>'\r\n                + '</button>';\r\n\r\n            controls += '<button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_stop-recording_shadow pmr_disabled\" style=\"display: none;\" disabled>'\r\n                + '<span class=\"fa fa-stop-circle fa-4x\"></span>'\r\n                + '</button>';\r\n\r\n            controls += ' <button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_playback-recording_shadow pmr_disabled\" disabled>'\r\n                + '<span class=\"fa fa-play-circle fa-4x\"></span>'\r\n                + '</button>';\r\n\r\n            controls += ' <button type=\"button\" class=\"poodll_mediarecorder_button_shadow poodll_stopplayback-recording_shadow\" style=\"display: none;\">'\r\n                + '<span class=\"fa fa-stop-circle fa-4x\"></span>'\r\n                + '</button>';\r\n\r\n            //completioncheck /*On hold for now Justin 20171007 */\r\n            // controls += ' <div class=\"poodll_mediarecorder_completion_shadow fa fa-circle fa-4x\"></div>';\r\n\r\n            //controls += '<button type=\"button\" class=\"poodll_save-recording_shadow pmr_disabled disabled hide>' + ss['recui_save'] +  '</button>';\r\n\r\n            controls += '<div class=\"marker\" style=\"display: none;\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i></div>';\r\n            controls += '</div></div></div>';\r\n            $(element).prepend(controls);\r\n\r\n            var controlbar = {\r\n                marker: $('#' + controlbarid + '  .marker'),\r\n                status: $('#' + controlbarid + '  .poodll_status_shadow'),\r\n                resourceplayer: $('#' + controlbarid + '  .poodll_resourceplayer_shadow'),\r\n                preview: $('#' + controlbarid + '  .poodll_checkplayer_shadow'),\r\n                resourceplaybutton: $('#' + controlbarid + '  .poodll_play-resource_shadow'),\r\n                resourcestopbutton: $('#' + controlbarid + '  .poodll_stop-resource_shadow'),\r\n                startbutton: $('#' + controlbarid + '  .poodll_start-recording_shadow'),\r\n                stopbutton: $('#' + controlbarid + '  .poodll_stop-recording_shadow'),\r\n                playbackbutton: $('#' + controlbarid + '  .poodll_playback-recording_shadow'),\r\n                stopplaybackbutton: $('#' + controlbarid + '  .poodll_stopplayback-recording_shadow'),\r\n                /*On hold for now Justin 20171007 */\r\n                //completioncheck: $('#' + controlbarid + '  .poodll_mediarecorder_completion_shadow'),\r\n                savebutton: $('#' + controlbarid + '  .poodll_save-recording_shadow')\r\n            };\r\n            return controlbar;\r\n        }, //end of fetch_control_bar_shadow\r\n\r\n\r\n        register_controlbar_events_video: function (onMediaSuccess, controlbarid) {\r\n            return this.register_controlbar_events_audio(onMediaSuccess, controlbarid);\r\n        },\r\n\r\n        register_controlbar_events_audio: function (onMediaSuccess, controlbarid) {\r\n            var self = this;\r\n            var pmr = this.pmr;\r\n            var ip = this.fetch_instanceprops(controlbarid);\r\n\r\n            ip.controlbar.startbutton.click(function () {\r\n\r\n                pmr.do_start_audio(ip, onMediaSuccess);\r\n\r\n            });\r\n\r\n            ip.controlbar.stopbutton.click(function () {\r\n                pmr.do_stop_audio(ip);\r\n                self.disable_button(this);\r\n                var resourceplayer = ip.controlbar.resourceplayer;\r\n                if (resourceplayer && resourceplayer.get(0)) {\r\n                    resourceplayer.get(0).pause();\r\n                }\r\n\r\n                self.set_visual_mode('allstoppedmode', ip);\r\n\r\n                //stop model playback\r\n                self.do_stop_resource(ip);\r\n\r\n\r\n            });\r\n\r\n            ip.controlbar.playbackbutton.click(function () {\r\n                self.disable_button(this);\r\n\r\n\r\n                ip.controlbar.marker.show();\r\n\r\n                var resourceplayer = ip.controlbar.resourceplayer.get(0);\r\n                pmr.do_play_audio(ip, resourceplayer);\r\n                //flag resource player as needing reset\r\n                ip.mustResetResourcePlayer = true;\r\n\r\n                ////reset buttons when finished\r\n                ip.controlbar.resourceplayer.bind('ended', function () {\r\n                    self.set_visual_mode('allstoppedmode', ip);\r\n                });\r\n\r\n                //do visuals\r\n                self.set_visual_mode('playingbackmode', ip);\r\n\r\n                //complete the 'activity'\r\n                self.set_completion(true, ip);\r\n\r\n            });\r\n\r\n            ip.controlbar.stopplaybackbutton.click(function () {\r\n\r\n                self.do_stop_resource(ip);\r\n\r\n                //do visuals\r\n                self.set_visual_mode('allstoppedmode', ip);\r\n\r\n            });\r\n\r\n            ip.controlbar.resourceplaybutton.click(function () {\r\n\r\n                /*GLEN*/\r\n                /*\r\n                $(this).removeClass('shadow-active');\r\n                $('.poodll_stop-resource_shadow').addClass('shadow-active');\r\n                */\r\n\r\n                //actually play resource (or recording)\r\n                self.do_play_resource(ip);\r\n\r\n                ////reset buttons when finished\r\n                ip.controlbar.resourceplayer.bind('ended', function () {\r\n                    if (self.recorded) {\r\n                        self.set_visual_mode('allstoppedmode', ip);\r\n                    } else {\r\n                        self.set_visual_mode('neverrecordedmode', ip);\r\n                    }\r\n                });\r\n\r\n                //do visuals\r\n                self.set_visual_mode('resourceplayingmode', ip);\r\n\r\n            });\r\n\r\n            ip.controlbar.resourcestopbutton.click(function () {\r\n\r\n                /* GLEN */\r\n                //console.log('clicked');\r\n                /*\r\n                $(this).removeClass('shadow-active');\r\n                $('.poodll_start-recording_shadow').addClass('shadow-active');\r\n                */\r\n\r\n                self.do_stop_resource(ip);\r\n\r\n                //do visuals\r\n                if (self.recorded) {\r\n                    self.set_visual_mode('allstoppedmode', ip);\r\n                } else {\r\n                    self.set_visual_mode('neverrecordedmode', ip);\r\n                }\r\n\r\n            });\r\n\r\n            ip.controlbar.savebutton.click(function () {\r\n                self.disable_button(this);\r\n                if (ip.blobs && ip.blobs.length > 0) {\r\n                    pmr.do_save_audio(ip);\r\n                    self.uploaded = true;\r\n                    self.disable_button(ip.controlbar.startbutton);\r\n                } else {\r\n                    ip.uploader.Output(M.util.get_string('recui_nothingtosaveerror', 'filter_poodll'));\r\n                }//end of if self.blobs\t\t\r\n                //probably not necessary  ... but getting odd ajax errors occasionally\r\n                return false;\r\n            });//end of save recording\r\n\r\n            window.onbeforeunload = function () {\r\n                self.enable_button(ip.controlbar.startbutton);\r\n                var preview = ip.controlbar.preview;\r\n                if (preview && preview.get(0)) {\r\n                    preview.get(0).pause();\r\n                }\r\n            };\r\n\r\n        }, //end of register_control_bar_events_shadow\r\n\r\n\r\n        set_completion: function (completed, ip) {\r\n            /*On hold for now Justin 20171007 */\r\n            return;\r\n\r\n            var completioncheck = ip.controlbar.completioncheck;\r\n            if (completed) {\r\n                completioncheck.removeClass('fa-circle');\r\n                completioncheck.addClass('fa-check-circle');\r\n            } else {\r\n                completioncheck.removeClass('fa-check-circle');\r\n                completioncheck.addClass('fa-circle');\r\n            }\r\n        },\r\n\r\n        //DO stop playing the resource\r\n        do_stop_resource: function (ip) {\r\n            console.log('stopped the resource');\r\n            var resourceplayer = ip.controlbar.resourceplayer.get(0);\r\n            resourceplayer.pause();\r\n            resourceplayer.currentTime = 0;\r\n\r\n            if (ip.mustResetResourcePlayer) {\r\n                ip.mustResetResourcePlayer = false;\r\n                resourceplayer.src = ip.config.resource;\r\n                var ppromise = resourceplayer.load();\r\n                /* \r\n\t\t\t\t// playPromise won’t be defined.\r\n\t\t\t\tif (ppromise !== undefined) {\r\n\t\t\t\t\tppromise.then(function() {resourceplayer.pause();});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tresourceplayer.oncanplay(resourceplayer.pause());\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n            }\r\n        },\r\n\r\n\r\n        //do the play of resource\r\n        do_play_resource: function (ip) {\r\n            //if was used to play recording, we need to reset it\r\n            var resourceplayer = ip.controlbar.resourceplayer.get(0);\r\n            resourceplayer.play();\r\n            resourceplayer.currentTime = 0;\r\n        },\r\n\r\n        enable_button: function (button) {\r\n            $(button).attr('disabled', false);\r\n            $(button).removeClass('pmr_disabled');\r\n        },\r\n        disable_button: function (button) {\r\n            $(button).attr('disabled', true);\r\n            $(button).addClass('pmr_disabled');\r\n        },\r\n\r\n    };//end of returned object\r\n\r\n\r\n});//total end\r\n"],"file":"poodll_shadowmediaskin.min.js"}