define(["jquery","core/log"],(function($,log){return log.debug("Radial Progress: initialising"),{playcanvas:null,context:null,x:null,y:null,currenttime:0,enabled:!1,showpercent:!1,drawparams:{lineWidth:10,barColor:"#ad2323",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:10,shadowColor:"#fff",font:"18px Arial",textAlign:"center",textBaseline:"middle"},clone:function(){return $.extend(!0,{},this)},init:function(playcanvas,barcolor,showpercent){this.playcanvas=playcanvas.get(0),this.x=this.playcanvas.width/2,this.y=this.playcanvas.height/2,this.context=this.playcanvas.getContext("2d"),showpercent&&(this.showpercent=showpercent),showpercent&&this.setDrawParam("barColor",barcolor)},setDrawParam:function(paramkey,paramvalue){this.drawparams[paramkey]=paramvalue},clear:function(){this.context.clearRect(0,0,this.playcanvas.width,this.playcanvas.height)},fetchCurrent:function(){return 0},stop:function(){this.enabled=!1},start:function(){this.clear(),this.enabled=!0;var that=this;this.context.lineWidth=this.drawparams.lineWidth,this.context.strokeStyle=this.drawparams.barColor,this.context.setLineDash([]),this.context.shadowOffsetX=this.drawparams.shadowOffsetX,this.context.shadowOffsetY=this.drawparams.shadowOffsetY,this.context.shadowBlur=this.drawparams.shadowBlur,this.context.shadowColor=this.drawparams.shadowColor,this.context.font=this.drawparams.font,this.context.textAlign=this.drawparams.textAlign,this.context.textBaseline=this.drawparams.textBaseline;!function draw(){if(that.enabled){that.clear();var radius=Math.min(that.x,that.y)-that.context.lineWidth,circ=2*Math.PI,quart=Math.PI/2,current=that.fetchCurrent();that.context.beginPath(),that.context.arc(that.x,that.y,radius,-quart,circ*current-quart,!1),that.showpercent&&that.context.fillText(parseInt(100*current)+"%",that.x,that.y),that.context.stroke(),(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)(draw)}}()}}}));

//# sourceMappingURL=anim_progress_radial.min.js.map