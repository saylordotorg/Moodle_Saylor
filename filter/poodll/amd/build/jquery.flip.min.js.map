{"version":3,"sources":["../src/jquery.flip.js"],"names":["factory","define","amd","jQuery","$","flip","$dom","callback","data","rotateAxis","find","css","transform","one","whichTransitionEvent","trigger","call","unflip","t","el","document","createElement","transitions","style","fn","options","each","settings","extend","axis","reverse","speed","forceHeight","forceWidth","autoSize","front","back","length","toLowerCase","perspective","position","speedInSec","faces","add","outerHeight","height","outerWidth","width","window","chrome","Intl","v8BreakIterator","setTimeout","transition","on","tap","event","target","closest","performFlip","off","performUnflip","is","changeSettings","changeNeeded","savedTrans","bind"],"mappings":"AAGC,UAAUA,CAAV,CAAmB,CAChB,GAAsB,UAAlB,QAAOC,CAAAA,MAAP,EAAgCA,MAAM,CAACC,GAA3C,CAAgD,CAE5CD,OAAM,6BAAC,CAAC,QAAD,CAAD,CAAaD,CAAb,CACT,CAHD,IAGO,CAEHA,CAAO,CAACG,MAAD,CACV,CACJ,CARA,EAQC,SAAUC,CAAV,CAAa,IACPC,CAAAA,CAAI,CAAG,SAAUC,CAAV,CAAgBC,CAAhB,CAA0B,CACjCD,CAAI,CAACE,IAAL,CAAU,SAAV,KAEA,GAAIC,CAAAA,CAAU,CAAG,SAAWH,CAAI,CAACE,IAAL,CAAU,MAAV,CAA5B,CACAF,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,OAAV,CAAV,EAA8BG,GAA9B,CAAkC,CAC9BC,SAAS,CAAEH,CAAU,EAAIH,CAAI,CAACE,IAAL,CAAU,SAAV,EAAuB,WAAvB,CAAqC,UAAzC,CADS,CAE9B,UAAW,GAFmB,CAAlC,EAKAF,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,MAAV,CAAV,EAA6BG,GAA7B,CAAiC,CAC7BC,SAAS,CAAEH,CAAU,CAAG,QADK,CAE7B,UAAW,GAFkB,CAAjC,EAMAH,CAAI,CAACO,GAAL,CAASC,CAAoB,EAA7B,CAAiC,UAAY,CACzCV,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,WAAhB,EACA,GAAIR,CAAQ,SAAZ,CAA4B,CACxBA,CAAQ,CAACS,IAAT,CAAc,IAAd,CACH,CACJ,CALD,CAMH,CAtBU,CAwBPC,CAAM,CAAG,SAAUX,CAAV,CAAgBC,CAAhB,CAA0B,CACnCD,CAAI,CAACE,IAAL,CAAU,SAAV,KAEA,GAAIC,CAAAA,CAAU,CAAG,SAAWH,CAAI,CAACE,IAAL,CAAU,MAAV,CAA5B,CACAF,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,OAAV,CAAV,EAA8BG,GAA9B,CAAkC,CAC9BC,SAAS,CAAEH,CAAU,CAAG,QADM,CAE9B,UAAW,GAFmB,CAAlC,EAKAH,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,MAAV,CAAV,EAA6BG,GAA7B,CAAiC,CAC7BC,SAAS,CAAEH,CAAU,EAAIH,CAAI,CAACE,IAAL,CAAU,SAAV,EAAuB,UAAvB,CAAoC,WAAxC,CADQ,CAE7B,UAAW,GAFkB,CAAjC,EAMAF,CAAI,CAACO,GAAL,CAASC,CAAoB,EAA7B,CAAiC,UAAY,CACzCV,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,WAAhB,EACA,GAAIR,CAAQ,SAAZ,CAA4B,CACxBA,CAAQ,CAACS,IAAT,CAAc,IAAd,CACH,CACJ,CALD,CAMH,CA7CU,CA+CPF,CAAoB,CAAG,UAAY,CACnC,GAAII,CAAAA,CAAJ,CACIC,CAAE,CAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CADT,CAEIC,CAAW,CAAG,CACV,WAAc,eADJ,CAEV,YAAe,gBAFL,CAGV,cAAiB,eAHP,CAIV,iBAAoB,qBAJV,CAFlB,CASA,IAAKJ,CAAL,GAAUI,CAAAA,CAAV,CAAuB,CACnB,GAAIH,CAAE,CAACI,KAAH,CAASL,CAAT,UAAJ,CAA+B,CAC3B,MAAOI,CAAAA,CAAW,CAACJ,CAAD,CACrB,CACJ,CACJ,CA9DU,CA+DXd,CAAC,CAACoB,EAAF,CAAKnB,IAAL,CAAY,SAAUoB,CAAV,CAAmBlB,CAAnB,CAA6B,CACrC,GAAsB,UAAlB,QAAOkB,CAAAA,CAAX,CAAkC,CAE9BlB,CAAQ,CAAGkB,CACd,CACD,KAAKC,IAAL,CAAU,UAAY,CAClB,GAAIpB,CAAAA,CAAI,CAAGF,CAAC,CAAC,IAAD,CAAZ,CAEA,GAAIqB,CAAO,SAAP,GAA6C,SAAnB,QAAOA,CAAAA,CAAP,EAAmD,QAAnB,QAAOA,CAAAA,CAAjE,CAAJ,CAA4F,CACxF,GAAe,QAAX,EAAAA,CAAJ,CAAyB,CACrBA,CAAO,CAAG,CAACnB,CAAI,CAACE,IAAL,CAAU,SAAV,CACd,CACD,GAAIiB,CAAJ,CAAa,CACTpB,CAAI,CAACC,CAAD,CAAOC,CAAP,CACP,CAFD,IAEO,CACHU,CAAM,CAACX,CAAD,CAAOC,CAAP,CACT,CAQJ,CAhBD,IAgBO,IAAI,CAACD,CAAI,CAACE,IAAL,CAAU,WAAV,CAAL,CAA6B,CAChCF,CAAI,CAACE,IAAL,CAAU,WAAV,KAEA,GAAImB,CAAAA,CAAQ,CAAGvB,CAAC,CAACwB,MAAF,CAAS,CACpBC,IAAI,CAAE,GADc,CAEpBC,OAAO,GAFa,CAGpBf,OAAO,CAAE,OAHW,CAIpBgB,KAAK,CAAE,GAJa,CAKpBC,WAAW,GALS,CAMpBC,UAAU,GANU,CAOpBC,QAAQ,GAPY,CAQpBC,KAAK,CAAE,MARa,CASpBC,IAAI,CAAE,MATc,CAAT,CAUZX,CAVY,CAAf,CAcA,GAAsB,MAAlB,EAAAE,CAAQ,CAACQ,KAAb,CAA8B,CAC1BR,CAAQ,CAACQ,KAAT,CAA+C,CAA7B,CAAA7B,CAAI,CAACI,IAAL,CAAU,QAAV,EAAoB2B,MAArB,CAAmC,QAAnC,CAA8C,iBAClE,CAFD,IAEO,IAAsB,YAAlB,EAAAV,CAAQ,CAACQ,KAAb,CAAoC,CACvCR,CAAQ,CAACQ,KAAT,CAAiB,iBACpB,CACD,GAAqB,MAAjB,EAAAR,CAAQ,CAACS,IAAb,CAA6B,CAEzBT,CAAQ,CAACS,IAAT,CAA6C,CAA5B,CAAA9B,CAAI,CAACI,IAAL,CAAU,OAAV,EAAmB2B,MAApB,CAAkC,OAAlC,CAA4C,uBAC/D,CAHD,IAGO,IAAqB,YAAjB,EAAAV,CAAQ,CAACS,IAAb,CAAmC,CACtCT,CAAQ,CAACS,IAAT,CAAgB,uBACnB,CAED9B,CAAI,CAACE,IAAL,CAAU,SAAV,CAAqBmB,CAAQ,CAACG,OAA9B,EACAxB,CAAI,CAACE,IAAL,CAAU,MAAV,CAAkBmB,CAAQ,CAACE,IAA3B,EACAvB,CAAI,CAACE,IAAL,CAAU,OAAV,CAAmBmB,CAAQ,CAACQ,KAA5B,EACA7B,CAAI,CAACE,IAAL,CAAU,MAAV,CAAkBmB,CAAQ,CAACS,IAA3B,EAEA,GAAI3B,CAAAA,CAAU,CAAG,UAA2C,GAA/B,EAAAkB,CAAQ,CAACE,IAAT,CAAcS,WAAd,GAAqC,GAArC,CAA2C,GAAvD,CAAjB,CACIC,CAAW,CAAsE,CAAnE,CAAAjC,CAAI,CAAC,SAAyB,SAAd,EAAAG,CAAU,CAAgB,QAAhB,CAA2B,OAAhD,CAAD,CAAJ,EADlB,CAGAH,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,MAAV,CAAV,EAA6BG,GAA7B,CAAiC,CAC7BC,SAAS,CAAEH,CAAU,CAAG,GAAb,EAAoBkB,CAAQ,CAACG,OAAT,CAAmB,QAAnB,CAA8B,SAAlD,EAA+D,GAD7C,CAAjC,EAIAxB,CAAI,CAACK,GAAL,CAAS,CACL4B,WAAW,CAAEA,CADR,CAELC,QAAQ,CAAE,UAFL,CAAT,EAzCgC,GA8C5BC,CAAAA,CAAU,CAAGd,CAAQ,CAACI,KAAT,CAAiB,GAAjB,EAAyB,EA9CV,CA+C5BW,CAAK,CAAGpC,CAAI,CAACI,IAAL,CAAUiB,CAAQ,CAACQ,KAAnB,EAA0BQ,GAA1B,CAA8BhB,CAAQ,CAACS,IAAvC,CAA6C9B,CAA7C,CA/CoB,CAgDhC,GAAIqB,CAAQ,CAACK,WAAb,CAA0B,CACtBU,CAAK,CAACE,WAAN,CAAkBtC,CAAI,CAACuC,MAAL,EAAlB,CACH,CAFD,IAEO,IAAIlB,CAAQ,CAACO,QAAb,CAAuB,CAC1BQ,CAAK,CAAC/B,GAAN,CAAU,CAAC,OAAU,MAAX,CAAV,CACH,CACD,GAAIgB,CAAQ,CAACM,UAAb,CAAyB,CACrBS,CAAK,CAACI,UAAN,CAAiBxC,CAAI,CAACyC,KAAL,EAAjB,CACH,CAFD,IAEO,IAAIpB,CAAQ,CAACO,QAAb,CAAuB,CAC1BQ,CAAK,CAAC/B,GAAN,CAAU,CAAC,MAAS,MAAV,CAAV,CACH,CACD+B,CAAK,CAAC/B,GAAN,CAAU,CACN,sBAAuB,QADjB,CAEN,kBAAmB,aAFb,CAGN6B,QAAQ,CAAE,UAHJ,CAIN,UAAW,GAJL,CAAV,EAMAE,CAAK,CAAChC,IAAN,CAAW,GAAX,EAAgBC,GAAhB,CAAoB,CAChB,sBAAuB,QADP,CAApB,EAGAL,CAAI,CAACI,IAAL,CAAUJ,CAAI,CAACE,IAAL,CAAU,MAAV,CAAV,EAA6BG,GAA7B,CAAiC,CAC7BC,SAAS,CAAEH,CAAU,CAAG,GAAb,EAAoBkB,CAAQ,CAACG,OAAT,CAAmB,QAAnB,CAA8B,SAAlD,EAA+D,GAD7C,CAE7B,UAAW,GAFkB,CAAjC,EAMA,GAAI,CAACkB,MAAM,CAACC,MAAP,EAAkBD,MAAM,CAACE,IAAP,EAAeA,IAAI,CAACC,eAAvC,GAA4D,OAASH,CAAAA,MAAzE,CAAiF,CAE7E1C,CAAI,CAACK,GAAL,CAAS,CAAC,0BAA2B,aAA5B,CAAT,CACH,CAODyC,UAAU,CAAC,UAAY,CAGnBV,CAAK,CAAC/B,GAAN,CAAU,CACN0C,UAAU,CAAE,OAASZ,CAAT,CAAsB,YAD5B,CAAV,EAGA,GAAIlC,CAAQ,SAAZ,CAA4B,CACxBA,CAAQ,CAACS,IAAT,CAAc,IAAd,CACH,CAIJ,CAZS,CAYP,EAZO,CAAV,CAcA,GAAsC,OAAlC,EAAAW,CAAQ,CAACZ,OAAT,CAAiBuB,WAAjB,EAAJ,CAA+C,CAC3ChC,CAAI,CAACgD,EAAL,CAAQlD,CAAC,CAACoB,EAAF,CAAK+B,GAAL,CAAW,UAAX,CAAwB,YAAhC,CAA8C,SAAUC,CAAV,CAAiB,CAC3D,GAAI,CAACA,CAAL,CAAY,CACRA,CAAK,CAAGR,MAAM,CAACQ,KAClB,CACD,GAAIlD,CAAI,CAACI,IAAL,CAAUN,CAAC,CAACoD,CAAK,CAACC,MAAP,CAAD,CAAgBC,OAAhB,CAAwB,mCAAxB,CAAV,EAAsErB,MAA1E,CAAkF,CAC9E,MACH,CAED,GAAI/B,CAAI,CAACE,IAAL,CAAU,SAAV,CAAJ,CAA0B,CACtBS,CAAM,CAACX,CAAD,CACT,CAFD,IAEO,CACHD,CAAI,CAACC,CAAD,CACP,CACJ,CAbD,CAcH,CAfD,IAgBK,IAAsC,OAAlC,EAAAqB,CAAQ,CAACZ,OAAT,CAAiBuB,WAAjB,EAAJ,CAA+C,IAC5CqB,CAAAA,CAAW,CAAG,UAAY,CAC1BrD,CAAI,CAACsD,GAAL,CAAS,iBAAT,EAEAvD,CAAI,CAACC,CAAD,CAAJ,CAEA8C,UAAU,CAAC,UAAY,CACnB9C,CAAI,CAACgD,EAAL,CAAQ,iBAAR,CAA2BO,CAA3B,EACA,GAAI,CAACvD,CAAI,CAACwD,EAAL,CAAQ,QAAR,CAAL,CAAwB,CACpB7C,CAAM,CAACX,CAAD,CACT,CACJ,CALS,CAKNqB,CAAQ,CAACI,KAAT,CAAiB,GALX,CAMb,CAZ+C,CAc5C8B,CAAa,CAAG,UAAY,CAC5B5C,CAAM,CAACX,CAAD,CACT,CAhB+C,CAkBhDA,CAAI,CAACgD,EAAL,CAAQ,iBAAR,CAA2BK,CAA3B,EACArD,CAAI,CAACgD,EAAL,CAAQ,iBAAR,CAA2BO,CAA3B,CACH,CACJ,CAtIM,IAsIA,CAEH,GAAIpC,CAAO,GAAKA,CAAO,CAACI,IAAR,WAA8BJ,CAAO,CAACK,OAAR,SAAnC,CAAX,CAA8E,CAC1EiC,CAAc,CAAC/C,IAAf,CAAoB,IAApB,CAA0BS,CAA1B,CAAmC,UAAY,CAC3CnB,CAAI,CAACS,OAAL,CAAa,aAAb,EACA,GAAIR,CAAQ,SAAZ,CAA4B,CACxBA,CAAQ,CAACS,IAAT,CAAc,IAAd,CACH,CACJ,CALD,CAMH,CACJ,CACJ,CApKD,EAsKA,MAAO,KACV,CA5KD,CA6KA,GAAI+C,CAAAA,CAAc,CAAG,SAAUtC,CAAV,CAAmBlB,CAAnB,CAA6B,CAC9C,GAAIyD,CAAAA,CAAY,GAAhB,CACA,GAAIvC,CAAO,CAACI,IAAR,WAA8BzB,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,GAAwBiB,CAAO,CAACI,IAAR,CAAaS,WAAb,EAA1D,CAAsF,CAClFlC,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,CAAqBiB,CAAO,CAACI,IAAR,CAAaS,WAAb,EAArB,EACA0B,CAAY,GACf,CACD,GAAIvC,CAAO,CAACK,OAAR,WAAiC1B,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,SAAb,GAA2BiB,CAAO,CAACK,OAAxE,CAAiF,CAC7E1B,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,SAAb,CAAwBiB,CAAO,CAACK,OAAhC,EACAkC,CAAY,GACf,CACD,GAAIA,CAAJ,CAAkB,IACVtB,CAAAA,CAAK,CAAGtC,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAaN,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,OAAb,CAAb,EAAoCmC,GAApC,CAAwCvC,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,CAAxC,CAA8DJ,CAAC,CAAC,IAAD,CAA/D,CADE,CAEV6D,CAAU,CAAGvB,CAAK,CAAC/B,GAAN,CAAU,YAAV,CAFH,CAGd+B,CAAK,CAAC/B,GAAN,CAAU,CACN0C,UAAU,CAAE,MADN,CAAV,EASA,GAAI5C,CAAAA,CAAU,CAAG,SAAWL,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,CAA5B,CACA,GAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,SAAb,CAAJ,CAA6B,CACzBJ,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAaN,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,OAAb,CAAb,EAAoCG,GAApC,CAAwC,CACpCC,SAAS,CAAEH,CAAU,EAAIL,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,SAAb,EAA0B,WAA1B,CAAwC,UAA5C,CADe,CAEpC,UAAW,GAFyB,CAAxC,CAIH,CALD,IAKO,CACHJ,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAaN,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,CAAb,EAAmCG,GAAnC,CAAuC,CACnCC,SAAS,CAAEH,CAAU,CAAG,GAAb,EAAoBL,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,SAAb,EAA0B,QAA1B,CAAqC,SAAzD,EAAsE,GAD9C,CAEnC,UAAW,GAFwB,CAAvC,CAIH,CAED4C,UAAU,CAAC,UAAY,CACnBV,CAAK,CAAC/B,GAAN,CAAU,CACN0C,UAAU,CAAEY,CADN,CAAV,EAGA1D,CAAQ,CAACS,IAAT,CAAc,IAAd,CACH,CALU,CAKTkD,IALS,CAKJ,IALI,CAAD,CAKI,CALJ,CAMb,CA/BD,IA+BO,CAEHd,UAAU,CAAC7C,CAAQ,CAAC2D,IAAT,CAAc,IAAd,CAAD,CAAsB,CAAtB,CACb,CACJ,CACJ,CAlSA,CAAD","sourcesContent":["/*! flip - v1.0.19 - 2016-01-04\n* https://github.com/nnattawat/flip\n* Copyright (c) 2016 Nattawat Nonsung; Licensed MIT */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    var flip = function ($dom, callback) {\n        $dom.data(\"flipped\", true);\n\n        var rotateAxis = \"rotate\" + $dom.data(\"axis\");\n        $dom.find($dom.data(\"front\")).css({\n            transform: rotateAxis + ($dom.data(\"reverse\") ? \"(-180deg)\" : \"(180deg)\"),\n            \"z-index\": \"0\"\n        });\n\n        $dom.find($dom.data(\"back\")).css({\n            transform: rotateAxis + \"(0deg)\",\n            \"z-index\": \"1\"\n        });\n\n        //Providing a nicely wrapped up callback because transform is essentially async\n        $dom.one(whichTransitionEvent(), function () {\n            $(this).trigger('flip:done');\n            if (callback !== undefined) {\n                callback.call(this);\n            }\n        });\n    };\n\n    var unflip = function ($dom, callback) {\n        $dom.data(\"flipped\", false);\n\n        var rotateAxis = \"rotate\" + $dom.data(\"axis\");\n        $dom.find($dom.data(\"front\")).css({\n            transform: rotateAxis + \"(0deg)\",\n            \"z-index\": \"1\"\n        });\n\n        $dom.find($dom.data(\"back\")).css({\n            transform: rotateAxis + ($dom.data(\"reverse\") ? \"(180deg)\" : \"(-180deg)\"),\n            \"z-index\": \"0\"\n        });\n\n        //Providing a nicely wrapped up callback because transform is essentially async\n        $dom.one(whichTransitionEvent(), function () {\n            $(this).trigger('flip:done');\n            if (callback !== undefined) {\n                callback.call(this);\n            }\n        });\n    };\n    // Function from David Walsh: http://davidwalsh.name/css-animation-callback licensed with http://opensource.org/licenses/MIT\n    var whichTransitionEvent = function () {\n        var t,\n            el = document.createElement(\"fakeelement\"),\n            transitions = {\n                \"transition\": \"transitionend\",\n                \"OTransition\": \"oTransitionEnd\",\n                \"MozTransition\": \"transitionend\",\n                \"WebkitTransition\": \"webkitTransitionEnd\"\n            };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined) {\n                return transitions[t];\n            }\n        }\n    };\n    $.fn.flip = function (options, callback) {\n        if (typeof options == 'function') {\n            //This allows flip to be called for setup with only a callback (default settings)\n            callback = options;\n        }\n        this.each(function () {\n            var $dom = $(this);\n\n            if (options !== undefined && (typeof(options) == \"boolean\" || typeof(options) == \"string\")) { // Force flip the DOM\n                if (options == \"toggle\") {\n                    options = !$dom.data(\"flipped\");\n                }\n                if (options) {\n                    flip($dom, callback);\n                } else {\n                    unflip($dom, callback);\n                }\n                // //Providing a nicely wrapped up callback because transform is essentially async\n                //  $(this).one(whichTransitionEvent(), function(){\n                //     $(this).trigger('flip:done');\n                //     if (callback !== undefined){\n                //       callback.call(this);\n                //     }\n                //   });\n            } else if (!$dom.data(\"initiated\")) { //Init flipable DOM\n                $dom.data(\"initiated\", true);\n\n                var settings = $.extend({\n                    axis: \"y\",\n                    reverse: false,\n                    trigger: \"click\",\n                    speed: 500,\n                    forceHeight: false,\n                    forceWidth: false,\n                    autoSize: true,\n                    front: 'auto',\n                    back: 'auto'\n                }, options);\n\n                //By defualt we first check for the old front and back selectors for backward compatibility\n                //if they arent there we fall back to auto selecting the first and second div\n                if (settings.front == \"auto\") {\n                    settings.front = ($dom.find('.front').length > 0) ? '.front' : 'div:first-child';\n                } else if (settings.front == \"autostrict\") {\n                    settings.front = 'div:first-child';\n                }\n                if (settings.back == \"auto\") {\n                    //Note, we must use the old 'div:first-child + div' for IE compatibility\n                    settings.back = ($dom.find('.back').length > 0) ? '.back' : 'div:first-child + div';\n                } else if (settings.back == \"autostrict\") {\n                    settings.back = 'div:first-child + div';\n                }\n                // save reverse and axis css to DOM for performing flip\n                $dom.data(\"reverse\", settings.reverse);\n                $dom.data(\"axis\", settings.axis);\n                $dom.data(\"front\", settings.front);\n                $dom.data(\"back\", settings.back);\n\n                var rotateAxis = \"rotate\" + (settings.axis.toLowerCase() == \"x\" ? \"x\" : \"y\"),\n                    perspective = $dom[\"outer\" + (rotateAxis == \"rotatex\" ? \"Height\" : \"Width\")]() * 2;\n\n                $dom.find($dom.data(\"back\")).css({\n                    transform: rotateAxis + \"(\" + (settings.reverse ? \"180deg\" : \"-180deg\") + \")\"\n                });\n\n                $dom.css({\n                    perspective: perspective,\n                    position: \"relative\"\n                });\n\n                var speedInSec = settings.speed / 1000 || 0.5;\n                var faces = $dom.find(settings.front).add(settings.back, $dom);\n                if (settings.forceHeight) {\n                    faces.outerHeight($dom.height());\n                } else if (settings.autoSize) {\n                    faces.css({'height': '100%'});\n                }\n                if (settings.forceWidth) {\n                    faces.outerWidth($dom.width());\n                } else if (settings.autoSize) {\n                    faces.css({'width': '100%'});\n                }\n                faces.css({\n                    \"backface-visibility\": \"hidden\",\n                    \"transform-style\": \"preserve-3d\",\n                    position: \"absolute\",\n                    \"z-index\": \"1\"\n                });\n                faces.find('*').css({\n                    \"backface-visibility\": \"hidden\"\n                });\n                $dom.find($dom.data(\"back\")).css({\n                    transform: rotateAxis + \"(\" + (settings.reverse ? \"180deg\" : \"-180deg\") + \")\",\n                    \"z-index\": \"0\"\n                });\n\n                // Back face always visible on Chrome #39\n                if ((window.chrome || (window.Intl && Intl.v8BreakIterator)) && 'CSS' in window) {\n                    //Blink Engine, add preserve-3d to $dom\n                    $dom.css({\"-webkit-transform-style\": \"preserve-3d\"});\n                }\n                // /#39\n\n                // not forcing width/height may cause an initial flip to show up on\n                // page load when we apply the style to reverse the backface...\n                // To prevent this we first apply the basic styles and then give the\n                // browser a moment to apply them. Only afterwards do we add the transition.\n                setTimeout(function () {\n                    // By now the browser should have applied the styles, so the transition\n                    // will only affect subsequent flips.\n                    faces.css({\n                        transition: \"all \" + speedInSec + \"s ease-out\"\n                    });\n                    if (callback !== undefined) {\n                        callback.call(this);\n                    }\n                    //While this used to work with a setTimeout of zero, at some point that became\n                    //unstable and the initial flip returned. The reason for this is unknown but we\n                    //will temporarily use a short delay of 20 to mitigate this issue.\n                }, 20);\n\n                if (settings.trigger.toLowerCase() == \"click\") {\n                    $dom.on($.fn.tap ? \"tap.flip\" : \"click.flip\", function (event) {\n                        if (!event) {\n                            event = window.event;\n                        }\n                        if ($dom.find($(event.target).closest('button, a, input[type=\"submit\"]')).length) {\n                            return;\n                        }\n\n                        if ($dom.data(\"flipped\")) {\n                            unflip($dom);\n                        } else {\n                            flip($dom);\n                        }\n                    });\n                }\n                else if (settings.trigger.toLowerCase() == \"hover\") {\n                    var performFlip = function () {\n                        $dom.off('mouseleave.flip');\n\n                        flip($dom);\n\n                        setTimeout(function () {\n                            $dom.on('mouseleave.flip', performUnflip);\n                            if (!$dom.is(\":hover\")) {\n                                unflip($dom);\n                            }\n                        }, (settings.speed + 150));\n                    };\n\n                    var performUnflip = function () {\n                        unflip($dom);\n                    };\n\n                    $dom.on('mouseenter.flip', performFlip);\n                    $dom.on('mouseleave.flip', performUnflip);\n                }\n            } else {\n                //The element has been initiated, all we have to do is change applicable settings\n                if (options && (options.axis !== undefined || options.reverse !== undefined)) {\n                    changeSettings.call(this, options, function () {\n                        $dom.trigger('flip:change');\n                        if (callback !== undefined) {\n                            callback.call(this);\n                        }\n                    });\n                }\n            }\n        });\n\n        return this;\n    };\n    var changeSettings = function (options, callback) {\n        var changeNeeded = false;\n        if (options.axis !== undefined && $(this).data(\"axis\") != options.axis.toLowerCase()) {\n            $(this).data(\"axis\", options.axis.toLowerCase());\n            changeNeeded = true;\n        }\n        if (options.reverse !== undefined && $(this).data(\"reverse\") != options.reverse) {\n            $(this).data(\"reverse\", options.reverse);\n            changeNeeded = true;\n        }\n        if (changeNeeded) {\n            var faces = $(this).find($(this).data(\"front\")).add($(this).data(\"back\"), $(this));\n            var savedTrans = faces.css(\"transition\");\n            faces.css({\n                transition: \"none\"\n            });\n            //Only setting the axis if it needs to be\n\n            //options.axis = options.axis.toLowerCase();\n            //$(this).data(\"axis\", options.axis);\n\n            //This sets up the first flip in the new direction automatically\n            var rotateAxis = \"rotate\" + $(this).data(\"axis\");\n            if ($(this).data(\"flipped\")) {\n                $(this).find($(this).data(\"front\")).css({\n                    transform: rotateAxis + ($(this).data(\"reverse\") ? \"(-180deg)\" : \"(180deg)\"),\n                    \"z-index\": \"0\"\n                });\n            } else {\n                $(this).find($(this).data(\"back\")).css({\n                    transform: rotateAxis + \"(\" + ($(this).data(\"reverse\") ? \"180deg\" : \"-180deg\") + \")\",\n                    \"z-index\": \"0\"\n                });\n            }\n            //Providing a nicely wrapped up callback because transform is essentially async\n            setTimeout(function () {\n                faces.css({\n                    transition: savedTrans\n                });\n                callback.call(this);\n            }.bind(this), 0);\n        } else {\n            //If we didnt have to set the axis we can just call back.\n            setTimeout(callback.bind(this), 0);\n        }\n    };\n}));\n"],"file":"jquery.flip.min.js"}