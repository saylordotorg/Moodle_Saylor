define(["jquery","core/log"],(function($,log){return log.debug("aws_instant: initialising"),{final_transcript:"",start_timestamp:0,transcriber:null,clone:function(){return $.extend(!0,{},this)},will_work_ok:function(opts){var ret=!1;switch(opts.language){case"en-AU":case"en-GB":case"en-US":case"es-US":case"fr-FR":case"fr-CA":ret=!0;break;default:ret=!1}if(ret)switch(opts.region){case"useast1":case"useast2":case"uswest2":case"sydney":case"dublin":case"ottawa":ret=!0;break;default:ret=!1}return ret},init:function(opts){var that=this;require(["https://cdn.jsdelivr.net/gh/justinhunt/cloudpoodll@latest/amd/build/awstranscriber.min.js"],(function(transcriber){that.transcriber=transcriber,opts.expiretime=300,opts.token=opts.wstoken,opts.wsserver=M.cfg.wwwroot,that.transcriber.init(opts),that.register_events()}))},set_grammar:function(grammar){},start:function(stream){this.transcriber.active||(this.final_transcript="",this.transcriber.start(stream,this.transcriber),this.ignore_onend=!1,this.start_timestamp=Date.now())},stop:function(){this.transcriber.active&&this.transcriber.stop(this.transcriber)},register_events:function(){var that=this;this.transcriber.onFinalResult=function(speechtext,speechresults){that.onfinalspeechcapture(speechtext,speechresults)}},onfinalspeechcapture:function(speechtext,speechresults){log.debug(speechtext)},oninterimspeechcapture:function(speechtext){}}}));

//# sourceMappingURL=speech_awstranscriber.min.js.map