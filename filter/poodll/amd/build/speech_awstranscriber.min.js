define(["jquery","core/log"],function(a,b){"use strict";return b.debug("aws_instant: initialising"),{final_transcript:"",start_timestamp:0,transcriber:null,clone:function(){return a.extend(!0,{},this)},will_work_ok:function(a){var b=!1;switch(a.language){case"en-AU":case"en-GB":case"en-US":case"es-US":case"fr-FR":case"fr-CA":b=!0;break;default:b=!1}if(b)switch(a.region){case"useast1":case"useast2":case"uswest2":case"sydney":case"dublin":case"ottawa":b=!0;break;default:b=!1}return b},init:function(a){var b=this;require(["https://cdn.jsdelivr.net/gh/justinhunt/cloudpoodll@latest/amd/build/awstranscriber.min.js"],function(c){b.transcriber=c,a.expiretime=300,a.token=a.wstoken,a.wsserver=M.cfg.wwwroot,b.transcriber.init(a),b.register_events()})},set_grammar:function(a){},start:function(a){this.transcriber.active||(this.final_transcript="",this.transcriber.start(a,this.transcriber),this.ignore_onend=!1,this.start_timestamp=Date.now())},stop:function(){this.transcriber.active&&this.transcriber.stop(this.transcriber)},register_events:function(){var a=this;this.transcriber.onFinalResult=function(b,c){a.onfinalspeechcapture(b,c)}},onfinalspeechcapture:function(a,c){b.debug(a)},oninterimspeechcapture:function(a){}}});