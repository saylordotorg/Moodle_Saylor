define(["jquery","core/log"],function(a,b){"use strict";return b.debug("audioanalyser: initialising"),{acontext:null,core:null,freq_data:null,wav_data:null,theinterval:null,clone:function(){return a.extend(!0,{},this)},clear:function(){clearInterval(this.theinterval),this.theinterval=null},init:function(a){this.theinterval&&this.clear(),this.acontext=a,this.core=this.acontext.createAnalyser()},start:function(){this.theinterval&&this.clear();var a=this.core.frequencyBinCount;this.freq_data=new Uint8Array(a),this.wav_data=new Uint8Array(a);var b=this;this.theinterval=setInterval(function(){b.process_recent_data(b)},2e3)},process_recent_data:function(a){a.core.getByteTimeDomainData(a.wav_data),a.wav_event(a.wav_data),a.core.getByteFrequencyData(a.freq_data),a.freq_event(a.freq_data)},wav_event:function(a){},freq_event:function(a){}}});