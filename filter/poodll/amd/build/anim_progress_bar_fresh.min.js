define ("filter_poodll/anim_progress_bar_fresh",["jquery","core/log"],function(a,b){"use strict";b.debug("Bar Progress: initialising");return{waveroot:null,playcanvas:null,context:null,startx:null,starty:null,barwidth:null,barheight:null,enabled:!1,drawparams:{barColor:"#6DDC6F",textColor:"#fff",font:"12px Arial",textAlign:"center"},clone:function clone(){return a.extend(!0,{},this)},init:function init(a){this.playcanvas=a.get(0);this.startx=0;this.starty=0;this.barwidth=this.playcanvas.width;this.barheight=this.playcanvas.height;this.context=this.playcanvas.getContext("2d")},test:function test(a){var b=a,c=b.core.fftSize,d=new Uint8Array(c);console.log(b)},readyBars:function readyBars(){var b=a(".poodll_fresh_wave"),c=a("<div class=\"poodll_fresh_progress_bar\"><span></span></div>"),d=b.width()/4;d.toFixed();b.empty();for(var e=0;e<d;e++){var f=a("<div class=\"poodll_fresh_point\"><div class=\"poodll_fresh_stick\" style=\"height: 8px\"></div></div>");b.append(f)}b.append(c)},playBars:function playBars(b,c){var d=this,e=a(".poodll_fresh_wave"),f=a(".poodll_fresh_progress_bar"),g=e.width()/4;e.attr("data-ct",b).attr("data-duration",c);g.toFixed();var h=a(".poodll_fresh_point");a.each(h,function(a){if(h[a].children[0]){h[a].children[0].style.height="4px"}});var j=function(){var b=[];a.each(h,function(a){var c=Math.floor(50*Math.random()+4);b.push(c);var d=b[i]||4;h[a].children[0].style.height=d+"px"});f.css("left",100*d.fetchCurrent()+"%");var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(1>d.fetchCurrent()){console.log(d.fetchCurrent());c(j)}};j()},pauseBars:function pauseBars(){},setDrawParam:function setDrawParam(a,b){this.drawparams[a]=b},clear:function clear(){this.context.clearRect(this.startx,this.starty,this.barwidth,this.barheight)},fetchCurrent:function fetchCurrent(){return 0},stop:function stop(){this.enabled=!1;this.clear()},stopthere:function stopthere(){this.enabled=!1},start:function start(){this.clear();this.enabled=!0;var a=this;this.context.textAlign=this.drawparams.textAlign;this.context.font=this.drawparams.font;var b=this.drawparams.textColor,c=function(){if(!a.enabled){return}a.clear();a.context.fillStyle=a.drawparams.barColor;a.context.fillRect(a.startx,a.starty,a.fetchCurrent()*a.barwidth,a.barheight);var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;b(c)};c()}}});
//# sourceMappingURL=anim_progress_bar_fresh.min.js.map
