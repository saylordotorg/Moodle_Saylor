{"version":3,"sources":["../src/webcam.js"],"names":["e","t","a","Error","apply","arguments","name","stack","message","s","IntermediateInheritor","prototype","Webcam","version","protocol","location","match","loaded","live","userMedia","params","width","height","dest_width","dest_height","image_format","jpeg_quality","enable_flash","force_flash","flip_horiz","fps","upload_name","constraints","swfURL","flashNotDetectedText","noInterfaceFoundText","unfreeze_snap","errors","FlashError","WebcamError","hooks","init","mediaDevices","navigator","getUserMedia","mozGetUserMedia","webkitGetUserMedia","Promise","call","URL","webkitURL","mozURL","msURL","userAgent","parseInt","RegExp","$1","addEventListener","reset","attach","document","getElementById","querySelector","dispatch","container","innerHTML","i","createElement","appendChild","peg","offsetWidth","offsetHeight","r","o","n","setAttribute","style","overflow","webkitTransformOrigin","mozTransformOrigin","msTransformOrigin","oTransformOrigin","transformOrigin","webkitTransform","mozTransform","msTransform","oTransform","transform","video","h","audio","mandatory","minWidth","minHeight","then","onloadedmetadata","stream","flip","srcObject","catch","detectFlash","setTimeout","l","getSWFHTML","crop_width","crop_height","c","Math","floor","m","scrollLeft","scrollTop","preview_active","unfreeze","unflip","getVideoTracks","stop","getMovie","_releaseCamera","set","length","on","replace","toLowerCase","push","off","indexOf","splice","Array","slice","toString","alert","setSWFLocation","plugins","description","mimeTypes","enabledPlugin","ActiveXObject","GetVariable","getElementsByTagName","getAttribute","localStorage","getItem","new_user","setItem","escape","_snap","freeze","getContext","preview_canvas","preview_context","snap","position","left","top","insertBefore","removeChild","filter","msFilter","savePreview","drawImage","toDataURL","translate","scale","src","Image","onload","configure","_configure","flashNotify","b64ToUint6","base64DecToArr","ceil","Uint8Array","charCodeAt","upload","XMLHttpRequest","open","lengthComputable","total","status","responseText","statusText","Blob","type","FormData","append","send","define","amd","module","exports","window"],"mappings":"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","sourcesContent":["// WebcamJS v1.0.15 - http://github.com/jhuckaby/webcamjs - MIT Licensed\n(function(e){var t;function a(){var e=Error.apply(this,arguments);e.name=this.name=\"FlashError\";this.stack=e.stack;this.message=e.message}function s(){var e=Error.apply(this,arguments);e.name=this.name=\"WebcamError\";this.stack=e.stack;this.message=e.message}IntermediateInheritor=function(){};IntermediateInheritor.prototype=Error.prototype;a.prototype=new IntermediateInheritor;s.prototype=new IntermediateInheritor;var Webcam={version:\"1.0.15\",protocol:location.protocol.match(/https/i)?\"https\":\"http\",loaded:false,live:false,userMedia:true,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:\"jpeg\",jpeg_quality:90,enable_flash:true,force_flash:false,flip_horiz:false,fps:30,upload_name:\"webcam\",constraints:null,swfURL:\"\",flashNotDetectedText:\"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).\",noInterfaceFoundText:\"No supported webcam interface found.\",unfreeze_snap:true},errors:{FlashError:a,WebcamError:s},hooks:{},init:function(){var t=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new Promise(function(t,a){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,a)})}}:null;e.URL=e.URL||e.webkitURL||e.mozURL||e.msURL;this.userMedia=this.userMedia&&!!this.mediaDevices&&!!e.URL;if(navigator.userAgent.match(/Firefox\\D+(\\d+)/)){if(parseInt(RegExp.$1,10)<21)this.userMedia=null}if(this.userMedia){e.addEventListener(\"beforeunload\",function(e){t.reset()})}},attach:function(a){if(typeof a==\"string\"){a=document.getElementById(a)||document.querySelector(a)}if(!a){return this.dispatch(\"error\",new s(\"Could not locate DOM element to attach to.\"))}this.container=a;a.innerHTML=\"\";var i=document.createElement(\"div\");a.appendChild(i);this.peg=i;if(!this.params.width)this.params.width=a.offsetWidth;if(!this.params.height)this.params.height=a.offsetHeight;if(!this.params.width||!this.params.height){return this.dispatch(\"error\",new s(\"No width and/or height for webcam.  Please call set() first, or attach to a visible element.\"))}if(!this.params.dest_width)this.params.dest_width=this.params.width;if(!this.params.dest_height)this.params.dest_height=this.params.height;this.userMedia=t===undefined?this.userMedia:t;if(this.params.force_flash){t=this.userMedia;this.userMedia=null}if(typeof this.params.fps!==\"number\")this.params.fps=30;var r=this.params.width/this.params.dest_width;var o=this.params.height/this.params.dest_height;if(this.userMedia){var n=document.createElement(\"video\");n.setAttribute(\"autoplay\",\"autoplay\");n.style.width=\"\"+this.params.dest_width+\"px\";n.style.height=\"\"+this.params.dest_height+\"px\";if(r!=1||o!=1){a.style.overflow=\"hidden\";n.style.webkitTransformOrigin=\"0px 0px\";n.style.mozTransformOrigin=\"0px 0px\";n.style.msTransformOrigin=\"0px 0px\";n.style.oTransformOrigin=\"0px 0px\";n.style.transformOrigin=\"0px 0px\";n.style.webkitTransform=\"scaleX(\"+r+\") scaleY(\"+o+\")\";n.style.mozTransform=\"scaleX(\"+r+\") scaleY(\"+o+\")\";n.style.msTransform=\"scaleX(\"+r+\") scaleY(\"+o+\")\";n.style.oTransform=\"scaleX(\"+r+\") scaleY(\"+o+\")\";n.style.transform=\"scaleX(\"+r+\") scaleY(\"+o+\")\"}a.appendChild(n);this.video=n;var h=this;this.mediaDevices.getUserMedia({audio:false,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(t){n.onloadedmetadata=function(e){h.stream=t;h.loaded=true;h.live=true;h.dispatch(\"load\");h.dispatch(\"live\");h.flip()};n.srcObject=t||t}).catch(function(e){if(h.params.enable_flash&&h.detectFlash()){setTimeout(function(){h.params.force_flash=1;h.attach(a)},1)}else{h.dispatch(\"error\",e)}})}else if(this.params.enable_flash&&this.detectFlash()){e.Webcam=Webcam;var l=document.createElement(\"div\");l.innerHTML=this.getSWFHTML();a.appendChild(l)}else{this.dispatch(\"error\",new s(this.params.noInterfaceFoundText))}if(this.params.crop_width&&this.params.crop_height){var c=Math.floor(this.params.crop_width*r);var m=Math.floor(this.params.crop_height*o);a.style.width=\"\"+c+\"px\";a.style.height=\"\"+m+\"px\";a.style.overflow=\"hidden\";a.scrollLeft=Math.floor(this.params.width/2-c/2);a.scrollTop=Math.floor(this.params.height/2-m/2)}else{a.style.width=\"\"+this.params.width+\"px\";a.style.height=\"\"+this.params.height+\"px\"}},reset:function(){if(this.preview_active)this.unfreeze();this.unflip();if(this.userMedia){if(this.stream){if(this.stream.getVideoTracks){var e=this.stream.getVideoTracks();if(e&&e[0]&&e[0].stop)e[0].stop()}else if(this.stream.stop){this.stream.stop()}}delete this.stream;delete this.video}if(this.userMedia!==true){this.getMovie()._releaseCamera()}if(this.container){this.container.innerHTML=\"\";delete this.container}this.loaded=false;this.live=false},set:function(){if(arguments.length==1){for(var e in arguments[0]){this.params[e]=arguments[0][e]}}else{this.params[arguments[0]]=arguments[1]}},on:function(e,t){e=e.replace(/^on/i,\"\").toLowerCase();if(!this.hooks[e])this.hooks[e]=[];this.hooks[e].push(t)},off:function(e,t){e=e.replace(/^on/i,\"\").toLowerCase();if(this.hooks[e]){if(t){var a=this.hooks[e].indexOf(t);if(a>-1)this.hooks[e].splice(a,1)}else{this.hooks[e]=[]}}},dispatch:function(){var t=arguments[0].replace(/^on/i,\"\").toLowerCase();var i=Array.prototype.slice.call(arguments,1);if(this.hooks[t]&&this.hooks[t].length){for(var r=0,o=this.hooks[t].length;r<o;r++){var n=this.hooks[t][r];if(typeof n==\"function\"){n.apply(this,i)}else if(typeof n==\"object\"&&n.length==2){n[0][n[1]].apply(n[0],i)}else if(e[n]){e[n].apply(e,i)}}return true}else if(t==\"error\"){if(i[0]instanceof a||i[0]instanceof s){message=i[0].message}else{message=\"Could not access webcam: \"+i[0].name+\": \"+i[0].message+\" \"+i[0].toString()}alert(\"Webcam.js Error: \"+message)}return false},setSWFLocation:function(e){this.set(\"swfURL\",e)},detectFlash:function(){var t=\"Shockwave Flash\",a=\"ShockwaveFlash.ShockwaveFlash\",s=\"application/x-shockwave-flash\",i=e,r=navigator,o=false;if(typeof r.plugins!==\"undefined\"&&typeof r.plugins[t]===\"object\"){var n=r.plugins[t].description;if(n&&(typeof r.mimeTypes!==\"undefined\"&&r.mimeTypes[s]&&r.mimeTypes[s].enabledPlugin)){o=true}}else if(typeof i.ActiveXObject!==\"undefined\"){try{var h=new ActiveXObject(a);if(h){var l=h.GetVariable(\"$version\");if(l)o=true}}catch(c){}}return o},getSWFHTML:function(){var t=\"\",s=this.params.swfURL;if(location.protocol.match(/file/)){this.dispatch(\"error\",new a(\"Flash does not work from local disk.  Please run from a web server.\"));return'<h3 style=\"color:red\">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>'}if(!this.detectFlash()){this.dispatch(\"error\",new a(\"Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.\"));return'<h3 style=\"color:red\">'+this.params.flashNotDetectedText+\"</h3>\"}if(!s){var i=\"\";var r=document.getElementsByTagName(\"script\");for(var o=0,n=r.length;o<n;o++){var h=r[o].getAttribute(\"src\");if(h&&h.match(/\\/webcam(\\.min)?\\.js/)){i=h.replace(/\\/webcam(\\.min)?\\.js.*$/,\"\");o=n}}if(i)s=i+\"/webcam.swf\";else s=\"webcam.swf\"}if(e.localStorage&&!localStorage.getItem(\"visited\")){this.params.new_user=1;localStorage.setItem(\"visited\",1)}var l=\"\";for(var c in this.params){if(l)l+=\"&\";l+=c+\"=\"+escape(this.params[c])}t+='<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" type=\"application/x-shockwave-flash\" codebase=\"'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0\" width=\"'+this.params.width+'\" height=\"'+this.params.height+'\" id=\"webcam_movie_obj\" align=\"middle\"><param name=\"wmode\" value=\"opaque\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"false\" /><param name=\"movie\" value=\"'+s+'\" /><param name=\"loop\" value=\"false\" /><param name=\"menu\" value=\"false\" /><param name=\"quality\" value=\"best\" /><param name=\"bgcolor\" value=\"#ffffff\" /><param name=\"flashvars\" value=\"'+l+'\"/><embed id=\"webcam_movie_embed\" src=\"'+s+'\" wmode=\"opaque\" loop=\"false\" menu=\"false\" quality=\"best\" bgcolor=\"#ffffff\" width=\"'+this.params.width+'\" height=\"'+this.params.height+'\" name=\"webcam_movie_embed\" align=\"middle\" allowScriptAccess=\"always\" allowFullScreen=\"false\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" flashvars=\"'+l+'\"></embed></object>';return t},getMovie:function(){if(!this.loaded)return this.dispatch(\"error\",new a(\"Flash Movie is not loaded yet\"));var e=document.getElementById(\"webcam_movie_obj\");if(!e||!e._snap)e=document.getElementById(\"webcam_movie_embed\");if(!e)this.dispatch(\"error\",new a(\"Cannot locate Flash movie in DOM\"));return e},freeze:function(){var e=this;var t=this.params;if(this.preview_active)this.unfreeze();var a=this.params.width/this.params.dest_width;var s=this.params.height/this.params.dest_height;this.unflip();var i=t.crop_width||t.dest_width;var r=t.crop_height||t.dest_height;var o=document.createElement(\"canvas\");o.width=i;o.height=r;var n=o.getContext(\"2d\");this.preview_canvas=o;this.preview_context=n;if(a!=1||s!=1){o.style.webkitTransformOrigin=\"0px 0px\";o.style.mozTransformOrigin=\"0px 0px\";o.style.msTransformOrigin=\"0px 0px\";o.style.oTransformOrigin=\"0px 0px\";o.style.transformOrigin=\"0px 0px\";o.style.webkitTransform=\"scaleX(\"+a+\") scaleY(\"+s+\")\";o.style.mozTransform=\"scaleX(\"+a+\") scaleY(\"+s+\")\";o.style.msTransform=\"scaleX(\"+a+\") scaleY(\"+s+\")\";o.style.oTransform=\"scaleX(\"+a+\") scaleY(\"+s+\")\";o.style.transform=\"scaleX(\"+a+\") scaleY(\"+s+\")\"}this.snap(function(){o.style.position=\"relative\";o.style.left=\"\"+e.container.scrollLeft+\"px\";o.style.top=\"\"+e.container.scrollTop+\"px\";e.container.insertBefore(o,e.peg);e.container.style.overflow=\"hidden\";e.preview_active=true},o)},unfreeze:function(){if(this.preview_active){this.container.removeChild(this.preview_canvas);delete this.preview_context;delete this.preview_canvas;this.preview_active=false;this.flip()}},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform=\"scaleX(-1)\";e.mozTransform=\"scaleX(-1)\";e.msTransform=\"scaleX(-1)\";e.oTransform=\"scaleX(-1)\";e.transform=\"scaleX(-1)\";e.filter=\"FlipH\";e.msFilter=\"FlipH\"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform=\"scaleX(1)\";e.mozTransform=\"scaleX(1)\";e.msTransform=\"scaleX(1)\";e.oTransform=\"scaleX(1)\";e.transform=\"scaleX(1)\";e.filter=\"\";e.msFilter=\"\"}},savePreview:function(e,t){var a=this.params;var s=this.preview_canvas;var i=this.preview_context;if(t){var r=t.getContext(\"2d\");r.drawImage(s,0,0)}e(t?null:s.toDataURL(\"image/\"+a.image_format,a.jpeg_quality/100),s,i);if(this.params.unfreeze_snap)this.unfreeze()},snap:function(e,t){var a=this;var i=this.params;if(!this.loaded)return this.dispatch(\"error\",new s(\"Webcam is not loaded yet\"));if(!e)return this.dispatch(\"error\",new s(\"Please provide a callback function or canvas to snap()\"));if(this.preview_active){this.savePreview(e,t);return null}var r=document.createElement(\"canvas\");r.width=this.params.dest_width;r.height=this.params.dest_height;var o=r.getContext(\"2d\");if(this.params.flip_horiz){o.translate(i.dest_width,0);o.scale(-1,1)}var n=function(){if(this.src&&this.width&&this.height){o.drawImage(this,0,0,i.dest_width,i.dest_height)}if(i.crop_width&&i.crop_height){var a=document.createElement(\"canvas\");a.width=i.crop_width;a.height=i.crop_height;var s=a.getContext(\"2d\");s.drawImage(r,Math.floor(i.dest_width/2-i.crop_width/2),Math.floor(i.dest_height/2-i.crop_height/2),i.crop_width,i.crop_height,0,0,i.crop_width,i.crop_height);o=s;r=a}if(t){var n=t.getContext(\"2d\");n.drawImage(r,0,0)}e(t?null:r.toDataURL(\"image/\"+i.image_format,i.jpeg_quality/100),r,o)};if(this.userMedia){o.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height);n()}else{var h=this.getMovie()._snap();var l=new Image;l.onload=n;l.src=\"data:image/\"+this.params.image_format+\";base64,\"+h}return null},configure:function(e){if(!e)e=\"camera\";this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case\"flashLoadComplete\":this.loaded=true;this.dispatch(\"load\");break;case\"cameraLive\":this.live=true;this.dispatch(\"live\");break;case\"error\":this.dispatch(\"error\",new a(t));break;default:break}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0},base64DecToArr:function(e,t){var a=e.replace(/[^A-Za-z0-9\\+\\/]/g,\"\"),s=a.length,i=t?Math.ceil((s*3+1>>2)/t)*t:s*3+1>>2,r=new Uint8Array(i);for(var o,n,h=0,l=0,c=0;c<s;c++){n=c&3;h|=this.b64ToUint6(a.charCodeAt(c))<<18-6*n;if(n===3||s-c===1){for(o=0;o<3&&l<i;o++,l++){r[l]=h>>>(16>>>o&24)&255}h=0}}return r},upload:function(e,t,a){var s=this.params.upload_name||\"webcam\";var i=\"\";if(e.match(/^data\\:image\\/(\\w+)/))i=RegExp.$1;else throw\"Cannot locate image format in Data URI\";var r=e.replace(/^data\\:image\\/\\w+\\;base64\\,/,\"\");var o=new XMLHttpRequest;o.open(\"POST\",t,true);if(o.upload&&o.upload.addEventListener){o.upload.addEventListener(\"progress\",function(e){if(e.lengthComputable){var t=e.loaded/e.total;Webcam.dispatch(\"uploadProgress\",t,e)}},false)}var n=this;o.onload=function(){if(a)a.apply(n,[o.status,o.responseText,o.statusText]);Webcam.dispatch(\"uploadComplete\",o.status,o.responseText,o.statusText)};var h=new Blob([this.base64DecToArr(r)],{type:\"image/\"+i});var l=new FormData;l.append(s,h,s+\".\"+i.replace(/e/,\"\"));o.send(l)}};Webcam.init();if(typeof define===\"function\"&&define.amd){define(function(){return Webcam})}else if(typeof module===\"object\"&&module.exports){module.exports=Webcam}else{e.Webcam=Webcam}})(window);"],"file":"webcam.min.js"}