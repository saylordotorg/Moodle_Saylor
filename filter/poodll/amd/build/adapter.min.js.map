{"version":3,"sources":["../src/adapter.js"],"names":["f","exports","module","define","amd","g","window","global","self","adapter","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","SDPUtils","fixStatsType","stat","inboundrtp","outboundrtp","candidatepair","localcandidate","remotecandidate","type","writeMediaSection","transceiver","caps","stream","dtlsRole","sdp","writeRtpDescription","kind","writeIceParameters","iceGatherer","getLocalParameters","writeDtlsParameters","dtlsTransport","mid","rtpSender","rtpReceiver","trackId","_initialTrackId","track","id","msid","sendEncodingParameters","ssrc","rtx","localCName","filterIceServers","iceServers","edgeVersion","hasTurn","JSON","parse","stringify","filter","server","urls","url","console","warn","isString","validTurn","indexOf","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","codecs","headerExtensions","fecMechanisms","findCodecByPayloadType","pt","parseInt","payloadType","preferredPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","parameters","apt","rCodec","name","toLowerCase","forEach","clockRate","numChannels","Math","min","push","rtcpFeedback","fb","j","parameter","lHeaderExtension","rHeaderExtension","uri","isActionAllowedInSignalingState","action","signalingState","offer","setLocalDescription","setRemoteDescription","answer","maybeAddCandidate","iceTransport","candidate","alreadyAdded","getRemoteCandidates","find","remoteCandidate","foundation","ip","port","priority","protocol","addRemoteCandidate","makeError","description","NotSupportedError","InvalidStateError","InvalidAccessError","TypeError","OperationError","addTrackToStreamAndFireEvent","addTrack","dispatchEvent","MediaStreamTrackEvent","removeTrackFromStreamAndFireEvent","removeTrack","fireAddTrack","pc","receiver","streams","trackEvent","Event","setTimeout","_dispatchEvent","RTCPeerConnection","config","_eventTarget","document","createDocumentFragment","method","bind","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","iceTransportPolicy","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","generateSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","prototype","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","event","_emitGatheringStateChange","getConfiguration","getLocalStreams","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","alreadyExists","_maybeFireNegotiationNeeded","RTCRtpSender","addStream","getTracks","clonedStream","clone","idx","clonedTrack","addEventListener","enabled","sender","stop","map","splice","removeStream","getSenders","getReceivers","_createIceGatherer","sdpMLineIndex","shift","Object","defineProperty","value","writable","bufferedCandidateEvents","bufferCandidates","end","keys","state","_gather","onlocalcandidate","removeEventListener","evt","sdpMid","cand","component","ufrag","usernameFragment","serializedCandidate","writeCandidate","assign","parseCandidate","toJSON","sections","getMediaSections","getDescription","join","complete","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","params","encodings","rtcp","cname","compound","rtcpParameters","p","receive","Promise","reject","sessionpart","splitSections","mediaSection","parseRtpParameters","isIceLite","matchPrefix","rejected","isRejected","remoteIceParameters","getIceParameters","remoteDtlsParameters","getDtlsParameters","role","start","_updateSignalingState","resolve","receiverList","iceOptions","substr","split","lines","splitLines","getKind","direction","getDirection","remoteMsid","parseMsid","getMid","generateIdentifier","parseRtpEncodingParameters","parseRtcpParameters","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","codec","isNewTrack","MediaStream","get","default","nativeTrack","sid","item","close","newState","states","closed","checking","connected","completed","disconnected","failed","new","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","arguments","mandatory","optional","offerToReceiveAudio","offerToReceiveVideo","writeSessionBoilerplate","remoteCodec","hdrExt","remoteExtensions","rHdrExt","getLocalCandidates","desc","RTCSessionDescription","createAnswer","mediaSectionsInOffer","localTrack","getAudioTracks","getVideoTracks","hasRtx","c","reducedSize","addIceCandidate","candidateString","trim","getStats","selector","MediaStreamTrack","senderOrReceiver","promises","all","then","allStats","results","Map","stats","set","ortcObjectName","obj","nativeGetstats","apply","nativeStats","mapStats","methods","nativeMethod","args","error","random","toString","blob","line","parts","part","index","prefix","substring","relatedAddress","relatedPort","tcpType","toUpperCase","parseIceOptions","parseRtpMap","parsed","channels","writeRtpMap","parseExtmap","writeExtmap","headerExtension","preferredId","parseFmtp","kv","writeFmtp","param","parseRtcpFb","writeRtcpFb","parseSsrcMedia","sp","colon","attribute","parseFingerprint","algorithm","fingerprints","setupType","fp","concat","iceParameters","password","mline","rtpmapline","fmtps","maxptime","extension","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","secondarySsrc","flows","encParam","codecPayloadType","fec","mechanism","bandwidth","maxBitrate","remoteSsrc","rsize","mux","spec","planB","sessId","sessVer","sessionId","version","parseMLine","fmt","slice","parseOLine","username","sessionVersion","netType","addressType","address","adapterFactory","utils","dependencies","opts","options","shimChrome","shimFirefox","shimEdge","shimSafari","key","hasOwnProperty","logging","log","browserDetails","detectBrowser","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","extractVersion","disableLog","disableWarnings","browser","shimPeerConnection","browserShim","shimCreateObjectURL","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimSenderReceiverGetStats","shimRTCIceCandidate","shimMaxMessageSize","shimSendThrowTypeError","shimRemoveStream","shimSenderGetStats","shimReceiverGetStats","shimRTCDataChannel","shimReplaceTrack","shimRTCIceServerUrls","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","shimCreateOfferLegacy","walkStats","base","resultSet","has","endsWith","filterStats","result","outbound","streamStatsType","filteredResult","trackStats","trackIdentifier","trackStat","webkitMediaStream","_ontrack","origSetRemoteDescription","_ontrackpoly","te","wrapPeerConnectionEvent","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","_senders","origAddTrack","origRemoveTrack","origAddStream","origRemoveStream","origGetSenders","senders","origGetReceivers","receivers","srcElement","origGetStats","err","DOMException","URL","HTMLMediaElement","_srcObject","src","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","oldStream","replaceInternalStreamId","internalId","externalStream","internalStream","replace","RegExp","replaceExternalStreamId","isLegacyCall","origSetLocalDescription","origLocalDescription","getOwnPropertyDescriptor","isLocal","streamid","hasTrack","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransports","generateCertificate","OrigPeerConnection","newIceServers","deprecated","successCallback","errorCallback","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","names","makeMapStats","successCallbackWrapper_","promise","RTCIceCandidate","nativeAddIceCandidate","navigator","constraintsToChrome_","cc","ideal","exact","max","oldname_","charAt","oc","mix","advanced","shimConstraints_","constraints","func","audio","remap","b","video","face","facingMode","getSupportedFacingModeLies","mediaDevices","getSupportedConstraints","matches","enumerateDevices","devices","d","dev","some","match","label","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","message","constraint","constraintName","getUserMedia","getUserMedia_","onSuccess","onError","webkitGetUserMedia","getUserMediaPromise_","kinds","getSources","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","cs","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","RTCSctpTransport","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","maxMessageSize","isFirefox","canSendMMS","remoteMMS","Number","POSITIVE_INFINITY","sctp","wrapDcSend","dc","origDataChannelSend","data","size","byteLength","readyState","origCreateDataChannel","createDataChannel","dataChannel","channel","target","shimRTCPeerConnection","origMSTEnabled","ev","RTCDtmfSender","RTCDTMFSender","RTCPeerConnectionShim","replaceTrack","setTrack","catch","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","DataChannel","RTCDataChannel","InternalError","SecurityError","constraintsToFF37_","mozGetUserMedia","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","_onaddstream","_onaddstreampoly","failureCallback","withCallback","cb","errcb","RTCTransceiver","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","logDisabled_","deprecationWarnings_","uastring","expr","pos","eventNameToWrap","wrapper","proto","nativeAddEventListener","nativeEventName","wrappedCallback","_eventMap","nativeRemoveEventListener","unwrappedCb","enumerable","configurable","bool","oldMethod","newMethod","userAgent"],"mappings":"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","sourcesContent":["(function (f) {\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f()\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f)\n    } else {\n        var g;\n        if (typeof window !== \"undefined\") {\n            g = window\n        } else if (typeof global !== \"undefined\") {\n            g = global\n        } else if (typeof self !== \"undefined\") {\n            g = self\n        } else {\n            g = this\n        }\n        g.adapter = f()\n    }\n})(function () {\n    var define, module, exports;\n    return (function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;\n                    if (!u && a) return a(o, !0);\n                    if (i) return i(o, !0);\n                    var f = new Error(\"Cannot find module '\" + o + \"'\");\n                    throw f.code = \"MODULE_NOT_FOUND\", f\n                }\n                var l = n[o] = {exports: {}};\n                t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e)\n                }, l, l.exports, e, t, n, r)\n            }\n            return n[o].exports\n        }\n\n        var i = typeof require == \"function\" && require;\n        for (var o = 0; o < r.length; o++) s(r[o]);\n        return s\n    })({\n        1: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var SDPUtils = require('sdp');\n\n            function fixStatsType(stat) {\n                return {\n                    inboundrtp: 'inbound-rtp',\n                    outboundrtp: 'outbound-rtp',\n                    candidatepair: 'candidate-pair',\n                    localcandidate: 'local-candidate',\n                    remotecandidate: 'remote-candidate'\n                }[stat.type] || stat.type;\n            }\n\n            function writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n                var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n                // Map ICE parameters (ufrag, pwd) to SDP.\n                sdp += SDPUtils.writeIceParameters(\n                    transceiver.iceGatherer.getLocalParameters());\n\n                // Map DTLS parameters to SDP.\n                sdp += SDPUtils.writeDtlsParameters(\n                    transceiver.dtlsTransport.getLocalParameters(),\n                    type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n                sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n                if (transceiver.rtpSender && transceiver.rtpReceiver) {\n                    sdp += 'a=sendrecv\\r\\n';\n                } else if (transceiver.rtpSender) {\n                    sdp += 'a=sendonly\\r\\n';\n                } else if (transceiver.rtpReceiver) {\n                    sdp += 'a=recvonly\\r\\n';\n                } else {\n                    sdp += 'a=inactive\\r\\n';\n                }\n\n                if (transceiver.rtpSender) {\n                    var trackId = transceiver.rtpSender._initialTrackId ||\n                        transceiver.rtpSender.track.id;\n                    transceiver.rtpSender._initialTrackId = trackId;\n                    // spec.\n                    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n                        trackId + '\\r\\n';\n                    sdp += 'a=' + msid;\n                    // for Chrome. Legacy should no longer be required.\n                    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n                        ' ' + msid;\n\n                    // RTX\n                    if (transceiver.sendEncodingParameters[0].rtx) {\n                        sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n                            ' ' + msid;\n                        sdp += 'a=ssrc-group:FID ' +\n                            transceiver.sendEncodingParameters[0].ssrc + ' ' +\n                            transceiver.sendEncodingParameters[0].rtx.ssrc +\n                            '\\r\\n';\n                    }\n                }\n                // FIXME: this should be written by writeRtpDescription.\n                sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n                    ' cname:' + SDPUtils.localCName + '\\r\\n';\n                if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n                    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n                        ' cname:' + SDPUtils.localCName + '\\r\\n';\n                }\n                return sdp;\n            }\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\n            function filterIceServers(iceServers, edgeVersion) {\n                var hasTurn = false;\n                iceServers = JSON.parse(JSON.stringify(iceServers));\n                return iceServers.filter(function (server) {\n                    if (server && (server.urls || server.url)) {\n                        var urls = server.urls || server.url;\n                        if (server.url && !server.urls) {\n                            console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n                        }\n                        var isString = typeof urls === 'string';\n                        if (isString) {\n                            urls = [urls];\n                        }\n                        urls = urls.filter(function (url) {\n                            var validTurn = url.indexOf('turn:') === 0 &&\n                                url.indexOf('transport=udp') !== -1 &&\n                                url.indexOf('turn:[') === -1 &&\n                                !hasTurn;\n\n                            if (validTurn) {\n                                hasTurn = true;\n                                return true;\n                            }\n                            return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n                                url.indexOf('?transport=udp') === -1;\n                        });\n\n                        delete server.url;\n                        server.urls = isString ? urls[0] : urls;\n                        return !!urls.length;\n                    }\n                });\n            }\n\n// Determines the intersection of local and remote capabilities.\n            function getCommonCapabilities(localCapabilities, remoteCapabilities) {\n                var commonCapabilities = {\n                    codecs: [],\n                    headerExtensions: [],\n                    fecMechanisms: []\n                };\n\n                var findCodecByPayloadType = function (pt, codecs) {\n                    pt = parseInt(pt, 10);\n                    for (var i = 0; i < codecs.length; i++) {\n                        if (codecs[i].payloadType === pt ||\n                            codecs[i].preferredPayloadType === pt) {\n                            return codecs[i];\n                        }\n                    }\n                };\n\n                var rtxCapabilityMatches = function (lRtx, rRtx, lCodecs, rCodecs) {\n                    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n                    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n                    return lCodec && rCodec &&\n                        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n                };\n\n                localCapabilities.codecs.forEach(function (lCodec) {\n                    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n                        var rCodec = remoteCapabilities.codecs[i];\n                        if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                            lCodec.clockRate === rCodec.clockRate) {\n                            if (lCodec.name.toLowerCase() === 'rtx' &&\n                                lCodec.parameters && rCodec.parameters.apt) {\n                                // for RTX we need to find the local rtx that has a apt\n                                // which points to the same local codec as the remote one.\n                                if (!rtxCapabilityMatches(lCodec, rCodec,\n                                        localCapabilities.codecs, remoteCapabilities.codecs)) {\n                                    continue;\n                                }\n                            }\n                            rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n                            // number of channels is the highest common number of channels\n                            rCodec.numChannels = Math.min(lCodec.numChannels,\n                                rCodec.numChannels);\n                            // push rCodec so we reply with offerer payload type\n                            commonCapabilities.codecs.push(rCodec);\n\n                            // determine common feedback mechanisms\n                            rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function (fb) {\n                                for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                                        return true;\n                                    }\n                                }\n                                return false;\n                            });\n                            // FIXME: also need to determine .parameters\n                            //  see https://github.com/openpeer/ortc/issues/569\n                            break;\n                        }\n                    }\n                });\n\n                localCapabilities.headerExtensions.forEach(function (lHeaderExtension) {\n                    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                         i++) {\n                        var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                        if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                            commonCapabilities.headerExtensions.push(rHeaderExtension);\n                            break;\n                        }\n                    }\n                });\n\n                // FIXME: fecMechanisms\n                return commonCapabilities;\n            }\n\n// is action=setLocalDescription with type allowed in signalingState\n            function isActionAllowedInSignalingState(action, type, signalingState) {\n                return {\n                    offer: {\n                        setLocalDescription: ['stable', 'have-local-offer'],\n                        setRemoteDescription: ['stable', 'have-remote-offer']\n                    },\n                    answer: {\n                        setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n                        setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n                    }\n                }[type][action].indexOf(signalingState) !== -1;\n            }\n\n            function maybeAddCandidate(iceTransport, candidate) {\n                // Edge's internal representation adds some fields therefore\n                // not all field are taken into account.\n                var alreadyAdded = iceTransport.getRemoteCandidates()\n                    .find(function (remoteCandidate) {\n                        return candidate.foundation === remoteCandidate.foundation &&\n                            candidate.ip === remoteCandidate.ip &&\n                            candidate.port === remoteCandidate.port &&\n                            candidate.priority === remoteCandidate.priority &&\n                            candidate.protocol === remoteCandidate.protocol &&\n                            candidate.type === remoteCandidate.type;\n                    });\n                if (!alreadyAdded) {\n                    iceTransport.addRemoteCandidate(candidate);\n                }\n                return !alreadyAdded;\n            }\n\n\n            function makeError(name, description) {\n                var e = new Error(description);\n                e.name = name;\n                // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n                e.code = {\n                    NotSupportedError: 9,\n                    InvalidStateError: 11,\n                    InvalidAccessError: 15,\n                    TypeError: undefined,\n                    OperationError: undefined\n                }[name];\n                return e;\n            }\n\n            module.exports = function (window, edgeVersion) {\n                // https://w3c.github.io/mediacapture-main/#mediastream\n                // Helper function to add the track to the stream and\n                // dispatch the event ourselves.\n                function addTrackToStreamAndFireEvent(track, stream) {\n                    stream.addTrack(track);\n                    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n                        {track: track}));\n                }\n\n                function removeTrackFromStreamAndFireEvent(track, stream) {\n                    stream.removeTrack(track);\n                    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n                        {track: track}));\n                }\n\n                function fireAddTrack(pc, track, receiver, streams) {\n                    var trackEvent = new Event('track');\n                    trackEvent.track = track;\n                    trackEvent.receiver = receiver;\n                    trackEvent.transceiver = {receiver: receiver};\n                    trackEvent.streams = streams;\n                    window.setTimeout(function () {\n                        pc._dispatchEvent('track', trackEvent);\n                    });\n                }\n\n                var RTCPeerConnection = function (config) {\n                    var pc = this;\n\n                    var _eventTarget = document.createDocumentFragment();\n                    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n                        .forEach(function (method) {\n                            pc[method] = _eventTarget[method].bind(_eventTarget);\n                        });\n\n                    this.canTrickleIceCandidates = null;\n\n                    this.needNegotiation = false;\n\n                    this.localStreams = [];\n                    this.remoteStreams = [];\n\n                    this.localDescription = null;\n                    this.remoteDescription = null;\n\n                    this.signalingState = 'stable';\n                    this.iceConnectionState = 'new';\n                    this.connectionState = 'new';\n                    this.iceGatheringState = 'new';\n\n                    config = JSON.parse(JSON.stringify(config || {}));\n\n                    this.usingBundle = config.bundlePolicy === 'max-bundle';\n                    if (config.rtcpMuxPolicy === 'negotiate') {\n                        throw(makeError('NotSupportedError',\n                            'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n                    } else if (!config.rtcpMuxPolicy) {\n                        config.rtcpMuxPolicy = 'require';\n                    }\n\n                    switch (config.iceTransportPolicy) {\n                        case 'all':\n                        case 'relay':\n                            break;\n                        default:\n                            config.iceTransportPolicy = 'all';\n                            break;\n                    }\n\n                    switch (config.bundlePolicy) {\n                        case 'balanced':\n                        case 'max-compat':\n                        case 'max-bundle':\n                            break;\n                        default:\n                            config.bundlePolicy = 'balanced';\n                            break;\n                    }\n\n                    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n                    this._iceGatherers = [];\n                    if (config.iceCandidatePoolSize) {\n                        for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n                            this._iceGatherers.push(new window.RTCIceGatherer({\n                                iceServers: config.iceServers,\n                                gatherPolicy: config.iceTransportPolicy\n                            }));\n                        }\n                    } else {\n                        config.iceCandidatePoolSize = 0;\n                    }\n\n                    this._config = config;\n\n                    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n                    // everything that is needed to describe a SDP m-line.\n                    this.transceivers = [];\n\n                    this._sdpSessionId = SDPUtils.generateSessionId();\n                    this._sdpSessionVersion = 0;\n\n                    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n                    this._isClosed = false;\n                };\n\n                // set up event handlers on prototype\n                RTCPeerConnection.prototype.onicecandidate = null;\n                RTCPeerConnection.prototype.onaddstream = null;\n                RTCPeerConnection.prototype.ontrack = null;\n                RTCPeerConnection.prototype.onremovestream = null;\n                RTCPeerConnection.prototype.onsignalingstatechange = null;\n                RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n                RTCPeerConnection.prototype.onconnectionstatechange = null;\n                RTCPeerConnection.prototype.onicegatheringstatechange = null;\n                RTCPeerConnection.prototype.onnegotiationneeded = null;\n                RTCPeerConnection.prototype.ondatachannel = null;\n\n                RTCPeerConnection.prototype._dispatchEvent = function (name, event) {\n                    if (this._isClosed) {\n                        return;\n                    }\n                    this.dispatchEvent(event);\n                    if (typeof this['on' + name] === 'function') {\n                        this['on' + name](event);\n                    }\n                };\n\n                RTCPeerConnection.prototype._emitGatheringStateChange = function () {\n                    var event = new Event('icegatheringstatechange');\n                    this._dispatchEvent('icegatheringstatechange', event);\n                };\n\n                RTCPeerConnection.prototype.getConfiguration = function () {\n                    return this._config;\n                };\n\n                RTCPeerConnection.prototype.getLocalStreams = function () {\n                    return this.localStreams;\n                };\n\n                RTCPeerConnection.prototype.getRemoteStreams = function () {\n                    return this.remoteStreams;\n                };\n\n                // internal helper to create a transceiver object.\n                // (which is not yet the same as the WebRTC 1.0 transceiver)\n                RTCPeerConnection.prototype._createTransceiver = function (kind, doNotAdd) {\n                    var hasBundleTransport = this.transceivers.length > 0;\n                    var transceiver = {\n                        track: null,\n                        iceGatherer: null,\n                        iceTransport: null,\n                        dtlsTransport: null,\n                        localCapabilities: null,\n                        remoteCapabilities: null,\n                        rtpSender: null,\n                        rtpReceiver: null,\n                        kind: kind,\n                        mid: null,\n                        sendEncodingParameters: null,\n                        recvEncodingParameters: null,\n                        stream: null,\n                        associatedRemoteMediaStreams: [],\n                        wantReceive: true\n                    };\n                    if (this.usingBundle && hasBundleTransport) {\n                        transceiver.iceTransport = this.transceivers[0].iceTransport;\n                        transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n                    } else {\n                        var transports = this._createIceAndDtlsTransports();\n                        transceiver.iceTransport = transports.iceTransport;\n                        transceiver.dtlsTransport = transports.dtlsTransport;\n                    }\n                    if (!doNotAdd) {\n                        this.transceivers.push(transceiver);\n                    }\n                    return transceiver;\n                };\n\n                RTCPeerConnection.prototype.addTrack = function (track, stream) {\n                    if (this._isClosed) {\n                        throw makeError('InvalidStateError',\n                            'Attempted to call addTrack on a closed peerconnection.');\n                    }\n\n                    var alreadyExists = this.transceivers.find(function (s) {\n                        return s.track === track;\n                    });\n\n                    if (alreadyExists) {\n                        throw makeError('InvalidAccessError', 'Track already exists.');\n                    }\n\n                    var transceiver;\n                    for (var i = 0; i < this.transceivers.length; i++) {\n                        if (!this.transceivers[i].track &&\n                            this.transceivers[i].kind === track.kind) {\n                            transceiver = this.transceivers[i];\n                        }\n                    }\n                    if (!transceiver) {\n                        transceiver = this._createTransceiver(track.kind);\n                    }\n\n                    this._maybeFireNegotiationNeeded();\n\n                    if (this.localStreams.indexOf(stream) === -1) {\n                        this.localStreams.push(stream);\n                    }\n\n                    transceiver.track = track;\n                    transceiver.stream = stream;\n                    transceiver.rtpSender = new window.RTCRtpSender(track,\n                        transceiver.dtlsTransport);\n                    return transceiver.rtpSender;\n                };\n\n                RTCPeerConnection.prototype.addStream = function (stream) {\n                    var pc = this;\n                    if (edgeVersion >= 15025) {\n                        stream.getTracks().forEach(function (track) {\n                            pc.addTrack(track, stream);\n                        });\n                    } else {\n                        // Clone is necessary for local demos mostly, attaching directly\n                        // to two different senders does not work (build 10547).\n                        // Fixed in 15025 (or earlier)\n                        var clonedStream = stream.clone();\n                        stream.getTracks().forEach(function (track, idx) {\n                            var clonedTrack = clonedStream.getTracks()[idx];\n                            track.addEventListener('enabled', function (event) {\n                                clonedTrack.enabled = event.enabled;\n                            });\n                        });\n                        clonedStream.getTracks().forEach(function (track) {\n                            pc.addTrack(track, clonedStream);\n                        });\n                    }\n                };\n\n                RTCPeerConnection.prototype.removeTrack = function (sender) {\n                    if (this._isClosed) {\n                        throw makeError('InvalidStateError',\n                            'Attempted to call removeTrack on a closed peerconnection.');\n                    }\n\n                    if (!(sender instanceof window.RTCRtpSender)) {\n                        throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n                            'does not implement interface RTCRtpSender.');\n                    }\n\n                    var transceiver = this.transceivers.find(function (t) {\n                        return t.rtpSender === sender;\n                    });\n\n                    if (!transceiver) {\n                        throw makeError('InvalidAccessError',\n                            'Sender was not created by this connection.');\n                    }\n                    var stream = transceiver.stream;\n\n                    transceiver.rtpSender.stop();\n                    transceiver.rtpSender = null;\n                    transceiver.track = null;\n                    transceiver.stream = null;\n\n                    // remove the stream from the set of local streams\n                    var localStreams = this.transceivers.map(function (t) {\n                        return t.stream;\n                    });\n                    if (localStreams.indexOf(stream) === -1 &&\n                        this.localStreams.indexOf(stream) > -1) {\n                        this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n                    }\n\n                    this._maybeFireNegotiationNeeded();\n                };\n\n                RTCPeerConnection.prototype.removeStream = function (stream) {\n                    var pc = this;\n                    stream.getTracks().forEach(function (track) {\n                        var sender = pc.getSenders().find(function (s) {\n                            return s.track === track;\n                        });\n                        if (sender) {\n                            pc.removeTrack(sender);\n                        }\n                    });\n                };\n\n                RTCPeerConnection.prototype.getSenders = function () {\n                    return this.transceivers.filter(function (transceiver) {\n                        return !!transceiver.rtpSender;\n                    })\n                        .map(function (transceiver) {\n                            return transceiver.rtpSender;\n                        });\n                };\n\n                RTCPeerConnection.prototype.getReceivers = function () {\n                    return this.transceivers.filter(function (transceiver) {\n                        return !!transceiver.rtpReceiver;\n                    })\n                        .map(function (transceiver) {\n                            return transceiver.rtpReceiver;\n                        });\n                };\n\n\n                RTCPeerConnection.prototype._createIceGatherer = function (sdpMLineIndex,\n                                                                           usingBundle) {\n                    var pc = this;\n                    if (usingBundle && sdpMLineIndex > 0) {\n                        return this.transceivers[0].iceGatherer;\n                    } else if (this._iceGatherers.length) {\n                        return this._iceGatherers.shift();\n                    }\n                    var iceGatherer = new window.RTCIceGatherer({\n                        iceServers: this._config.iceServers,\n                        gatherPolicy: this._config.iceTransportPolicy\n                    });\n                    Object.defineProperty(iceGatherer, 'state',\n                        {value: 'new', writable: true}\n                    );\n\n                    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n                    this.transceivers[sdpMLineIndex].bufferCandidates = function (event) {\n                        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n                        // polyfill since RTCIceGatherer.state is not implemented in\n                        // Edge 10547 yet.\n                        iceGatherer.state = end ? 'completed' : 'gathering';\n                        if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n                            pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n                        }\n                    };\n                    iceGatherer.addEventListener('localcandidate',\n                        this.transceivers[sdpMLineIndex].bufferCandidates);\n                    return iceGatherer;\n                };\n\n                // start gathering from an RTCIceGatherer.\n                RTCPeerConnection.prototype._gather = function (mid, sdpMLineIndex) {\n                    var pc = this;\n                    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n                    if (iceGatherer.onlocalcandidate) {\n                        return;\n                    }\n                    var bufferedCandidateEvents =\n                        this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n                    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n                    iceGatherer.removeEventListener('localcandidate',\n                        this.transceivers[sdpMLineIndex].bufferCandidates);\n                    iceGatherer.onlocalcandidate = function (evt) {\n                        if (pc.usingBundle && sdpMLineIndex > 0) {\n                            // if we know that we use bundle we can drop candidates with\n                            // dpMLineIndex > 0. If we don't do this then our state gets\n                            // confused since we dispose the extra ice gatherer.\n                            return;\n                        }\n                        var event = new Event('icecandidate');\n                        event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n                        var cand = evt.candidate;\n                        // Edge emits an empty object for RTCIceCandidateComplete\n                        var end = !cand || Object.keys(cand).length === 0;\n                        if (end) {\n                            // polyfill since RTCIceGatherer.state is not implemented in\n                            // Edge 10547 yet.\n                            if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n                                iceGatherer.state = 'completed';\n                            }\n                        } else {\n                            if (iceGatherer.state === 'new') {\n                                iceGatherer.state = 'gathering';\n                            }\n                            // RTCIceCandidate doesn't have a component, needs to be added\n                            cand.component = 1;\n                            // also the usernameFragment. TODO: update SDP to take both variants.\n                            cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n                            var serializedCandidate = SDPUtils.writeCandidate(cand);\n                            event.candidate = Object.assign(event.candidate,\n                                SDPUtils.parseCandidate(serializedCandidate));\n\n                            event.candidate.candidate = serializedCandidate;\n                            event.candidate.toJSON = function () {\n                                return {\n                                    candidate: event.candidate.candidate,\n                                    sdpMid: event.candidate.sdpMid,\n                                    sdpMLineIndex: event.candidate.sdpMLineIndex,\n                                    usernameFragment: event.candidate.usernameFragment\n                                };\n                            };\n                        }\n\n                        // update local description.\n                        var sections = SDPUtils.getMediaSections(pc.localDescription.sdp);\n                        if (!end) {\n                            sections[event.candidate.sdpMLineIndex] +=\n                                'a=' + event.candidate.candidate + '\\r\\n';\n                        } else {\n                            sections[event.candidate.sdpMLineIndex] +=\n                                'a=end-of-candidates\\r\\n';\n                        }\n                        pc.localDescription.sdp =\n                            SDPUtils.getDescription(pc.localDescription.sdp) +\n                            sections.join('');\n                        var complete = pc.transceivers.every(function (transceiver) {\n                            return transceiver.iceGatherer &&\n                                transceiver.iceGatherer.state === 'completed';\n                        });\n\n                        if (pc.iceGatheringState !== 'gathering') {\n                            pc.iceGatheringState = 'gathering';\n                            pc._emitGatheringStateChange();\n                        }\n\n                        // Emit candidate. Also emit null candidate when all gatherers are\n                        // complete.\n                        if (!end) {\n                            pc._dispatchEvent('icecandidate', event);\n                        }\n                        if (complete) {\n                            pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n                            pc.iceGatheringState = 'complete';\n                            pc._emitGatheringStateChange();\n                        }\n                    };\n\n                    // emit already gathered candidates.\n                    window.setTimeout(function () {\n                        bufferedCandidateEvents.forEach(function (e) {\n                            iceGatherer.onlocalcandidate(e);\n                        });\n                    }, 0);\n                };\n\n                // Create ICE transport and DTLS transport.\n                RTCPeerConnection.prototype._createIceAndDtlsTransports = function () {\n                    var pc = this;\n                    var iceTransport = new window.RTCIceTransport(null);\n                    iceTransport.onicestatechange = function () {\n                        pc._updateIceConnectionState();\n                        pc._updateConnectionState();\n                    };\n\n                    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n                    dtlsTransport.ondtlsstatechange = function () {\n                        pc._updateConnectionState();\n                    };\n                    dtlsTransport.onerror = function () {\n                        // onerror does not set state to failed by itself.\n                        Object.defineProperty(dtlsTransport, 'state',\n                            {value: 'failed', writable: true});\n                        pc._updateConnectionState();\n                    };\n\n                    return {\n                        iceTransport: iceTransport,\n                        dtlsTransport: dtlsTransport\n                    };\n                };\n\n                // Destroy ICE gatherer, ICE transport and DTLS transport.\n                // Without triggering the callbacks.\n                RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function (sdpMLineIndex) {\n                    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n                    if (iceGatherer) {\n                        delete iceGatherer.onlocalcandidate;\n                        delete this.transceivers[sdpMLineIndex].iceGatherer;\n                    }\n                    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n                    if (iceTransport) {\n                        delete iceTransport.onicestatechange;\n                        delete this.transceivers[sdpMLineIndex].iceTransport;\n                    }\n                    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n                    if (dtlsTransport) {\n                        delete dtlsTransport.ondtlsstatechange;\n                        delete dtlsTransport.onerror;\n                        delete this.transceivers[sdpMLineIndex].dtlsTransport;\n                    }\n                };\n\n                // Start the RTP Sender and Receiver for a transceiver.\n                RTCPeerConnection.prototype._transceive = function (transceiver,\n                                                                    send, recv) {\n                    var params = getCommonCapabilities(transceiver.localCapabilities,\n                        transceiver.remoteCapabilities);\n                    if (send && transceiver.rtpSender) {\n                        params.encodings = transceiver.sendEncodingParameters;\n                        params.rtcp = {\n                            cname: SDPUtils.localCName,\n                            compound: transceiver.rtcpParameters.compound\n                        };\n                        if (transceiver.recvEncodingParameters.length) {\n                            params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n                        }\n                        transceiver.rtpSender.send(params);\n                    }\n                    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n                        // remove RTX field in Edge 14942\n                        if (transceiver.kind === 'video'\n                            && transceiver.recvEncodingParameters\n                            && edgeVersion < 15019) {\n                            transceiver.recvEncodingParameters.forEach(function (p) {\n                                delete p.rtx;\n                            });\n                        }\n                        if (transceiver.recvEncodingParameters.length) {\n                            params.encodings = transceiver.recvEncodingParameters;\n                        } else {\n                            params.encodings = [{}];\n                        }\n                        params.rtcp = {\n                            compound: transceiver.rtcpParameters.compound\n                        };\n                        if (transceiver.rtcpParameters.cname) {\n                            params.rtcp.cname = transceiver.rtcpParameters.cname;\n                        }\n                        if (transceiver.sendEncodingParameters.length) {\n                            params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n                        }\n                        transceiver.rtpReceiver.receive(params);\n                    }\n                };\n\n                RTCPeerConnection.prototype.setLocalDescription = function (description) {\n                    var pc = this;\n\n                    // Note: pranswer is not supported.\n                    if (['offer', 'answer'].indexOf(description.type) === -1) {\n                        return Promise.reject(makeError('TypeError',\n                            'Unsupported type \"' + description.type + '\"'));\n                    }\n\n                    if (!isActionAllowedInSignalingState('setLocalDescription',\n                            description.type, pc.signalingState) || pc._isClosed) {\n                        return Promise.reject(makeError('InvalidStateError',\n                            'Can not set local ' + description.type +\n                            ' in state ' + pc.signalingState));\n                    }\n\n                    var sections;\n                    var sessionpart;\n                    if (description.type === 'offer') {\n                        // VERY limited support for SDP munging. Limited to:\n                        // * changing the order of codecs\n                        sections = SDPUtils.splitSections(description.sdp);\n                        sessionpart = sections.shift();\n                        sections.forEach(function (mediaSection, sdpMLineIndex) {\n                            var caps = SDPUtils.parseRtpParameters(mediaSection);\n                            pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n                        });\n\n                        pc.transceivers.forEach(function (transceiver, sdpMLineIndex) {\n                            pc._gather(transceiver.mid, sdpMLineIndex);\n                        });\n                    } else if (description.type === 'answer') {\n                        sections = SDPUtils.splitSections(pc.remoteDescription.sdp);\n                        sessionpart = sections.shift();\n                        var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                            'a=ice-lite').length > 0;\n                        sections.forEach(function (mediaSection, sdpMLineIndex) {\n                            var transceiver = pc.transceivers[sdpMLineIndex];\n                            var iceGatherer = transceiver.iceGatherer;\n                            var iceTransport = transceiver.iceTransport;\n                            var dtlsTransport = transceiver.dtlsTransport;\n                            var localCapabilities = transceiver.localCapabilities;\n                            var remoteCapabilities = transceiver.remoteCapabilities;\n\n                            // treat bundle-only as not-rejected.\n                            var rejected = SDPUtils.isRejected(mediaSection) &&\n                                SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n                            if (!rejected && !transceiver.rejected) {\n                                var remoteIceParameters = SDPUtils.getIceParameters(\n                                    mediaSection, sessionpart);\n                                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                                    mediaSection, sessionpart);\n                                if (isIceLite) {\n                                    remoteDtlsParameters.role = 'server';\n                                }\n\n                                if (!pc.usingBundle || sdpMLineIndex === 0) {\n                                    pc._gather(transceiver.mid, sdpMLineIndex);\n                                    if (iceTransport.state === 'new') {\n                                        iceTransport.start(iceGatherer, remoteIceParameters,\n                                            isIceLite ? 'controlling' : 'controlled');\n                                    }\n                                    if (dtlsTransport.state === 'new') {\n                                        dtlsTransport.start(remoteDtlsParameters);\n                                    }\n                                }\n\n                                // Calculate intersection of capabilities.\n                                var params = getCommonCapabilities(localCapabilities,\n                                    remoteCapabilities);\n\n                                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                                // transceiver has already been started in setRemoteDescription.\n                                pc._transceive(transceiver,\n                                    params.codecs.length > 0,\n                                    false);\n                            }\n                        });\n                    }\n\n                    pc.localDescription = {\n                        type: description.type,\n                        sdp: description.sdp\n                    };\n                    if (description.type === 'offer') {\n                        pc._updateSignalingState('have-local-offer');\n                    } else {\n                        pc._updateSignalingState('stable');\n                    }\n\n                    return Promise.resolve();\n                };\n\n                RTCPeerConnection.prototype.setRemoteDescription = function (description) {\n                    var pc = this;\n\n                    // Note: pranswer is not supported.\n                    if (['offer', 'answer'].indexOf(description.type) === -1) {\n                        return Promise.reject(makeError('TypeError',\n                            'Unsupported type \"' + description.type + '\"'));\n                    }\n\n                    if (!isActionAllowedInSignalingState('setRemoteDescription',\n                            description.type, pc.signalingState) || pc._isClosed) {\n                        return Promise.reject(makeError('InvalidStateError',\n                            'Can not set remote ' + description.type +\n                            ' in state ' + pc.signalingState));\n                    }\n\n                    var streams = {};\n                    pc.remoteStreams.forEach(function (stream) {\n                        streams[stream.id] = stream;\n                    });\n                    var receiverList = [];\n                    var sections = SDPUtils.splitSections(description.sdp);\n                    var sessionpart = sections.shift();\n                    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                        'a=ice-lite').length > 0;\n                    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n                        'a=group:BUNDLE ').length > 0;\n                    pc.usingBundle = usingBundle;\n                    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n                        'a=ice-options:')[0];\n                    if (iceOptions) {\n                        pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n                            .indexOf('trickle') >= 0;\n                    } else {\n                        pc.canTrickleIceCandidates = false;\n                    }\n\n                    sections.forEach(function (mediaSection, sdpMLineIndex) {\n                        var lines = SDPUtils.splitLines(mediaSection);\n                        var kind = SDPUtils.getKind(mediaSection);\n                        // treat bundle-only as not-rejected.\n                        var rejected = SDPUtils.isRejected(mediaSection) &&\n                            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n                        var protocol = lines[0].substr(2).split(' ')[2];\n\n                        var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n                        var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n                        var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n                        // Reject datachannels which are not implemented yet.\n                        if ((kind === 'application' && protocol === 'DTLS/SCTP') || rejected) {\n                            // TODO: this is dangerous in the case where a non-rejected m-line\n                            //     becomes rejected.\n                            pc.transceivers[sdpMLineIndex] = {\n                                mid: mid,\n                                kind: kind,\n                                rejected: true\n                            };\n                            return;\n                        }\n\n                        if (!rejected && pc.transceivers[sdpMLineIndex] &&\n                            pc.transceivers[sdpMLineIndex].rejected) {\n                            // recycle a rejected transceiver.\n                            pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n                        }\n\n                        var transceiver;\n                        var iceGatherer;\n                        var iceTransport;\n                        var dtlsTransport;\n                        var rtpReceiver;\n                        var sendEncodingParameters;\n                        var recvEncodingParameters;\n                        var localCapabilities;\n\n                        var track;\n                        // FIXME: ensure the mediaSection has rtcp-mux set.\n                        var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n                        var remoteIceParameters;\n                        var remoteDtlsParameters;\n                        if (!rejected) {\n                            remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                                sessionpart);\n                            remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                                sessionpart);\n                            remoteDtlsParameters.role = 'client';\n                        }\n                        recvEncodingParameters =\n                            SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n                        var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n                        var isComplete = SDPUtils.matchPrefix(mediaSection,\n                            'a=end-of-candidates', sessionpart).length > 0;\n                        var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                            .map(function (cand) {\n                                return SDPUtils.parseCandidate(cand);\n                            })\n                            .filter(function (cand) {\n                                return cand.component === 1;\n                            });\n\n                        // Check if we can use BUNDLE and dispose transports.\n                        if ((description.type === 'offer' || description.type === 'answer') &&\n                            !rejected && usingBundle && sdpMLineIndex > 0 &&\n                            pc.transceivers[sdpMLineIndex]) {\n                            pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n                            pc.transceivers[sdpMLineIndex].iceGatherer =\n                                pc.transceivers[0].iceGatherer;\n                            pc.transceivers[sdpMLineIndex].iceTransport =\n                                pc.transceivers[0].iceTransport;\n                            pc.transceivers[sdpMLineIndex].dtlsTransport =\n                                pc.transceivers[0].dtlsTransport;\n                            if (pc.transceivers[sdpMLineIndex].rtpSender) {\n                                pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n                                    pc.transceivers[0].dtlsTransport);\n                            }\n                            if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n                                pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n                                    pc.transceivers[0].dtlsTransport);\n                            }\n                        }\n                        if (description.type === 'offer' && !rejected) {\n                            transceiver = pc.transceivers[sdpMLineIndex] ||\n                                pc._createTransceiver(kind);\n                            transceiver.mid = mid;\n\n                            if (!transceiver.iceGatherer) {\n                                transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n                                    usingBundle);\n                            }\n\n                            if (cands.length && transceiver.iceTransport.state === 'new') {\n                                if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n                                    transceiver.iceTransport.setRemoteCandidates(cands);\n                                } else {\n                                    cands.forEach(function (candidate) {\n                                        maybeAddCandidate(transceiver.iceTransport, candidate);\n                                    });\n                                }\n                            }\n\n                            localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n                            // filter RTX until additional stuff needed for RTX is implemented\n                            // in adapter.js\n                            if (edgeVersion < 15019) {\n                                localCapabilities.codecs = localCapabilities.codecs.filter(\n                                    function (codec) {\n                                        return codec.name !== 'rtx';\n                                    });\n                            }\n\n                            sendEncodingParameters = transceiver.sendEncodingParameters || [{\n                                ssrc: (2 * sdpMLineIndex + 2) * 1001\n                            }];\n\n                            // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n                            var isNewTrack = false;\n                            if (direction === 'sendrecv' || direction === 'sendonly') {\n                                isNewTrack = !transceiver.rtpReceiver;\n                                rtpReceiver = transceiver.rtpReceiver ||\n                                    new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n                                if (isNewTrack) {\n                                    var stream;\n                                    track = rtpReceiver.track;\n                                    // FIXME: does not work with Plan B.\n                                    if (remoteMsid && remoteMsid.stream === '-') {\n                                        // no-op. a stream id of '-' means: no associated stream.\n                                    } else if (remoteMsid) {\n                                        if (!streams[remoteMsid.stream]) {\n                                            streams[remoteMsid.stream] = new window.MediaStream();\n                                            Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                                                get: function () {\n                                                    return remoteMsid.stream;\n                                                }\n                                            });\n                                        }\n                                        Object.defineProperty(track, 'id', {\n                                            get: function () {\n                                                return remoteMsid.track;\n                                            }\n                                        });\n                                        stream = streams[remoteMsid.stream];\n                                    } else {\n                                        if (!streams.default) {\n                                            streams.default = new window.MediaStream();\n                                        }\n                                        stream = streams.default;\n                                    }\n                                    if (stream) {\n                                        addTrackToStreamAndFireEvent(track, stream);\n                                        transceiver.associatedRemoteMediaStreams.push(stream);\n                                    }\n                                    receiverList.push([track, rtpReceiver, stream]);\n                                }\n                            } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n                                transceiver.associatedRemoteMediaStreams.forEach(function (s) {\n                                    var nativeTrack = s.getTracks().find(function (t) {\n                                        return t.id === transceiver.rtpReceiver.track.id;\n                                    });\n                                    if (nativeTrack) {\n                                        removeTrackFromStreamAndFireEvent(nativeTrack, s);\n                                    }\n                                });\n                                transceiver.associatedRemoteMediaStreams = [];\n                            }\n\n                            transceiver.localCapabilities = localCapabilities;\n                            transceiver.remoteCapabilities = remoteCapabilities;\n                            transceiver.rtpReceiver = rtpReceiver;\n                            transceiver.rtcpParameters = rtcpParameters;\n                            transceiver.sendEncodingParameters = sendEncodingParameters;\n                            transceiver.recvEncodingParameters = recvEncodingParameters;\n\n                            // Start the RTCRtpReceiver now. The RTPSender is started in\n                            // setLocalDescription.\n                            pc._transceive(pc.transceivers[sdpMLineIndex],\n                                false,\n                                isNewTrack);\n                        } else if (description.type === 'answer' && !rejected) {\n                            transceiver = pc.transceivers[sdpMLineIndex];\n                            iceGatherer = transceiver.iceGatherer;\n                            iceTransport = transceiver.iceTransport;\n                            dtlsTransport = transceiver.dtlsTransport;\n                            rtpReceiver = transceiver.rtpReceiver;\n                            sendEncodingParameters = transceiver.sendEncodingParameters;\n                            localCapabilities = transceiver.localCapabilities;\n\n                            pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n                                recvEncodingParameters;\n                            pc.transceivers[sdpMLineIndex].remoteCapabilities =\n                                remoteCapabilities;\n                            pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n                            if (cands.length && iceTransport.state === 'new') {\n                                if ((isIceLite || isComplete) &&\n                                    (!usingBundle || sdpMLineIndex === 0)) {\n                                    iceTransport.setRemoteCandidates(cands);\n                                } else {\n                                    cands.forEach(function (candidate) {\n                                        maybeAddCandidate(transceiver.iceTransport, candidate);\n                                    });\n                                }\n                            }\n\n                            if (!usingBundle || sdpMLineIndex === 0) {\n                                if (iceTransport.state === 'new') {\n                                    iceTransport.start(iceGatherer, remoteIceParameters,\n                                        'controlling');\n                                }\n                                if (dtlsTransport.state === 'new') {\n                                    dtlsTransport.start(remoteDtlsParameters);\n                                }\n                            }\n\n                            pc._transceive(transceiver,\n                                direction === 'sendrecv' || direction === 'recvonly',\n                                direction === 'sendrecv' || direction === 'sendonly');\n\n                            // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n                            if (rtpReceiver &&\n                                (direction === 'sendrecv' || direction === 'sendonly')) {\n                                track = rtpReceiver.track;\n                                if (remoteMsid) {\n                                    if (!streams[remoteMsid.stream]) {\n                                        streams[remoteMsid.stream] = new window.MediaStream();\n                                    }\n                                    addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n                                    receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n                                } else {\n                                    if (!streams.default) {\n                                        streams.default = new window.MediaStream();\n                                    }\n                                    addTrackToStreamAndFireEvent(track, streams.default);\n                                    receiverList.push([track, rtpReceiver, streams.default]);\n                                }\n                            } else {\n                                // FIXME: actually the receiver should be created later.\n                                delete transceiver.rtpReceiver;\n                            }\n                        }\n                    });\n\n                    if (pc._dtlsRole === undefined) {\n                        pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n                    }\n\n                    pc.remoteDescription = {\n                        type: description.type,\n                        sdp: description.sdp\n                    };\n                    if (description.type === 'offer') {\n                        pc._updateSignalingState('have-remote-offer');\n                    } else {\n                        pc._updateSignalingState('stable');\n                    }\n                    Object.keys(streams).forEach(function (sid) {\n                        var stream = streams[sid];\n                        if (stream.getTracks().length) {\n                            if (pc.remoteStreams.indexOf(stream) === -1) {\n                                pc.remoteStreams.push(stream);\n                                var event = new Event('addstream');\n                                event.stream = stream;\n                                window.setTimeout(function () {\n                                    pc._dispatchEvent('addstream', event);\n                                });\n                            }\n\n                            receiverList.forEach(function (item) {\n                                var track = item[0];\n                                var receiver = item[1];\n                                if (stream.id !== item[2].id) {\n                                    return;\n                                }\n                                fireAddTrack(pc, track, receiver, [stream]);\n                            });\n                        }\n                    });\n                    receiverList.forEach(function (item) {\n                        if (item[2]) {\n                            return;\n                        }\n                        fireAddTrack(pc, item[0], item[1], []);\n                    });\n\n                    // check whether addIceCandidate({}) was called within four seconds after\n                    // setRemoteDescription.\n                    window.setTimeout(function () {\n                        if (!(pc && pc.transceivers)) {\n                            return;\n                        }\n                        pc.transceivers.forEach(function (transceiver) {\n                            if (transceiver.iceTransport &&\n                                transceiver.iceTransport.state === 'new' &&\n                                transceiver.iceTransport.getRemoteCandidates().length > 0) {\n                                console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n                                    'an end-of-candidates notification');\n                                transceiver.iceTransport.addRemoteCandidate({});\n                            }\n                        });\n                    }, 4000);\n\n                    return Promise.resolve();\n                };\n\n                RTCPeerConnection.prototype.close = function () {\n                    this.transceivers.forEach(function (transceiver) {\n                        /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n                        if (transceiver.iceTransport) {\n                            transceiver.iceTransport.stop();\n                        }\n                        if (transceiver.dtlsTransport) {\n                            transceiver.dtlsTransport.stop();\n                        }\n                        if (transceiver.rtpSender) {\n                            transceiver.rtpSender.stop();\n                        }\n                        if (transceiver.rtpReceiver) {\n                            transceiver.rtpReceiver.stop();\n                        }\n                    });\n                    // FIXME: clean up tracks, local streams, remote streams, etc\n                    this._isClosed = true;\n                    this._updateSignalingState('closed');\n                };\n\n                // Update the signaling state.\n                RTCPeerConnection.prototype._updateSignalingState = function (newState) {\n                    this.signalingState = newState;\n                    var event = new Event('signalingstatechange');\n                    this._dispatchEvent('signalingstatechange', event);\n                };\n\n                // Determine whether to fire the negotiationneeded event.\n                RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function () {\n                    var pc = this;\n                    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n                        return;\n                    }\n                    this.needNegotiation = true;\n                    window.setTimeout(function () {\n                        if (pc.needNegotiation) {\n                            pc.needNegotiation = false;\n                            var event = new Event('negotiationneeded');\n                            pc._dispatchEvent('negotiationneeded', event);\n                        }\n                    }, 0);\n                };\n\n                // Update the ice connection state.\n                RTCPeerConnection.prototype._updateIceConnectionState = function () {\n                    var newState;\n                    var states = {\n                        'new': 0,\n                        closed: 0,\n                        checking: 0,\n                        connected: 0,\n                        completed: 0,\n                        disconnected: 0,\n                        failed: 0\n                    };\n                    this.transceivers.forEach(function (transceiver) {\n                        states[transceiver.iceTransport.state]++;\n                    });\n\n                    newState = 'new';\n                    if (states.failed > 0) {\n                        newState = 'failed';\n                    } else if (states.checking > 0) {\n                        newState = 'checking';\n                    } else if (states.disconnected > 0) {\n                        newState = 'disconnected';\n                    } else if (states.new > 0) {\n                        newState = 'new';\n                    } else if (states.connected > 0) {\n                        newState = 'connected';\n                    } else if (states.completed > 0) {\n                        newState = 'completed';\n                    }\n\n                    if (newState !== this.iceConnectionState) {\n                        this.iceConnectionState = newState;\n                        var event = new Event('iceconnectionstatechange');\n                        this._dispatchEvent('iceconnectionstatechange', event);\n                    }\n                };\n\n                // Update the connection state.\n                RTCPeerConnection.prototype._updateConnectionState = function () {\n                    var newState;\n                    var states = {\n                        'new': 0,\n                        closed: 0,\n                        connecting: 0,\n                        connected: 0,\n                        completed: 0,\n                        disconnected: 0,\n                        failed: 0\n                    };\n                    this.transceivers.forEach(function (transceiver) {\n                        states[transceiver.iceTransport.state]++;\n                        states[transceiver.dtlsTransport.state]++;\n                    });\n                    // ICETransport.completed and connected are the same for this purpose.\n                    states.connected += states.completed;\n\n                    newState = 'new';\n                    if (states.failed > 0) {\n                        newState = 'failed';\n                    } else if (states.connecting > 0) {\n                        newState = 'connecting';\n                    } else if (states.disconnected > 0) {\n                        newState = 'disconnected';\n                    } else if (states.new > 0) {\n                        newState = 'new';\n                    } else if (states.connected > 0) {\n                        newState = 'connected';\n                    }\n\n                    if (newState !== this.connectionState) {\n                        this.connectionState = newState;\n                        var event = new Event('connectionstatechange');\n                        this._dispatchEvent('connectionstatechange', event);\n                    }\n                };\n\n                RTCPeerConnection.prototype.createOffer = function () {\n                    var pc = this;\n\n                    if (pc._isClosed) {\n                        return Promise.reject(makeError('InvalidStateError',\n                            'Can not call createOffer after close'));\n                    }\n\n                    var numAudioTracks = pc.transceivers.filter(function (t) {\n                        return t.kind === 'audio';\n                    }).length;\n                    var numVideoTracks = pc.transceivers.filter(function (t) {\n                        return t.kind === 'video';\n                    }).length;\n\n                    // Determine number of audio and video tracks we need to send/recv.\n                    var offerOptions = arguments[0];\n                    if (offerOptions) {\n                        // Reject Chrome legacy constraints.\n                        if (offerOptions.mandatory || offerOptions.optional) {\n                            throw new TypeError(\n                                'Legacy mandatory/optional constraints not supported.');\n                        }\n                        if (offerOptions.offerToReceiveAudio !== undefined) {\n                            if (offerOptions.offerToReceiveAudio === true) {\n                                numAudioTracks = 1;\n                            } else if (offerOptions.offerToReceiveAudio === false) {\n                                numAudioTracks = 0;\n                            } else {\n                                numAudioTracks = offerOptions.offerToReceiveAudio;\n                            }\n                        }\n                        if (offerOptions.offerToReceiveVideo !== undefined) {\n                            if (offerOptions.offerToReceiveVideo === true) {\n                                numVideoTracks = 1;\n                            } else if (offerOptions.offerToReceiveVideo === false) {\n                                numVideoTracks = 0;\n                            } else {\n                                numVideoTracks = offerOptions.offerToReceiveVideo;\n                            }\n                        }\n                    }\n\n                    pc.transceivers.forEach(function (transceiver) {\n                        if (transceiver.kind === 'audio') {\n                            numAudioTracks--;\n                            if (numAudioTracks < 0) {\n                                transceiver.wantReceive = false;\n                            }\n                        } else if (transceiver.kind === 'video') {\n                            numVideoTracks--;\n                            if (numVideoTracks < 0) {\n                                transceiver.wantReceive = false;\n                            }\n                        }\n                    });\n\n                    // Create M-lines for recvonly streams.\n                    while (numAudioTracks > 0 || numVideoTracks > 0) {\n                        if (numAudioTracks > 0) {\n                            pc._createTransceiver('audio');\n                            numAudioTracks--;\n                        }\n                        if (numVideoTracks > 0) {\n                            pc._createTransceiver('video');\n                            numVideoTracks--;\n                        }\n                    }\n\n                    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n                        pc._sdpSessionVersion++);\n                    pc.transceivers.forEach(function (transceiver, sdpMLineIndex) {\n                        // For each track, create an ice gatherer, ice transport,\n                        // dtls transport, potentially rtpsender and rtpreceiver.\n                        var track = transceiver.track;\n                        var kind = transceiver.kind;\n                        var mid = transceiver.mid || SDPUtils.generateIdentifier();\n                        transceiver.mid = mid;\n\n                        if (!transceiver.iceGatherer) {\n                            transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n                                pc.usingBundle);\n                        }\n\n                        var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n                        // filter RTX until additional stuff needed for RTX is implemented\n                        // in adapter.js\n                        if (edgeVersion < 15019) {\n                            localCapabilities.codecs = localCapabilities.codecs.filter(\n                                function (codec) {\n                                    return codec.name !== 'rtx';\n                                });\n                        }\n                        localCapabilities.codecs.forEach(function (codec) {\n                            // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n                            // by adding level-asymmetry-allowed=1\n                            if (codec.name === 'H264' &&\n                                codec.parameters['level-asymmetry-allowed'] === undefined) {\n                                codec.parameters['level-asymmetry-allowed'] = '1';\n                            }\n\n                            // for subsequent offers, we might have to re-use the payload\n                            // type of the last offer.\n                            if (transceiver.remoteCapabilities &&\n                                transceiver.remoteCapabilities.codecs) {\n                                transceiver.remoteCapabilities.codecs.forEach(function (remoteCodec) {\n                                    if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                                        codec.clockRate === remoteCodec.clockRate) {\n                                        codec.preferredPayloadType = remoteCodec.payloadType;\n                                    }\n                                });\n                            }\n                        });\n                        localCapabilities.headerExtensions.forEach(function (hdrExt) {\n                            var remoteExtensions = transceiver.remoteCapabilities &&\n                                transceiver.remoteCapabilities.headerExtensions || [];\n                            remoteExtensions.forEach(function (rHdrExt) {\n                                if (hdrExt.uri === rHdrExt.uri) {\n                                    hdrExt.id = rHdrExt.id;\n                                }\n                            });\n                        });\n\n                        // generate an ssrc now, to be used later in rtpSender.send\n                        var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n                            ssrc: (2 * sdpMLineIndex + 1) * 1001\n                        }];\n                        if (track) {\n                            // add RTX\n                            if (edgeVersion >= 15019 && kind === 'video' &&\n                                !sendEncodingParameters[0].rtx) {\n                                sendEncodingParameters[0].rtx = {\n                                    ssrc: sendEncodingParameters[0].ssrc + 1\n                                };\n                            }\n                        }\n\n                        if (transceiver.wantReceive) {\n                            transceiver.rtpReceiver = new window.RTCRtpReceiver(\n                                transceiver.dtlsTransport, kind);\n                        }\n\n                        transceiver.localCapabilities = localCapabilities;\n                        transceiver.sendEncodingParameters = sendEncodingParameters;\n                    });\n\n                    // always offer BUNDLE and dispose on return if not supported.\n                    if (pc._config.bundlePolicy !== 'max-compat') {\n                        sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function (t) {\n                            return t.mid;\n                        }).join(' ') + '\\r\\n';\n                    }\n                    sdp += 'a=ice-options:trickle\\r\\n';\n\n                    pc.transceivers.forEach(function (transceiver, sdpMLineIndex) {\n                        sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n                            'offer', transceiver.stream, pc._dtlsRole);\n                        sdp += 'a=rtcp-rsize\\r\\n';\n\n                        if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n                            (sdpMLineIndex === 0 || !pc.usingBundle)) {\n                            transceiver.iceGatherer.getLocalCandidates().forEach(function (cand) {\n                                cand.component = 1;\n                                sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n                            });\n\n                            if (transceiver.iceGatherer.state === 'completed') {\n                                sdp += 'a=end-of-candidates\\r\\n';\n                            }\n                        }\n                    });\n\n                    var desc = new window.RTCSessionDescription({\n                        type: 'offer',\n                        sdp: sdp\n                    });\n                    return Promise.resolve(desc);\n                };\n\n                RTCPeerConnection.prototype.createAnswer = function () {\n                    var pc = this;\n\n                    if (pc._isClosed) {\n                        return Promise.reject(makeError('InvalidStateError',\n                            'Can not call createAnswer after close'));\n                    }\n\n                    if (!(pc.signalingState === 'have-remote-offer' ||\n                            pc.signalingState === 'have-local-pranswer')) {\n                        return Promise.reject(makeError('InvalidStateError',\n                            'Can not call createAnswer in signalingState ' + pc.signalingState));\n                    }\n\n                    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n                        pc._sdpSessionVersion++);\n                    if (pc.usingBundle) {\n                        sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function (t) {\n                            return t.mid;\n                        }).join(' ') + '\\r\\n';\n                    }\n                    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n                        pc.remoteDescription.sdp).length;\n                    pc.transceivers.forEach(function (transceiver, sdpMLineIndex) {\n                        if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n                            return;\n                        }\n                        if (transceiver.rejected) {\n                            if (transceiver.kind === 'application') {\n                                sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n                            } else if (transceiver.kind === 'audio') {\n                                sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n                                    'a=rtpmap:0 PCMU/8000\\r\\n';\n                            } else if (transceiver.kind === 'video') {\n                                sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n                                    'a=rtpmap:120 VP8/90000\\r\\n';\n                            }\n                            sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n                                'a=inactive\\r\\n' +\n                                'a=mid:' + transceiver.mid + '\\r\\n';\n                            return;\n                        }\n\n                        // FIXME: look at direction.\n                        if (transceiver.stream) {\n                            var localTrack;\n                            if (transceiver.kind === 'audio') {\n                                localTrack = transceiver.stream.getAudioTracks()[0];\n                            } else if (transceiver.kind === 'video') {\n                                localTrack = transceiver.stream.getVideoTracks()[0];\n                            }\n                            if (localTrack) {\n                                // add RTX\n                                if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n                                    !transceiver.sendEncodingParameters[0].rtx) {\n                                    transceiver.sendEncodingParameters[0].rtx = {\n                                        ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n                                    };\n                                }\n                            }\n                        }\n\n                        // Calculate intersection of capabilities.\n                        var commonCapabilities = getCommonCapabilities(\n                            transceiver.localCapabilities,\n                            transceiver.remoteCapabilities);\n\n                        var hasRtx = commonCapabilities.codecs.filter(function (c) {\n                            return c.name.toLowerCase() === 'rtx';\n                        }).length;\n                        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n                            delete transceiver.sendEncodingParameters[0].rtx;\n                        }\n\n                        sdp += writeMediaSection(transceiver, commonCapabilities,\n                            'answer', transceiver.stream, pc._dtlsRole);\n                        if (transceiver.rtcpParameters &&\n                            transceiver.rtcpParameters.reducedSize) {\n                            sdp += 'a=rtcp-rsize\\r\\n';\n                        }\n                    });\n\n                    var desc = new window.RTCSessionDescription({\n                        type: 'answer',\n                        sdp: sdp\n                    });\n                    return Promise.resolve(desc);\n                };\n\n                RTCPeerConnection.prototype.addIceCandidate = function (candidate) {\n                    var pc = this;\n                    var sections;\n                    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n                            candidate.sdpMid)) {\n                        return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n                    }\n\n                    // TODO: needs to go into ops queue.\n                    return new Promise(function (resolve, reject) {\n                        if (!pc.remoteDescription) {\n                            return reject(makeError('InvalidStateError',\n                                'Can not add ICE candidate without a remote description'));\n                        } else if (!candidate || candidate.candidate === '') {\n                            for (var j = 0; j < pc.transceivers.length; j++) {\n                                if (pc.transceivers[j].rejected) {\n                                    continue;\n                                }\n                                pc.transceivers[j].iceTransport.addRemoteCandidate({});\n                                sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n                                sections[j] += 'a=end-of-candidates\\r\\n';\n                                pc.remoteDescription.sdp =\n                                    SDPUtils.getDescription(pc.remoteDescription.sdp) +\n                                    sections.join('');\n                                if (pc.usingBundle) {\n                                    break;\n                                }\n                            }\n                        } else {\n                            var sdpMLineIndex = candidate.sdpMLineIndex;\n                            if (candidate.sdpMid) {\n                                for (var i = 0; i < pc.transceivers.length; i++) {\n                                    if (pc.transceivers[i].mid === candidate.sdpMid) {\n                                        sdpMLineIndex = i;\n                                        break;\n                                    }\n                                }\n                            }\n                            var transceiver = pc.transceivers[sdpMLineIndex];\n                            if (transceiver) {\n                                if (transceiver.rejected) {\n                                    return resolve();\n                                }\n                                var cand = Object.keys(candidate.candidate).length > 0 ?\n                                    SDPUtils.parseCandidate(candidate.candidate) : {};\n                                // Ignore Chrome's invalid candidates since Edge does not like them.\n                                if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n                                    return resolve();\n                                }\n                                // Ignore RTCP candidates, we assume RTCP-MUX.\n                                if (cand.component && cand.component !== 1) {\n                                    return resolve();\n                                }\n                                // when using bundle, avoid adding candidates to the wrong\n                                // ice transport. And avoid adding candidates added in the SDP.\n                                if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n                                        transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n                                    if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n                                        return reject(makeError('OperationError',\n                                            'Can not add ICE candidate'));\n                                    }\n                                }\n\n                                // update the remoteDescription.\n                                var candidateString = candidate.candidate.trim();\n                                if (candidateString.indexOf('a=') === 0) {\n                                    candidateString = candidateString.substr(2);\n                                }\n                                sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n                                sections[sdpMLineIndex] += 'a=' +\n                                    (cand.type ? candidateString : 'end-of-candidates')\n                                    + '\\r\\n';\n                                pc.remoteDescription.sdp =\n                                    SDPUtils.getDescription(pc.remoteDescription.sdp) +\n                                    sections.join('');\n                            } else {\n                                return reject(makeError('OperationError',\n                                    'Can not add ICE candidate'));\n                            }\n                        }\n                        resolve();\n                    });\n                };\n\n                RTCPeerConnection.prototype.getStats = function (selector) {\n                    if (selector && selector instanceof window.MediaStreamTrack) {\n                        var senderOrReceiver = null;\n                        this.transceivers.forEach(function (transceiver) {\n                            if (transceiver.rtpSender &&\n                                transceiver.rtpSender.track === selector) {\n                                senderOrReceiver = transceiver.rtpSender;\n                            } else if (transceiver.rtpReceiver &&\n                                transceiver.rtpReceiver.track === selector) {\n                                senderOrReceiver = transceiver.rtpReceiver;\n                            }\n                        });\n                        if (!senderOrReceiver) {\n                            throw makeError('InvalidAccessError', 'Invalid selector.');\n                        }\n                        return senderOrReceiver.getStats();\n                    }\n\n                    var promises = [];\n                    this.transceivers.forEach(function (transceiver) {\n                        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n                            'dtlsTransport'].forEach(function (method) {\n                            if (transceiver[method]) {\n                                promises.push(transceiver[method].getStats());\n                            }\n                        });\n                    });\n                    return Promise.all(promises).then(function (allStats) {\n                        var results = new Map();\n                        allStats.forEach(function (stats) {\n                            stats.forEach(function (stat) {\n                                results.set(stat.id, stat);\n                            });\n                        });\n                        return results;\n                    });\n                };\n\n                // fix low-level stat names and return Map instead of object.\n                var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n                    'RTCIceTransport', 'RTCDtlsTransport'];\n                ortcObjects.forEach(function (ortcObjectName) {\n                    var obj = window[ortcObjectName];\n                    if (obj && obj.prototype && obj.prototype.getStats) {\n                        var nativeGetstats = obj.prototype.getStats;\n                        obj.prototype.getStats = function () {\n                            return nativeGetstats.apply(this)\n                                .then(function (nativeStats) {\n                                    var mapStats = new Map();\n                                    Object.keys(nativeStats).forEach(function (id) {\n                                        nativeStats[id].type = fixStatsType(nativeStats[id]);\n                                        mapStats.set(id, nativeStats[id]);\n                                    });\n                                    return mapStats;\n                                });\n                        };\n                    }\n                });\n\n                // legacy callback shims. Should be moved to adapter.js some days.\n                var methods = ['createOffer', 'createAnswer'];\n                methods.forEach(function (method) {\n                    var nativeMethod = RTCPeerConnection.prototype[method];\n                    RTCPeerConnection.prototype[method] = function () {\n                        var args = arguments;\n                        if (typeof args[0] === 'function' ||\n                            typeof args[1] === 'function') { // legacy\n                            return nativeMethod.apply(this, [arguments[2]])\n                                .then(function (description) {\n                                    if (typeof args[0] === 'function') {\n                                        args[0].apply(null, [description]);\n                                    }\n                                }, function (error) {\n                                    if (typeof args[1] === 'function') {\n                                        args[1].apply(null, [error]);\n                                    }\n                                });\n                        }\n                        return nativeMethod.apply(this, arguments);\n                    };\n                });\n\n                methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n                methods.forEach(function (method) {\n                    var nativeMethod = RTCPeerConnection.prototype[method];\n                    RTCPeerConnection.prototype[method] = function () {\n                        var args = arguments;\n                        if (typeof args[1] === 'function' ||\n                            typeof args[2] === 'function') { // legacy\n                            return nativeMethod.apply(this, arguments)\n                                .then(function () {\n                                    if (typeof args[1] === 'function') {\n                                        args[1].apply(null);\n                                    }\n                                }, function (error) {\n                                    if (typeof args[2] === 'function') {\n                                        args[2].apply(null, [error]);\n                                    }\n                                });\n                        }\n                        return nativeMethod.apply(this, arguments);\n                    };\n                });\n\n                // getStats is special. It doesn't have a spec legacy method yet we support\n                // getStats(something, cb) without error callbacks.\n                ['getStats'].forEach(function (method) {\n                    var nativeMethod = RTCPeerConnection.prototype[method];\n                    RTCPeerConnection.prototype[method] = function () {\n                        var args = arguments;\n                        if (typeof args[1] === 'function') {\n                            return nativeMethod.apply(this, arguments)\n                                .then(function () {\n                                    if (typeof args[1] === 'function') {\n                                        args[1].apply(null);\n                                    }\n                                });\n                        }\n                        return nativeMethod.apply(this, arguments);\n                    };\n                });\n\n                return RTCPeerConnection;\n            };\n\n        }, {\"sdp\": 2}],\n        2: [function (require, module, exports) {\n            /* eslint-env node */\n            'use strict';\n\n// SDP helpers.\n            var SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\n            SDPUtils.generateIdentifier = function () {\n                return Math.random().toString(36).substr(2, 10);\n            };\n\n// The RTCP CNAME used by all peerconnections from the same JS.\n            SDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\n            SDPUtils.splitLines = function (blob) {\n                return blob.trim().split('\\n').map(function (line) {\n                    return line.trim();\n                });\n            };\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\n            SDPUtils.splitSections = function (blob) {\n                var parts = blob.split('\\nm=');\n                return parts.map(function (part, index) {\n                    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n                });\n            };\n\n// returns the session description.\n            SDPUtils.getDescription = function (blob) {\n                var sections = SDPUtils.splitSections(blob);\n                return sections && sections[0];\n            };\n\n// returns the individual media sections.\n            SDPUtils.getMediaSections = function (blob) {\n                var sections = SDPUtils.splitSections(blob);\n                sections.shift();\n                return sections;\n            };\n\n// Returns lines that start with a certain prefix.\n            SDPUtils.matchPrefix = function (blob, prefix) {\n                return SDPUtils.splitLines(blob).filter(function (line) {\n                    return line.indexOf(prefix) === 0;\n                });\n            };\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n            SDPUtils.parseCandidate = function (line) {\n                var parts;\n                // Parse both variants.\n                if (line.indexOf('a=candidate:') === 0) {\n                    parts = line.substring(12).split(' ');\n                } else {\n                    parts = line.substring(10).split(' ');\n                }\n\n                var candidate = {\n                    foundation: parts[0],\n                    component: parseInt(parts[1], 10),\n                    protocol: parts[2].toLowerCase(),\n                    priority: parseInt(parts[3], 10),\n                    ip: parts[4],\n                    port: parseInt(parts[5], 10),\n                    // skip parts[6] == 'typ'\n                    type: parts[7]\n                };\n\n                for (var i = 8; i < parts.length; i += 2) {\n                    switch (parts[i]) {\n                        case 'raddr':\n                            candidate.relatedAddress = parts[i + 1];\n                            break;\n                        case 'rport':\n                            candidate.relatedPort = parseInt(parts[i + 1], 10);\n                            break;\n                        case 'tcptype':\n                            candidate.tcpType = parts[i + 1];\n                            break;\n                        case 'ufrag':\n                            candidate.ufrag = parts[i + 1]; // for backward compability.\n                            candidate.usernameFragment = parts[i + 1];\n                            break;\n                        default: // extension handling, in particular ufrag\n                            candidate[parts[i]] = parts[i + 1];\n                            break;\n                    }\n                }\n                return candidate;\n            };\n\n// Translates a candidate object into SDP candidate attribute.\n            SDPUtils.writeCandidate = function (candidate) {\n                var sdp = [];\n                sdp.push(candidate.foundation);\n                sdp.push(candidate.component);\n                sdp.push(candidate.protocol.toUpperCase());\n                sdp.push(candidate.priority);\n                sdp.push(candidate.ip);\n                sdp.push(candidate.port);\n\n                var type = candidate.type;\n                sdp.push('typ');\n                sdp.push(type);\n                if (type !== 'host' && candidate.relatedAddress &&\n                    candidate.relatedPort) {\n                    sdp.push('raddr');\n                    sdp.push(candidate.relatedAddress);\n                    sdp.push('rport');\n                    sdp.push(candidate.relatedPort);\n                }\n                if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n                    sdp.push('tcptype');\n                    sdp.push(candidate.tcpType);\n                }\n                if (candidate.usernameFragment || candidate.ufrag) {\n                    sdp.push('ufrag');\n                    sdp.push(candidate.usernameFragment || candidate.ufrag);\n                }\n                return 'candidate:' + sdp.join(' ');\n            };\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\n            SDPUtils.parseIceOptions = function (line) {\n                return line.substr(14).split(' ');\n            }\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\n            SDPUtils.parseRtpMap = function (line) {\n                var parts = line.substr(9).split(' ');\n                var parsed = {\n                    payloadType: parseInt(parts.shift(), 10) // was: id\n                };\n\n                parts = parts[0].split('/');\n\n                parsed.name = parts[0];\n                parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n                parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n                // legacy alias, got renamed back to channels in ORTC.\n                parsed.numChannels = parsed.channels;\n                return parsed;\n            };\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\n            SDPUtils.writeRtpMap = function (codec) {\n                var pt = codec.payloadType;\n                if (codec.preferredPayloadType !== undefined) {\n                    pt = codec.preferredPayloadType;\n                }\n                var channels = codec.channels || codec.numChannels || 1;\n                return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n                    (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n            };\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\n            SDPUtils.parseExtmap = function (line) {\n                var parts = line.substr(9).split(' ');\n                return {\n                    id: parseInt(parts[0], 10),\n                    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n                    uri: parts[1]\n                };\n            };\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\n            SDPUtils.writeExtmap = function (headerExtension) {\n                return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n                    (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n                        ? '/' + headerExtension.direction\n                        : '') +\n                    ' ' + headerExtension.uri + '\\r\\n';\n            };\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\n            SDPUtils.parseFmtp = function (line) {\n                var parsed = {};\n                var kv;\n                var parts = line.substr(line.indexOf(' ') + 1).split(';');\n                for (var j = 0; j < parts.length; j++) {\n                    kv = parts[j].trim().split('=');\n                    parsed[kv[0].trim()] = kv[1];\n                }\n                return parsed;\n            };\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\n            SDPUtils.writeFmtp = function (codec) {\n                var line = '';\n                var pt = codec.payloadType;\n                if (codec.preferredPayloadType !== undefined) {\n                    pt = codec.preferredPayloadType;\n                }\n                if (codec.parameters && Object.keys(codec.parameters).length) {\n                    var params = [];\n                    Object.keys(codec.parameters).forEach(function (param) {\n                        if (codec.parameters[param]) {\n                            params.push(param + '=' + codec.parameters[param]);\n                        } else {\n                            params.push(param);\n                        }\n                    });\n                    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n                }\n                return line;\n            };\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\n            SDPUtils.parseRtcpFb = function (line) {\n                var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n                return {\n                    type: parts.shift(),\n                    parameter: parts.join(' ')\n                };\n            };\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\n            SDPUtils.writeRtcpFb = function (codec) {\n                var lines = '';\n                var pt = codec.payloadType;\n                if (codec.preferredPayloadType !== undefined) {\n                    pt = codec.preferredPayloadType;\n                }\n                if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n                    // FIXME: special handling for trr-int?\n                    codec.rtcpFeedback.forEach(function (fb) {\n                        lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n                            (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n                            '\\r\\n';\n                    });\n                }\n                return lines;\n            };\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\n            SDPUtils.parseSsrcMedia = function (line) {\n                var sp = line.indexOf(' ');\n                var parts = {\n                    ssrc: parseInt(line.substr(7, sp - 7), 10)\n                };\n                var colon = line.indexOf(':', sp);\n                if (colon > -1) {\n                    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n                    parts.value = line.substr(colon + 1);\n                } else {\n                    parts.attribute = line.substr(sp + 1);\n                }\n                return parts;\n            };\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\n            SDPUtils.getMid = function (mediaSection) {\n                var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n                if (mid) {\n                    return mid.substr(6);\n                }\n            }\n\n            SDPUtils.parseFingerprint = function (line) {\n                var parts = line.substr(14).split(' ');\n                return {\n                    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n                    value: parts[1]\n                };\n            };\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\n            SDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n                var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n                    'a=fingerprint:');\n                // Note: a=setup line is ignored since we use the 'auto' role.\n                // Note2: 'algorithm' is not case sensitive except in Edge.\n                return {\n                    role: 'auto',\n                    fingerprints: lines.map(SDPUtils.parseFingerprint)\n                };\n            };\n\n// Serializes DTLS parameters to SDP.\n            SDPUtils.writeDtlsParameters = function (params, setupType) {\n                var sdp = 'a=setup:' + setupType + '\\r\\n';\n                params.fingerprints.forEach(function (fp) {\n                    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n                });\n                return sdp;\n            };\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\n            SDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n                var lines = SDPUtils.splitLines(mediaSection);\n                // Search in session part, too.\n                lines = lines.concat(SDPUtils.splitLines(sessionpart));\n                var iceParameters = {\n                    usernameFragment: lines.filter(function (line) {\n                        return line.indexOf('a=ice-ufrag:') === 0;\n                    })[0].substr(12),\n                    password: lines.filter(function (line) {\n                        return line.indexOf('a=ice-pwd:') === 0;\n                    })[0].substr(10)\n                };\n                return iceParameters;\n            };\n\n// Serializes ICE parameters to SDP.\n            SDPUtils.writeIceParameters = function (params) {\n                return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n                    'a=ice-pwd:' + params.password + '\\r\\n';\n            };\n\n// Parses the SDP media section and returns RTCRtpParameters.\n            SDPUtils.parseRtpParameters = function (mediaSection) {\n                var description = {\n                    codecs: [],\n                    headerExtensions: [],\n                    fecMechanisms: [],\n                    rtcp: []\n                };\n                var lines = SDPUtils.splitLines(mediaSection);\n                var mline = lines[0].split(' ');\n                for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n                    var pt = mline[i];\n                    var rtpmapline = SDPUtils.matchPrefix(\n                        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n                    if (rtpmapline) {\n                        var codec = SDPUtils.parseRtpMap(rtpmapline);\n                        var fmtps = SDPUtils.matchPrefix(\n                            mediaSection, 'a=fmtp:' + pt + ' ');\n                        // Only the first a=fmtp:<pt> is considered.\n                        codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n                        codec.rtcpFeedback = SDPUtils.matchPrefix(\n                            mediaSection, 'a=rtcp-fb:' + pt + ' ')\n                            .map(SDPUtils.parseRtcpFb);\n                        description.codecs.push(codec);\n                        // parse FEC mechanisms from rtpmap lines.\n                        switch (codec.name.toUpperCase()) {\n                            case 'RED':\n                            case 'ULPFEC':\n                                description.fecMechanisms.push(codec.name.toUpperCase());\n                                break;\n                            default: // only RED and ULPFEC are recognized as FEC mechanisms.\n                                break;\n                        }\n                    }\n                }\n                SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n                    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n                });\n                // FIXME: parse rtcp.\n                return description;\n            };\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\n            SDPUtils.writeRtpDescription = function (kind, caps) {\n                var sdp = '';\n\n                // Build the mline.\n                sdp += 'm=' + kind + ' ';\n                sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n                sdp += ' UDP/TLS/RTP/SAVPF ';\n                sdp += caps.codecs.map(function (codec) {\n                    if (codec.preferredPayloadType !== undefined) {\n                        return codec.preferredPayloadType;\n                    }\n                    return codec.payloadType;\n                }).join(' ') + '\\r\\n';\n\n                sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n                sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n                // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n                caps.codecs.forEach(function (codec) {\n                    sdp += SDPUtils.writeRtpMap(codec);\n                    sdp += SDPUtils.writeFmtp(codec);\n                    sdp += SDPUtils.writeRtcpFb(codec);\n                });\n                var maxptime = 0;\n                caps.codecs.forEach(function (codec) {\n                    if (codec.maxptime > maxptime) {\n                        maxptime = codec.maxptime;\n                    }\n                });\n                if (maxptime > 0) {\n                    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n                }\n                sdp += 'a=rtcp-mux\\r\\n';\n\n                if (caps.headerExtensions) {\n                    caps.headerExtensions.forEach(function (extension) {\n                        sdp += SDPUtils.writeExtmap(extension);\n                    });\n                }\n                // FIXME: write fecMechanisms.\n                return sdp;\n            };\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\n            SDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n                var encodingParameters = [];\n                var description = SDPUtils.parseRtpParameters(mediaSection);\n                var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n                var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n                // filter a=ssrc:... cname:, ignore PlanB-msid\n                var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                    .map(function (line) {\n                        return SDPUtils.parseSsrcMedia(line);\n                    })\n                    .filter(function (parts) {\n                        return parts.attribute === 'cname';\n                    });\n                var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n                var secondarySsrc;\n\n                var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n                    .map(function (line) {\n                        var parts = line.substr(17).split(' ');\n                        return parts.map(function (part) {\n                            return parseInt(part, 10);\n                        });\n                    });\n                if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n                    secondarySsrc = flows[0][1];\n                }\n\n                description.codecs.forEach(function (codec) {\n                    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n                        var encParam = {\n                            ssrc: primarySsrc,\n                            codecPayloadType: parseInt(codec.parameters.apt, 10),\n                        };\n                        if (primarySsrc && secondarySsrc) {\n                            encParam.rtx = {ssrc: secondarySsrc};\n                        }\n                        encodingParameters.push(encParam);\n                        if (hasRed) {\n                            encParam = JSON.parse(JSON.stringify(encParam));\n                            encParam.fec = {\n                                ssrc: secondarySsrc,\n                                mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n                            };\n                            encodingParameters.push(encParam);\n                        }\n                    }\n                });\n                if (encodingParameters.length === 0 && primarySsrc) {\n                    encodingParameters.push({\n                        ssrc: primarySsrc\n                    });\n                }\n\n                // we support both b=AS and b=TIAS but interpret AS as TIAS.\n                var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n                if (bandwidth.length) {\n                    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n                        bandwidth = parseInt(bandwidth[0].substr(7), 10);\n                    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n                        // use formula from JSEP to convert b=AS to TIAS value.\n                        bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n                            - (50 * 40 * 8);\n                    } else {\n                        bandwidth = undefined;\n                    }\n                    encodingParameters.forEach(function (params) {\n                        params.maxBitrate = bandwidth;\n                    });\n                }\n                return encodingParameters;\n            };\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\n            SDPUtils.parseRtcpParameters = function (mediaSection) {\n                var rtcpParameters = {};\n\n                var cname;\n                // Gets the first SSRC. Note that with RTX there might be multiple\n                // SSRCs.\n                var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                    .map(function (line) {\n                        return SDPUtils.parseSsrcMedia(line);\n                    })\n                    .filter(function (obj) {\n                        return obj.attribute === 'cname';\n                    })[0];\n                if (remoteSsrc) {\n                    rtcpParameters.cname = remoteSsrc.value;\n                    rtcpParameters.ssrc = remoteSsrc.ssrc;\n                }\n\n                // Edge uses the compound attribute instead of reducedSize\n                // compound is !reducedSize\n                var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n                rtcpParameters.reducedSize = rsize.length > 0;\n                rtcpParameters.compound = rsize.length === 0;\n\n                // parses the rtcp-mux attrbute.\n                // Note that Edge does not support unmuxed RTCP.\n                var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n                rtcpParameters.mux = mux.length > 0;\n\n                return rtcpParameters;\n            };\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\n            SDPUtils.parseMsid = function (mediaSection) {\n                var parts;\n                var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n                if (spec.length === 1) {\n                    parts = spec[0].substr(7).split(' ');\n                    return {stream: parts[0], track: parts[1]};\n                }\n                var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                    .map(function (line) {\n                        return SDPUtils.parseSsrcMedia(line);\n                    })\n                    .filter(function (parts) {\n                        return parts.attribute === 'msid';\n                    });\n                if (planB.length > 0) {\n                    parts = planB[0].value.split(' ');\n                    return {stream: parts[0], track: parts[1]};\n                }\n            };\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\n            SDPUtils.generateSessionId = function () {\n                return Math.random().toString().substr(2, 21);\n            };\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n            SDPUtils.writeSessionBoilerplate = function (sessId, sessVer) {\n                var sessionId;\n                var version = sessVer !== undefined ? sessVer : 2;\n                if (sessId) {\n                    sessionId = sessId;\n                } else {\n                    sessionId = SDPUtils.generateSessionId();\n                }\n                // FIXME: sess-id should be an NTP timestamp.\n                return 'v=0\\r\\n' +\n                    'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n                    's=-\\r\\n' +\n                    't=0 0\\r\\n';\n            };\n\n            SDPUtils.writeMediaSection = function (transceiver, caps, type, stream) {\n                var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n                // Map ICE parameters (ufrag, pwd) to SDP.\n                sdp += SDPUtils.writeIceParameters(\n                    transceiver.iceGatherer.getLocalParameters());\n\n                // Map DTLS parameters to SDP.\n                sdp += SDPUtils.writeDtlsParameters(\n                    transceiver.dtlsTransport.getLocalParameters(),\n                    type === 'offer' ? 'actpass' : 'active');\n\n                sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n                if (transceiver.direction) {\n                    sdp += 'a=' + transceiver.direction + '\\r\\n';\n                } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n                    sdp += 'a=sendrecv\\r\\n';\n                } else if (transceiver.rtpSender) {\n                    sdp += 'a=sendonly\\r\\n';\n                } else if (transceiver.rtpReceiver) {\n                    sdp += 'a=recvonly\\r\\n';\n                } else {\n                    sdp += 'a=inactive\\r\\n';\n                }\n\n                if (transceiver.rtpSender) {\n                    // spec.\n                    var msid = 'msid:' + stream.id + ' ' +\n                        transceiver.rtpSender.track.id + '\\r\\n';\n                    sdp += 'a=' + msid;\n\n                    // for Chrome.\n                    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n                        ' ' + msid;\n                    if (transceiver.sendEncodingParameters[0].rtx) {\n                        sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n                            ' ' + msid;\n                        sdp += 'a=ssrc-group:FID ' +\n                            transceiver.sendEncodingParameters[0].ssrc + ' ' +\n                            transceiver.sendEncodingParameters[0].rtx.ssrc +\n                            '\\r\\n';\n                    }\n                }\n                // FIXME: this should be written by writeRtpDescription.\n                sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n                    ' cname:' + SDPUtils.localCName + '\\r\\n';\n                if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n                    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n                        ' cname:' + SDPUtils.localCName + '\\r\\n';\n                }\n                return sdp;\n            };\n\n// Gets the direction from the mediaSection or the sessionpart.\n            SDPUtils.getDirection = function (mediaSection, sessionpart) {\n                // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n                var lines = SDPUtils.splitLines(mediaSection);\n                for (var i = 0; i < lines.length; i++) {\n                    switch (lines[i]) {\n                        case 'a=sendrecv':\n                        case 'a=sendonly':\n                        case 'a=recvonly':\n                        case 'a=inactive':\n                            return lines[i].substr(2);\n                        default:\n                        // FIXME: What should happen here?\n                    }\n                }\n                if (sessionpart) {\n                    return SDPUtils.getDirection(sessionpart);\n                }\n                return 'sendrecv';\n            };\n\n            SDPUtils.getKind = function (mediaSection) {\n                var lines = SDPUtils.splitLines(mediaSection);\n                var mline = lines[0].split(' ');\n                return mline[0].substr(2);\n            };\n\n            SDPUtils.isRejected = function (mediaSection) {\n                return mediaSection.split(' ', 2)[1] === '0';\n            };\n\n            SDPUtils.parseMLine = function (mediaSection) {\n                var lines = SDPUtils.splitLines(mediaSection);\n                var parts = lines[0].substr(2).split(' ');\n                return {\n                    kind: parts[0],\n                    port: parseInt(parts[1], 10),\n                    protocol: parts[2],\n                    fmt: parts.slice(3).join(' ')\n                };\n            };\n\n            SDPUtils.parseOLine = function (mediaSection) {\n                var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n                var parts = line.substr(2).split(' ');\n                return {\n                    username: parts[0],\n                    sessionId: parts[1],\n                    sessionVersion: parseInt(parts[2], 10),\n                    netType: parts[3],\n                    addressType: parts[4],\n                    address: parts[5],\n                };\n            }\n\n// Expose public methods.\n            if (typeof module === 'object') {\n                module.exports = SDPUtils;\n            }\n\n        }, {}],\n        3: [function (require, module, exports) {\n            (function (global) {\n                /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n                /* eslint-env node */\n\n                'use strict';\n\n                var adapterFactory = require('./adapter_factory.js');\n                module.exports = adapterFactory({window: global.window});\n\n            }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n        }, {\"./adapter_factory.js\": 4}],\n        4: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n\n            'use strict';\n\n            var utils = require('./utils');\n// Shimming starts here.\n            module.exports = function (dependencies, opts) {\n                var window = dependencies && dependencies.window;\n\n                var options = {\n                    shimChrome: true,\n                    shimFirefox: true,\n                    shimEdge: true,\n                    shimSafari: true,\n                };\n\n                for (var key in opts) {\n                    if (hasOwnProperty.call(opts, key)) {\n                        options[key] = opts[key];\n                    }\n                }\n\n                // Utils.\n                var logging = utils.log;\n                var browserDetails = utils.detectBrowser(window);\n\n                // Uncomment the line below if you want logging to occur, including logging\n                // for the switch statement below. Can also be turned on in the browser via\n                // adapter.disableLog(false), but then logging from the switch statement below\n                // will not appear.\n                // require('./utils').disableLog(false);\n\n                // Browser shims.\n                var chromeShim = require('./chrome/chrome_shim') || null;\n                var edgeShim = require('./edge/edge_shim') || null;\n                var firefoxShim = require('./firefox/firefox_shim') || null;\n                var safariShim = require('./safari/safari_shim') || null;\n                var commonShim = require('./common_shim') || null;\n\n                // Export to the adapter global object visible in the browser.\n                var adapter = {\n                    browserDetails: browserDetails,\n                    commonShim: commonShim,\n                    extractVersion: utils.extractVersion,\n                    disableLog: utils.disableLog,\n                    disableWarnings: utils.disableWarnings\n                };\n\n                // Shim browser if found.\n                switch (browserDetails.browser) {\n                    case 'chrome':\n                        if (!chromeShim || !chromeShim.shimPeerConnection ||\n                            !options.shimChrome) {\n                            logging('Chrome shim is not included in this adapter release.');\n                            return adapter;\n                        }\n                        logging('adapter.js shimming chrome.');\n                        // Export to the adapter global object visible in the browser.\n                        adapter.browserShim = chromeShim;\n                        commonShim.shimCreateObjectURL(window);\n\n                        chromeShim.shimGetUserMedia(window);\n                        chromeShim.shimMediaStream(window);\n                        chromeShim.shimSourceObject(window);\n                        chromeShim.shimPeerConnection(window);\n                        chromeShim.shimOnTrack(window);\n                        chromeShim.shimAddTrackRemoveTrack(window);\n                        chromeShim.shimGetSendersWithDtmf(window);\n                        chromeShim.shimSenderReceiverGetStats(window);\n\n                        commonShim.shimRTCIceCandidate(window);\n                        commonShim.shimMaxMessageSize(window);\n                        commonShim.shimSendThrowTypeError(window);\n                        break;\n                    case 'firefox':\n                        if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n                            !options.shimFirefox) {\n                            logging('Firefox shim is not included in this adapter release.');\n                            return adapter;\n                        }\n                        logging('adapter.js shimming firefox.');\n                        // Export to the adapter global object visible in the browser.\n                        adapter.browserShim = firefoxShim;\n                        commonShim.shimCreateObjectURL(window);\n\n                        firefoxShim.shimGetUserMedia(window);\n                        firefoxShim.shimSourceObject(window);\n                        firefoxShim.shimPeerConnection(window);\n                        firefoxShim.shimOnTrack(window);\n                        firefoxShim.shimRemoveStream(window);\n                        firefoxShim.shimSenderGetStats(window);\n                        firefoxShim.shimReceiverGetStats(window);\n                        firefoxShim.shimRTCDataChannel(window);\n\n                        commonShim.shimRTCIceCandidate(window);\n                        commonShim.shimMaxMessageSize(window);\n                        commonShim.shimSendThrowTypeError(window);\n                        break;\n                    case 'edge':\n                        if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n                            logging('MS edge shim is not included in this adapter release.');\n                            return adapter;\n                        }\n                        logging('adapter.js shimming edge.');\n                        // Export to the adapter global object visible in the browser.\n                        adapter.browserShim = edgeShim;\n                        commonShim.shimCreateObjectURL(window);\n\n                        edgeShim.shimGetUserMedia(window);\n                        edgeShim.shimPeerConnection(window);\n                        edgeShim.shimReplaceTrack(window);\n\n                        // the edge shim implements the full RTCIceCandidate object.\n\n                        commonShim.shimMaxMessageSize(window);\n                        commonShim.shimSendThrowTypeError(window);\n                        break;\n                    case 'safari':\n                        if (!safariShim || !options.shimSafari) {\n                            logging('Safari shim is not included in this adapter release.');\n                            return adapter;\n                        }\n                        logging('adapter.js shimming safari.');\n                        // Export to the adapter global object visible in the browser.\n                        adapter.browserShim = safariShim;\n                        commonShim.shimCreateObjectURL(window);\n\n                        safariShim.shimRTCIceServerUrls(window);\n                        safariShim.shimCallbacksAPI(window);\n                        safariShim.shimLocalStreamsAPI(window);\n                        safariShim.shimRemoteStreamsAPI(window);\n                        safariShim.shimTrackEventTransceiver(window);\n                        safariShim.shimGetUserMedia(window);\n                        safariShim.shimCreateOfferLegacy(window);\n\n                        commonShim.shimRTCIceCandidate(window);\n                        commonShim.shimMaxMessageSize(window);\n                        commonShim.shimSendThrowTypeError(window);\n                        break;\n                    default:\n                        logging('Unsupported browser!');\n                        break;\n                }\n\n                return adapter;\n            };\n\n        }, {\"./chrome/chrome_shim\": 5, \"./common_shim\": 7, \"./edge/edge_shim\": 8, \"./firefox/firefox_shim\": 11, \"./safari/safari_shim\": 13, \"./utils\": 14}],\n        5: [function (require, module, exports) {\n\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n            var utils = require('../utils.js');\n            var logging = utils.log;\n\n            /* iterates the stats graph recursively. */\n            function walkStats(stats, base, resultSet) {\n                if (!base || resultSet.has(base.id)) {\n                    return;\n                }\n                resultSet.set(base.id, base);\n                Object.keys(base).forEach(function (name) {\n                    if (name.endsWith('Id')) {\n                        walkStats(stats, stats.get(base[name]), resultSet);\n                    } else if (name.endsWith('Ids')) {\n                        base[name].forEach(function (id) {\n                            walkStats(stats, stats.get(id), resultSet);\n                        });\n                    }\n                });\n            }\n\n            /* filter getStats for a sender/receiver track. */\n            function filterStats(result, track, outbound) {\n                var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n                var filteredResult = new Map();\n                if (track === null) {\n                    return filteredResult;\n                }\n                var trackStats = [];\n                result.forEach(function (value) {\n                    if (value.type === 'track' &&\n                        value.trackIdentifier === track.id) {\n                        trackStats.push(value);\n                    }\n                });\n                trackStats.forEach(function (trackStat) {\n                    result.forEach(function (stats) {\n                        if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n                            walkStats(result, stats, filteredResult);\n                        }\n                    });\n                });\n                return filteredResult;\n            }\n\n            module.exports = {\n                shimGetUserMedia: require('./getusermedia'),\n                shimMediaStream: function (window) {\n                    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n                },\n\n                shimOnTrack: function (window) {\n                    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n                            window.RTCPeerConnection.prototype)) {\n                        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n                            get: function () {\n                                return this._ontrack;\n                            },\n                            set: function (f) {\n                                if (this._ontrack) {\n                                    this.removeEventListener('track', this._ontrack);\n                                }\n                                this.addEventListener('track', this._ontrack = f);\n                            }\n                        });\n                        var origSetRemoteDescription =\n                            window.RTCPeerConnection.prototype.setRemoteDescription;\n                        window.RTCPeerConnection.prototype.setRemoteDescription = function () {\n                            var pc = this;\n                            if (!pc._ontrackpoly) {\n                                pc._ontrackpoly = function (e) {\n                                    // onaddstream does not fire when a track is added to an existing\n                                    // stream. But stream.onaddtrack is implemented so we use that.\n                                    e.stream.addEventListener('addtrack', function (te) {\n                                        var receiver;\n                                        if (window.RTCPeerConnection.prototype.getReceivers) {\n                                            receiver = pc.getReceivers().find(function (r) {\n                                                return r.track && r.track.id === te.track.id;\n                                            });\n                                        } else {\n                                            receiver = {track: te.track};\n                                        }\n\n                                        var event = new Event('track');\n                                        event.track = te.track;\n                                        event.receiver = receiver;\n                                        event.transceiver = {receiver: receiver};\n                                        event.streams = [e.stream];\n                                        pc.dispatchEvent(event);\n                                    });\n                                    e.stream.getTracks().forEach(function (track) {\n                                        var receiver;\n                                        if (window.RTCPeerConnection.prototype.getReceivers) {\n                                            receiver = pc.getReceivers().find(function (r) {\n                                                return r.track && r.track.id === track.id;\n                                            });\n                                        } else {\n                                            receiver = {track: track};\n                                        }\n                                        var event = new Event('track');\n                                        event.track = track;\n                                        event.receiver = receiver;\n                                        event.transceiver = {receiver: receiver};\n                                        event.streams = [e.stream];\n                                        pc.dispatchEvent(event);\n                                    });\n                                };\n                                pc.addEventListener('addstream', pc._ontrackpoly);\n                            }\n                            return origSetRemoteDescription.apply(pc, arguments);\n                        };\n                    } else if (!('RTCRtpTransceiver' in window)) {\n                        utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n                            if (!e.transceiver) {\n                                e.transceiver = {receiver: e.receiver};\n                            }\n                            return e;\n                        });\n                    }\n                },\n\n                shimGetSendersWithDtmf: function (window) {\n                    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n                    if (typeof window === 'object' && window.RTCPeerConnection &&\n                        !('getSenders' in window.RTCPeerConnection.prototype) &&\n                        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n                        var shimSenderWithDtmf = function (pc, track) {\n                            return {\n                                track: track,\n                                get dtmf() {\n                                    if (this._dtmf === undefined) {\n                                        if (track.kind === 'audio') {\n                                            this._dtmf = pc.createDTMFSender(track);\n                                        } else {\n                                            this._dtmf = null;\n                                        }\n                                    }\n                                    return this._dtmf;\n                                },\n                                _pc: pc\n                            };\n                        };\n\n                        // augment addTrack when getSenders is not available.\n                        if (!window.RTCPeerConnection.prototype.getSenders) {\n                            window.RTCPeerConnection.prototype.getSenders = function () {\n                                this._senders = this._senders || [];\n                                return this._senders.slice(); // return a copy of the internal state.\n                            };\n                            var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n                            window.RTCPeerConnection.prototype.addTrack = function (track, stream) {\n                                var pc = this;\n                                var sender = origAddTrack.apply(pc, arguments);\n                                if (!sender) {\n                                    sender = shimSenderWithDtmf(pc, track);\n                                    pc._senders.push(sender);\n                                }\n                                return sender;\n                            };\n\n                            var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n                            window.RTCPeerConnection.prototype.removeTrack = function (sender) {\n                                var pc = this;\n                                origRemoveTrack.apply(pc, arguments);\n                                var idx = pc._senders.indexOf(sender);\n                                if (idx !== -1) {\n                                    pc._senders.splice(idx, 1);\n                                }\n                            };\n                        }\n                        var origAddStream = window.RTCPeerConnection.prototype.addStream;\n                        window.RTCPeerConnection.prototype.addStream = function (stream) {\n                            var pc = this;\n                            pc._senders = pc._senders || [];\n                            origAddStream.apply(pc, [stream]);\n                            stream.getTracks().forEach(function (track) {\n                                pc._senders.push(shimSenderWithDtmf(pc, track));\n                            });\n                        };\n\n                        var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n                        window.RTCPeerConnection.prototype.removeStream = function (stream) {\n                            var pc = this;\n                            pc._senders = pc._senders || [];\n                            origRemoveStream.apply(pc, [stream]);\n\n                            stream.getTracks().forEach(function (track) {\n                                var sender = pc._senders.find(function (s) {\n                                    return s.track === track;\n                                });\n                                if (sender) {\n                                    pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n                                }\n                            });\n                        };\n                    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n                        'getSenders' in window.RTCPeerConnection.prototype &&\n                        'createDTMFSender' in window.RTCPeerConnection.prototype &&\n                        window.RTCRtpSender &&\n                        !('dtmf' in window.RTCRtpSender.prototype)) {\n                        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n                        window.RTCPeerConnection.prototype.getSenders = function () {\n                            var pc = this;\n                            var senders = origGetSenders.apply(pc, []);\n                            senders.forEach(function (sender) {\n                                sender._pc = pc;\n                            });\n                            return senders;\n                        };\n\n                        Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n                            get: function () {\n                                if (this._dtmf === undefined) {\n                                    if (this.track.kind === 'audio') {\n                                        this._dtmf = this._pc.createDTMFSender(this.track);\n                                    } else {\n                                        this._dtmf = null;\n                                    }\n                                }\n                                return this._dtmf;\n                            }\n                        });\n                    }\n                },\n\n                shimSenderReceiverGetStats: function (window) {\n                    if (!(typeof window === 'object' && window.RTCPeerConnection &&\n                            window.RTCRtpSender && window.RTCRtpReceiver)) {\n                        return;\n                    }\n\n                    // shim sender stats.\n                    if (!('getStats' in window.RTCRtpSender.prototype)) {\n                        var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n                        if (origGetSenders) {\n                            window.RTCPeerConnection.prototype.getSenders = function () {\n                                var pc = this;\n                                var senders = origGetSenders.apply(pc, []);\n                                senders.forEach(function (sender) {\n                                    sender._pc = pc;\n                                });\n                                return senders;\n                            };\n                        }\n\n                        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n                        if (origAddTrack) {\n                            window.RTCPeerConnection.prototype.addTrack = function () {\n                                var sender = origAddTrack.apply(this, arguments);\n                                sender._pc = this;\n                                return sender;\n                            };\n                        }\n                        window.RTCRtpSender.prototype.getStats = function () {\n                            var sender = this;\n                            return this._pc.getStats().then(function (result) {\n                                /* Note: this will include stats of all senders that\n           *   send a track with the same id as sender.track as\n           *   it is not possible to identify the RTCRtpSender.\n           */\n                                return filterStats(result, sender.track, true);\n                            });\n                        };\n                    }\n\n                    // shim receiver stats.\n                    if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n                        var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n                        if (origGetReceivers) {\n                            window.RTCPeerConnection.prototype.getReceivers = function () {\n                                var pc = this;\n                                var receivers = origGetReceivers.apply(pc, []);\n                                receivers.forEach(function (receiver) {\n                                    receiver._pc = pc;\n                                });\n                                return receivers;\n                            };\n                        }\n                        utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n                            e.receiver._pc = e.srcElement;\n                            return e;\n                        });\n                        window.RTCRtpReceiver.prototype.getStats = function () {\n                            var receiver = this;\n                            return this._pc.getStats().then(function (result) {\n                                return filterStats(result, receiver.track, false);\n                            });\n                        };\n                    }\n\n                    if (!('getStats' in window.RTCRtpSender.prototype &&\n                            'getStats' in window.RTCRtpReceiver.prototype)) {\n                        return;\n                    }\n\n                    // shim RTCPeerConnection.getStats(track).\n                    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n                    window.RTCPeerConnection.prototype.getStats = function () {\n                        var pc = this;\n                        if (arguments.length > 0 &&\n                            arguments[0] instanceof window.MediaStreamTrack) {\n                            var track = arguments[0];\n                            var sender;\n                            var receiver;\n                            var err;\n                            pc.getSenders().forEach(function (s) {\n                                if (s.track === track) {\n                                    if (sender) {\n                                        err = true;\n                                    } else {\n                                        sender = s;\n                                    }\n                                }\n                            });\n                            pc.getReceivers().forEach(function (r) {\n                                if (r.track === track) {\n                                    if (receiver) {\n                                        err = true;\n                                    } else {\n                                        receiver = r;\n                                    }\n                                }\n                                return r.track === track;\n                            });\n                            if (err || (sender && receiver)) {\n                                return Promise.reject(new DOMException(\n                                    'There are more than one sender or receiver for the track.',\n                                    'InvalidAccessError'));\n                            } else if (sender) {\n                                return sender.getStats();\n                            } else if (receiver) {\n                                return receiver.getStats();\n                            }\n                            return Promise.reject(new DOMException(\n                                'There is no sender or receiver for the track.',\n                                'InvalidAccessError'));\n                        }\n                        return origGetStats.apply(pc, arguments);\n                    };\n                },\n\n                shimSourceObject: function (window) {\n                    var URL = window && window.URL;\n\n                    if (typeof window === 'object') {\n                        if (window.HTMLMediaElement &&\n                            !('srcObject' in window.HTMLMediaElement.prototype)) {\n                            // Shim the srcObject property, once, when HTMLMediaElement is found.\n                            Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n                                get: function () {\n                                    return this._srcObject;\n                                },\n                                set: function (stream) {\n                                    var self = this;\n                                    // Use _srcObject as a private property for this shim\n                                    this._srcObject = stream;\n                                    if (this.src) {\n                                        URL.revokeObjectURL(this.src);\n                                    }\n\n                                    if (!stream) {\n                                        this.src = '';\n                                        return undefined;\n                                    }\n                                    this.src = URL.createObjectURL(stream);\n                                    // We need to recreate the blob url when a track is added or\n                                    // removed. Doing it manually since we want to avoid a recursion.\n                                    stream.addEventListener('addtrack', function () {\n                                        if (self.src) {\n                                            URL.revokeObjectURL(self.src);\n                                        }\n                                        self.src = URL.createObjectURL(stream);\n                                    });\n                                    stream.addEventListener('removetrack', function () {\n                                        if (self.src) {\n                                            URL.revokeObjectURL(self.src);\n                                        }\n                                        self.src = URL.createObjectURL(stream);\n                                    });\n                                }\n                            });\n                        }\n                    }\n                },\n\n                shimAddTrackRemoveTrackWithNative: function (window) {\n                    // shim addTrack/removeTrack with native variants in order to make\n                    // the interactions with legacy getLocalStreams behave as in other browsers.\n                    // Keeps a mapping stream.id => [stream, rtpsenders...]\n                    window.RTCPeerConnection.prototype.getLocalStreams = function () {\n                        var pc = this;\n                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n                        return Object.keys(this._shimmedLocalStreams).map(function (streamId) {\n                            return pc._shimmedLocalStreams[streamId][0];\n                        });\n                    };\n\n                    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n                    window.RTCPeerConnection.prototype.addTrack = function (track, stream) {\n                        if (!stream) {\n                            return origAddTrack.apply(this, arguments);\n                        }\n                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n                        var sender = origAddTrack.apply(this, arguments);\n                        if (!this._shimmedLocalStreams[stream.id]) {\n                            this._shimmedLocalStreams[stream.id] = [stream, sender];\n                        } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n                            this._shimmedLocalStreams[stream.id].push(sender);\n                        }\n                        return sender;\n                    };\n\n                    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n                    window.RTCPeerConnection.prototype.addStream = function (stream) {\n                        var pc = this;\n                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n                        stream.getTracks().forEach(function (track) {\n                            var alreadyExists = pc.getSenders().find(function (s) {\n                                return s.track === track;\n                            });\n                            if (alreadyExists) {\n                                throw new DOMException('Track already exists.',\n                                    'InvalidAccessError');\n                            }\n                        });\n                        var existingSenders = pc.getSenders();\n                        origAddStream.apply(this, arguments);\n                        var newSenders = pc.getSenders().filter(function (newSender) {\n                            return existingSenders.indexOf(newSender) === -1;\n                        });\n                        this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n                    };\n\n                    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n                    window.RTCPeerConnection.prototype.removeStream = function (stream) {\n                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n                        delete this._shimmedLocalStreams[stream.id];\n                        return origRemoveStream.apply(this, arguments);\n                    };\n\n                    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n                    window.RTCPeerConnection.prototype.removeTrack = function (sender) {\n                        var pc = this;\n                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n                        if (sender) {\n                            Object.keys(this._shimmedLocalStreams).forEach(function (streamId) {\n                                var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n                                if (idx !== -1) {\n                                    pc._shimmedLocalStreams[streamId].splice(idx, 1);\n                                }\n                                if (pc._shimmedLocalStreams[streamId].length === 1) {\n                                    delete pc._shimmedLocalStreams[streamId];\n                                }\n                            });\n                        }\n                        return origRemoveTrack.apply(this, arguments);\n                    };\n                },\n\n                shimAddTrackRemoveTrack: function (window) {\n                    var browserDetails = utils.detectBrowser(window);\n                    // shim addTrack and removeTrack.\n                    if (window.RTCPeerConnection.prototype.addTrack &&\n                        browserDetails.version >= 65) {\n                        return this.shimAddTrackRemoveTrackWithNative(window);\n                    }\n\n                    // also shim pc.getLocalStreams when addTrack is shimmed\n                    // to return the original streams.\n                    var origGetLocalStreams = window.RTCPeerConnection.prototype\n                        .getLocalStreams;\n                    window.RTCPeerConnection.prototype.getLocalStreams = function () {\n                        var pc = this;\n                        var nativeStreams = origGetLocalStreams.apply(this);\n                        pc._reverseStreams = pc._reverseStreams || {};\n                        return nativeStreams.map(function (stream) {\n                            return pc._reverseStreams[stream.id];\n                        });\n                    };\n\n                    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n                    window.RTCPeerConnection.prototype.addStream = function (stream) {\n                        var pc = this;\n                        pc._streams = pc._streams || {};\n                        pc._reverseStreams = pc._reverseStreams || {};\n\n                        stream.getTracks().forEach(function (track) {\n                            var alreadyExists = pc.getSenders().find(function (s) {\n                                return s.track === track;\n                            });\n                            if (alreadyExists) {\n                                throw new DOMException('Track already exists.',\n                                    'InvalidAccessError');\n                            }\n                        });\n                        // Add identity mapping for consistency with addTrack.\n                        // Unless this is being used with a stream from addTrack.\n                        if (!pc._reverseStreams[stream.id]) {\n                            var newStream = new window.MediaStream(stream.getTracks());\n                            pc._streams[stream.id] = newStream;\n                            pc._reverseStreams[newStream.id] = stream;\n                            stream = newStream;\n                        }\n                        origAddStream.apply(pc, [stream]);\n                    };\n\n                    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n                    window.RTCPeerConnection.prototype.removeStream = function (stream) {\n                        var pc = this;\n                        pc._streams = pc._streams || {};\n                        pc._reverseStreams = pc._reverseStreams || {};\n\n                        origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n                        delete pc._reverseStreams[(pc._streams[stream.id] ?\n                            pc._streams[stream.id].id : stream.id)];\n                        delete pc._streams[stream.id];\n                    };\n\n                    window.RTCPeerConnection.prototype.addTrack = function (track, stream) {\n                        var pc = this;\n                        if (pc.signalingState === 'closed') {\n                            throw new DOMException(\n                                'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n                                'InvalidStateError');\n                        }\n                        var streams = [].slice.call(arguments, 1);\n                        if (streams.length !== 1 ||\n                            !streams[0].getTracks().find(function (t) {\n                                return t === track;\n                            })) {\n                            // this is not fully correct but all we can manage without\n                            // [[associated MediaStreams]] internal slot.\n                            throw new DOMException(\n                                'The adapter.js addTrack polyfill only supports a single ' +\n                                ' stream which is associated with the specified track.',\n                                'NotSupportedError');\n                        }\n\n                        var alreadyExists = pc.getSenders().find(function (s) {\n                            return s.track === track;\n                        });\n                        if (alreadyExists) {\n                            throw new DOMException('Track already exists.',\n                                'InvalidAccessError');\n                        }\n\n                        pc._streams = pc._streams || {};\n                        pc._reverseStreams = pc._reverseStreams || {};\n                        var oldStream = pc._streams[stream.id];\n                        if (oldStream) {\n                            // this is using odd Chrome behaviour, use with caution:\n                            // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n                            // Note: we rely on the high-level addTrack/dtmf shim to\n                            // create the sender with a dtmf sender.\n                            oldStream.addTrack(track);\n\n                            // Trigger ONN async.\n                            Promise.resolve().then(function () {\n                                pc.dispatchEvent(new Event('negotiationneeded'));\n                            });\n                        } else {\n                            var newStream = new window.MediaStream([track]);\n                            pc._streams[stream.id] = newStream;\n                            pc._reverseStreams[newStream.id] = stream;\n                            pc.addStream(newStream);\n                        }\n                        return pc.getSenders().find(function (s) {\n                            return s.track === track;\n                        });\n                    };\n\n                    // replace the internal stream id with the external one and\n                    // vice versa.\n                    function replaceInternalStreamId(pc, description) {\n                        var sdp = description.sdp;\n                        Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n                            var externalStream = pc._reverseStreams[internalId];\n                            var internalStream = pc._streams[externalStream.id];\n                            sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n                                externalStream.id);\n                        });\n                        return new RTCSessionDescription({\n                            type: description.type,\n                            sdp: sdp\n                        });\n                    }\n\n                    function replaceExternalStreamId(pc, description) {\n                        var sdp = description.sdp;\n                        Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n                            var externalStream = pc._reverseStreams[internalId];\n                            var internalStream = pc._streams[externalStream.id];\n                            sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n                                internalStream.id);\n                        });\n                        return new RTCSessionDescription({\n                            type: description.type,\n                            sdp: sdp\n                        });\n                    }\n\n                    ['createOffer', 'createAnswer'].forEach(function (method) {\n                        var nativeMethod = window.RTCPeerConnection.prototype[method];\n                        window.RTCPeerConnection.prototype[method] = function () {\n                            var pc = this;\n                            var args = arguments;\n                            var isLegacyCall = arguments.length &&\n                                typeof arguments[0] === 'function';\n                            if (isLegacyCall) {\n                                return nativeMethod.apply(pc, [\n                                    function (description) {\n                                        var desc = replaceInternalStreamId(pc, description);\n                                        args[0].apply(null, [desc]);\n                                    },\n                                    function (err) {\n                                        if (args[1]) {\n                                            args[1].apply(null, err);\n                                        }\n                                    }, arguments[2]\n                                ]);\n                            }\n                            return nativeMethod.apply(pc, arguments)\n                                .then(function (description) {\n                                    return replaceInternalStreamId(pc, description);\n                                });\n                        };\n                    });\n\n                    var origSetLocalDescription =\n                        window.RTCPeerConnection.prototype.setLocalDescription;\n                    window.RTCPeerConnection.prototype.setLocalDescription = function () {\n                        var pc = this;\n                        if (!arguments.length || !arguments[0].type) {\n                            return origSetLocalDescription.apply(pc, arguments);\n                        }\n                        arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n                        return origSetLocalDescription.apply(pc, arguments);\n                    };\n\n                    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n                    var origLocalDescription = Object.getOwnPropertyDescriptor(\n                        window.RTCPeerConnection.prototype, 'localDescription');\n                    Object.defineProperty(window.RTCPeerConnection.prototype,\n                        'localDescription', {\n                            get: function () {\n                                var pc = this;\n                                var description = origLocalDescription.get.apply(this);\n                                if (description.type === '') {\n                                    return description;\n                                }\n                                return replaceInternalStreamId(pc, description);\n                            }\n                        });\n\n                    window.RTCPeerConnection.prototype.removeTrack = function (sender) {\n                        var pc = this;\n                        if (pc.signalingState === 'closed') {\n                            throw new DOMException(\n                                'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n                                'InvalidStateError');\n                        }\n                        // We can not yet check for sender instanceof RTCRtpSender\n                        // since we shim RTPSender. So we check if sender._pc is set.\n                        if (!sender._pc) {\n                            throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n                                'does not implement interface RTCRtpSender.', 'TypeError');\n                        }\n                        var isLocal = sender._pc === pc;\n                        if (!isLocal) {\n                            throw new DOMException('Sender was not created by this connection.',\n                                'InvalidAccessError');\n                        }\n\n                        // Search for the native stream the senders track belongs to.\n                        pc._streams = pc._streams || {};\n                        var stream;\n                        Object.keys(pc._streams).forEach(function (streamid) {\n                            var hasTrack = pc._streams[streamid].getTracks().find(function (track) {\n                                return sender.track === track;\n                            });\n                            if (hasTrack) {\n                                stream = pc._streams[streamid];\n                            }\n                        });\n\n                        if (stream) {\n                            if (stream.getTracks().length === 1) {\n                                // if this is the last track of the stream, remove the stream. This\n                                // takes care of any shimmed _senders.\n                                pc.removeStream(pc._reverseStreams[stream.id]);\n                            } else {\n                                // relying on the same odd chrome behaviour as above.\n                                stream.removeTrack(sender.track);\n                            }\n                            pc.dispatchEvent(new Event('negotiationneeded'));\n                        }\n                    };\n                },\n\n                shimPeerConnection: function (window) {\n                    var browserDetails = utils.detectBrowser(window);\n\n                    // The RTCPeerConnection object.\n                    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n                        window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n                            // Translate iceTransportPolicy to iceTransports,\n                            // see https://code.google.com/p/webrtc/issues/detail?id=4869\n                            // this was fixed in M56 along with unprefixing RTCPeerConnection.\n                            logging('PeerConnection');\n                            if (pcConfig && pcConfig.iceTransportPolicy) {\n                                pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n                            }\n\n                            return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n                        };\n                        window.RTCPeerConnection.prototype =\n                            window.webkitRTCPeerConnection.prototype;\n                        // wrap static methods. Currently just generateCertificate.\n                        if (window.webkitRTCPeerConnection.generateCertificate) {\n                            Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n                                get: function () {\n                                    return window.webkitRTCPeerConnection.generateCertificate;\n                                }\n                            });\n                        }\n                    } else {\n                        // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n                        var OrigPeerConnection = window.RTCPeerConnection;\n                        window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n                            if (pcConfig && pcConfig.iceServers) {\n                                var newIceServers = [];\n                                for (var i = 0; i < pcConfig.iceServers.length; i++) {\n                                    var server = pcConfig.iceServers[i];\n                                    if (!server.hasOwnProperty('urls') &&\n                                        server.hasOwnProperty('url')) {\n                                        utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n                                        server = JSON.parse(JSON.stringify(server));\n                                        server.urls = server.url;\n                                        newIceServers.push(server);\n                                    } else {\n                                        newIceServers.push(pcConfig.iceServers[i]);\n                                    }\n                                }\n                                pcConfig.iceServers = newIceServers;\n                            }\n                            return new OrigPeerConnection(pcConfig, pcConstraints);\n                        };\n                        window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n                        // wrap static methods. Currently just generateCertificate.\n                        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n                            get: function () {\n                                return OrigPeerConnection.generateCertificate;\n                            }\n                        });\n                    }\n\n                    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n                    window.RTCPeerConnection.prototype.getStats = function (selector,\n                                                                            successCallback, errorCallback) {\n                        var pc = this;\n                        var args = arguments;\n\n                        // If selector is a function then we are in the old style stats so just\n                        // pass back the original getStats format to avoid breaking old users.\n                        if (arguments.length > 0 && typeof selector === 'function') {\n                            return origGetStats.apply(this, arguments);\n                        }\n\n                        // When spec-style getStats is supported, return those when called with\n                        // either no arguments or the selector argument is null.\n                        if (origGetStats.length === 0 && (arguments.length === 0 ||\n                                typeof arguments[0] !== 'function')) {\n                            return origGetStats.apply(this, []);\n                        }\n\n                        var fixChromeStats_ = function (response) {\n                            var standardReport = {};\n                            var reports = response.result();\n                            reports.forEach(function (report) {\n                                var standardStats = {\n                                    id: report.id,\n                                    timestamp: report.timestamp,\n                                    type: {\n                                        localcandidate: 'local-candidate',\n                                        remotecandidate: 'remote-candidate'\n                                    }[report.type] || report.type\n                                };\n                                report.names().forEach(function (name) {\n                                    standardStats[name] = report.stat(name);\n                                });\n                                standardReport[standardStats.id] = standardStats;\n                            });\n\n                            return standardReport;\n                        };\n\n                        // shim getStats with maplike support\n                        var makeMapStats = function (stats) {\n                            return new Map(Object.keys(stats).map(function (key) {\n                                return [key, stats[key]];\n                            }));\n                        };\n\n                        if (arguments.length >= 2) {\n                            var successCallbackWrapper_ = function (response) {\n                                args[1](makeMapStats(fixChromeStats_(response)));\n                            };\n\n                            return origGetStats.apply(this, [successCallbackWrapper_,\n                                arguments[0]]);\n                        }\n\n                        // promise-support\n                        return new Promise(function (resolve, reject) {\n                            origGetStats.apply(pc, [\n                                function (response) {\n                                    resolve(makeMapStats(fixChromeStats_(response)));\n                                }, reject]);\n                        }).then(successCallback, errorCallback);\n                    };\n\n                    // add promise support -- natively available in Chrome 51\n                    if (browserDetails.version < 51) {\n                        ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n                            .forEach(function (method) {\n                                var nativeMethod = window.RTCPeerConnection.prototype[method];\n                                window.RTCPeerConnection.prototype[method] = function () {\n                                    var args = arguments;\n                                    var pc = this;\n                                    var promise = new Promise(function (resolve, reject) {\n                                        nativeMethod.apply(pc, [args[0], resolve, reject]);\n                                    });\n                                    if (args.length < 2) {\n                                        return promise;\n                                    }\n                                    return promise.then(function () {\n                                            args[1].apply(null, []);\n                                        },\n                                        function (err) {\n                                            if (args.length >= 3) {\n                                                args[2].apply(null, [err]);\n                                            }\n                                        });\n                                };\n                            });\n                    }\n\n                    // promise support for createOffer and createAnswer. Available (without\n                    // bugs) since M52: crbug/619289\n                    if (browserDetails.version < 52) {\n                        ['createOffer', 'createAnswer'].forEach(function (method) {\n                            var nativeMethod = window.RTCPeerConnection.prototype[method];\n                            window.RTCPeerConnection.prototype[method] = function () {\n                                var pc = this;\n                                if (arguments.length < 1 || (arguments.length === 1 &&\n                                        typeof arguments[0] === 'object')) {\n                                    var opts = arguments.length === 1 ? arguments[0] : undefined;\n                                    return new Promise(function (resolve, reject) {\n                                        nativeMethod.apply(pc, [resolve, reject, opts]);\n                                    });\n                                }\n                                return nativeMethod.apply(this, arguments);\n                            };\n                        });\n                    }\n\n                    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n                    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n                        .forEach(function (method) {\n                            var nativeMethod = window.RTCPeerConnection.prototype[method];\n                            window.RTCPeerConnection.prototype[method] = function () {\n                                arguments[0] = new ((method === 'addIceCandidate') ?\n                                    window.RTCIceCandidate :\n                                    window.RTCSessionDescription)(arguments[0]);\n                                return nativeMethod.apply(this, arguments);\n                            };\n                        });\n\n                    // support for addIceCandidate(null or undefined)\n                    var nativeAddIceCandidate =\n                        window.RTCPeerConnection.prototype.addIceCandidate;\n                    window.RTCPeerConnection.prototype.addIceCandidate = function () {\n                        if (!arguments[0]) {\n                            if (arguments[1]) {\n                                arguments[1].apply(null);\n                            }\n                            return Promise.resolve();\n                        }\n                        return nativeAddIceCandidate.apply(this, arguments);\n                    };\n                }\n            };\n\n        }, {\"../utils.js\": 14, \"./getusermedia\": 6}],\n        6: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n            var utils = require('../utils.js');\n            var logging = utils.log;\n\n// Expose public methods.\n            module.exports = function (window) {\n                var browserDetails = utils.detectBrowser(window);\n                var navigator = window && window.navigator;\n\n                var constraintsToChrome_ = function (c) {\n                    if (typeof c !== 'object' || c.mandatory || c.optional) {\n                        return c;\n                    }\n                    var cc = {};\n                    Object.keys(c).forEach(function (key) {\n                        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n                            return;\n                        }\n                        var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n                        if (r.exact !== undefined && typeof r.exact === 'number') {\n                            r.min = r.max = r.exact;\n                        }\n                        var oldname_ = function (prefix, name) {\n                            if (prefix) {\n                                return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n                            }\n                            return (name === 'deviceId') ? 'sourceId' : name;\n                        };\n                        if (r.ideal !== undefined) {\n                            cc.optional = cc.optional || [];\n                            var oc = {};\n                            if (typeof r.ideal === 'number') {\n                                oc[oldname_('min', key)] = r.ideal;\n                                cc.optional.push(oc);\n                                oc = {};\n                                oc[oldname_('max', key)] = r.ideal;\n                                cc.optional.push(oc);\n                            } else {\n                                oc[oldname_('', key)] = r.ideal;\n                                cc.optional.push(oc);\n                            }\n                        }\n                        if (r.exact !== undefined && typeof r.exact !== 'number') {\n                            cc.mandatory = cc.mandatory || {};\n                            cc.mandatory[oldname_('', key)] = r.exact;\n                        } else {\n                            ['min', 'max'].forEach(function (mix) {\n                                if (r[mix] !== undefined) {\n                                    cc.mandatory = cc.mandatory || {};\n                                    cc.mandatory[oldname_(mix, key)] = r[mix];\n                                }\n                            });\n                        }\n                    });\n                    if (c.advanced) {\n                        cc.optional = (cc.optional || []).concat(c.advanced);\n                    }\n                    return cc;\n                };\n\n                var shimConstraints_ = function (constraints, func) {\n                    if (browserDetails.version >= 61) {\n                        return func(constraints);\n                    }\n                    constraints = JSON.parse(JSON.stringify(constraints));\n                    if (constraints && typeof constraints.audio === 'object') {\n                        var remap = function (obj, a, b) {\n                            if (a in obj && !(b in obj)) {\n                                obj[b] = obj[a];\n                                delete obj[a];\n                            }\n                        };\n                        constraints = JSON.parse(JSON.stringify(constraints));\n                        remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n                        remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n                        constraints.audio = constraintsToChrome_(constraints.audio);\n                    }\n                    if (constraints && typeof constraints.video === 'object') {\n                        // Shim facingMode for mobile & surface pro.\n                        var face = constraints.video.facingMode;\n                        face = face && ((typeof face === 'object') ? face : {ideal: face});\n                        var getSupportedFacingModeLies = browserDetails.version < 66;\n\n                        if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                                face.ideal === 'user' || face.ideal === 'environment')) &&\n                            !(navigator.mediaDevices.getSupportedConstraints &&\n                                navigator.mediaDevices.getSupportedConstraints().facingMode &&\n                                !getSupportedFacingModeLies)) {\n                            delete constraints.video.facingMode;\n                            var matches;\n                            if (face.exact === 'environment' || face.ideal === 'environment') {\n                                matches = ['back', 'rear'];\n                            } else if (face.exact === 'user' || face.ideal === 'user') {\n                                matches = ['front'];\n                            }\n                            if (matches) {\n                                // Look for matches in label, or use last cam for back (typical).\n                                return navigator.mediaDevices.enumerateDevices()\n                                    .then(function (devices) {\n                                        devices = devices.filter(function (d) {\n                                            return d.kind === 'videoinput';\n                                        });\n                                        var dev = devices.find(function (d) {\n                                            return matches.some(function (match) {\n                                                return d.label.toLowerCase().indexOf(match) !== -1;\n                                            });\n                                        });\n                                        if (!dev && devices.length && matches.indexOf('back') !== -1) {\n                                            dev = devices[devices.length - 1]; // more likely the back cam\n                                        }\n                                        if (dev) {\n                                            constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                {ideal: dev.deviceId};\n                                        }\n                                        constraints.video = constraintsToChrome_(constraints.video);\n                                        logging('chrome: ' + JSON.stringify(constraints));\n                                        return func(constraints);\n                                    });\n                            }\n                        }\n                        constraints.video = constraintsToChrome_(constraints.video);\n                    }\n                    logging('chrome: ' + JSON.stringify(constraints));\n                    return func(constraints);\n                };\n\n                var shimError_ = function (e) {\n                    return {\n                        name: {\n                            PermissionDeniedError: 'NotAllowedError',\n                            PermissionDismissedError: 'NotAllowedError',\n                            InvalidStateError: 'NotAllowedError',\n                            DevicesNotFoundError: 'NotFoundError',\n                            ConstraintNotSatisfiedError: 'OverconstrainedError',\n                            TrackStartError: 'NotReadableError',\n                            MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n                            MediaDeviceKillSwitchOn: 'NotAllowedError',\n                            TabCaptureError: 'AbortError',\n                            ScreenCaptureError: 'AbortError',\n                            DeviceCaptureError: 'AbortError'\n                        }[e.name] || e.name,\n                        message: e.message,\n                        constraint: e.constraintName,\n                        toString: function () {\n                            return this.name + (this.message && ': ') + this.message;\n                        }\n                    };\n                };\n\n                var getUserMedia_ = function (constraints, onSuccess, onError) {\n                    shimConstraints_(constraints, function (c) {\n                        navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n                            if (onError) {\n                                onError(shimError_(e));\n                            }\n                        });\n                    });\n                };\n\n                navigator.getUserMedia = getUserMedia_;\n\n                // Returns the result of getUserMedia as a Promise.\n                var getUserMediaPromise_ = function (constraints) {\n                    return new Promise(function (resolve, reject) {\n                        navigator.getUserMedia(constraints, resolve, reject);\n                    });\n                };\n\n                if (!navigator.mediaDevices) {\n                    navigator.mediaDevices = {\n                        getUserMedia: getUserMediaPromise_,\n                        enumerateDevices: function () {\n                            return new Promise(function (resolve) {\n                                var kinds = {audio: 'audioinput', video: 'videoinput'};\n                                return window.MediaStreamTrack.getSources(function (devices) {\n                                    resolve(devices.map(function (device) {\n                                        return {\n                                            label: device.label,\n                                            kind: kinds[device.kind],\n                                            deviceId: device.id,\n                                            groupId: ''\n                                        };\n                                    }));\n                                });\n                            });\n                        },\n                        getSupportedConstraints: function () {\n                            return {\n                                deviceId: true, echoCancellation: true, facingMode: true,\n                                frameRate: true, height: true, width: true\n                            };\n                        }\n                    };\n                }\n\n                // A shim for getUserMedia method on the mediaDevices object.\n                // TODO(KaptenJansson) remove once implemented in Chrome stable.\n                if (!navigator.mediaDevices.getUserMedia) {\n                    navigator.mediaDevices.getUserMedia = function (constraints) {\n                        return getUserMediaPromise_(constraints);\n                    };\n                } else {\n                    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n                    // function which returns a Promise, it does not accept spec-style\n                    // constraints.\n                    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n                    navigator.mediaDevices.getUserMedia = function (cs) {\n                        return shimConstraints_(cs, function (c) {\n                            return origGetUserMedia(c).then(function (stream) {\n                                if (c.audio && !stream.getAudioTracks().length ||\n                                    c.video && !stream.getVideoTracks().length) {\n                                    stream.getTracks().forEach(function (track) {\n                                        track.stop();\n                                    });\n                                    throw new DOMException('', 'NotFoundError');\n                                }\n                                return stream;\n                            }, function (e) {\n                                return Promise.reject(shimError_(e));\n                            });\n                        });\n                    };\n                }\n\n                // Dummy devicechange event methods.\n                // TODO(KaptenJansson) remove once implemented in Chrome stable.\n                if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n                    navigator.mediaDevices.addEventListener = function () {\n                        logging('Dummy mediaDevices.addEventListener called.');\n                    };\n                }\n                if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n                    navigator.mediaDevices.removeEventListener = function () {\n                        logging('Dummy mediaDevices.removeEventListener called.');\n                    };\n                }\n            };\n\n        }, {\"../utils.js\": 14}],\n        7: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var SDPUtils = require('sdp');\n            var utils = require('./utils');\n\n            module.exports = {\n                shimRTCIceCandidate: function (window) {\n                    // foundation is arbitrarily chosen as an indicator for full support for\n                    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n                    if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n                            window.RTCIceCandidate.prototype)) {\n                        return;\n                    }\n\n                    var NativeRTCIceCandidate = window.RTCIceCandidate;\n                    window.RTCIceCandidate = function (args) {\n                        // Remove the a= which shouldn't be part of the candidate string.\n                        if (typeof args === 'object' && args.candidate &&\n                            args.candidate.indexOf('a=') === 0) {\n                            args = JSON.parse(JSON.stringify(args));\n                            args.candidate = args.candidate.substr(2);\n                        }\n\n                        if (args.candidate && args.candidate.length) {\n                            // Augment the native candidate with the parsed fields.\n                            var nativeCandidate = new NativeRTCIceCandidate(args);\n                            var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n                            var augmentedCandidate = Object.assign(nativeCandidate,\n                                parsedCandidate);\n\n                            // Add a serializer that does not serialize the extra attributes.\n                            augmentedCandidate.toJSON = function () {\n                                return {\n                                    candidate: augmentedCandidate.candidate,\n                                    sdpMid: augmentedCandidate.sdpMid,\n                                    sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n                                    usernameFragment: augmentedCandidate.usernameFragment,\n                                };\n                            };\n                            return augmentedCandidate;\n                        }\n                        return new NativeRTCIceCandidate(args);\n                    };\n                    window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n                    // Hook up the augmented candidate in onicecandidate and\n                    // addEventListener('icecandidate', ...)\n                    utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n                        if (e.candidate) {\n                            Object.defineProperty(e, 'candidate', {\n                                value: new window.RTCIceCandidate(e.candidate),\n                                writable: 'false'\n                            });\n                        }\n                        return e;\n                    });\n                },\n\n                // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n                shimCreateObjectURL: function (window) {\n                    var URL = window && window.URL;\n\n                    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n                            'srcObject' in window.HTMLMediaElement.prototype &&\n                            URL.createObjectURL && URL.revokeObjectURL)) {\n                        // Only shim CreateObjectURL using srcObject if srcObject exists.\n                        return undefined;\n                    }\n\n                    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n                    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n                    var streams = new Map(), newId = 0;\n\n                    URL.createObjectURL = function (stream) {\n                        if ('getTracks' in stream) {\n                            var url = 'polyblob:' + (++newId);\n                            streams.set(url, stream);\n                            utils.deprecated('URL.createObjectURL(stream)',\n                                'elem.srcObject = stream');\n                            return url;\n                        }\n                        return nativeCreateObjectURL(stream);\n                    };\n                    URL.revokeObjectURL = function (url) {\n                        nativeRevokeObjectURL(url);\n                        streams.delete(url);\n                    };\n\n                    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                        'src');\n                    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n                        get: function () {\n                            return dsc.get.apply(this);\n                        },\n                        set: function (url) {\n                            this.srcObject = streams.get(url) || null;\n                            return dsc.set.apply(this, [url]);\n                        }\n                    });\n\n                    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n                    window.HTMLMediaElement.prototype.setAttribute = function () {\n                        if (arguments.length === 2 &&\n                            ('' + arguments[0]).toLowerCase() === 'src') {\n                            this.srcObject = streams.get(arguments[1]) || null;\n                        }\n                        return nativeSetAttribute.apply(this, arguments);\n                    };\n                },\n\n                shimMaxMessageSize: function (window) {\n                    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n                        return;\n                    }\n                    var browserDetails = utils.detectBrowser(window);\n\n                    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n                        Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n                            get: function () {\n                                return typeof this._sctp === 'undefined' ? null : this._sctp;\n                            }\n                        });\n                    }\n\n                    var sctpInDescription = function (description) {\n                        var sections = SDPUtils.splitSections(description.sdp);\n                        sections.shift();\n                        return sections.some(function (mediaSection) {\n                            var mLine = SDPUtils.parseMLine(mediaSection);\n                            return mLine && mLine.kind === 'application'\n                                && mLine.protocol.indexOf('SCTP') !== -1;\n                        });\n                    };\n\n                    var getRemoteFirefoxVersion = function (description) {\n                        // TODO: Is there a better solution for detecting Firefox?\n                        var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n                        if (match === null || match.length < 2) {\n                            return -1;\n                        }\n                        var version = parseInt(match[1], 10);\n                        // Test for NaN (yes, this is ugly)\n                        return version !== version ? -1 : version;\n                    };\n\n                    var getCanSendMaxMessageSize = function (remoteIsFirefox) {\n                        // Every implementation we know can send at least 64 KiB.\n                        // Note: Although Chrome is technically able to send up to 256 KiB, the\n                        //       data does not reach the other peer reliably.\n                        //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n                        var canSendMaxMessageSize = 65536;\n                        if (browserDetails.browser === 'firefox') {\n                            if (browserDetails.version < 57) {\n                                if (remoteIsFirefox === -1) {\n                                    // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n                                    // fragmentation.\n                                    canSendMaxMessageSize = 16384;\n                                } else {\n                                    // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n                                    // messages. Thus, supporting ~2 GiB when sending.\n                                    canSendMaxMessageSize = 2147483637;\n                                }\n                            } else if (browserDetails.version < 60) {\n                                // Currently, all FF >= 57 will reset the remote maximum message size\n                                // to the default value when a data channel is created at a later\n                                // stage. :(\n                                // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n                                canSendMaxMessageSize =\n                                    browserDetails.version === 57 ? 65535 : 65536;\n                            } else {\n                                // FF >= 60 supports sending ~2 GiB\n                                canSendMaxMessageSize = 2147483637;\n                            }\n                        }\n                        return canSendMaxMessageSize;\n                    };\n\n                    var getMaxMessageSize = function (description, remoteIsFirefox) {\n                        // Note: 65536 bytes is the default value from the SDP spec. Also,\n                        //       every implementation we know supports receiving 65536 bytes.\n                        var maxMessageSize = 65536;\n\n                        // FF 57 has a slightly incorrect default remote max message size, so\n                        // we need to adjust it here to avoid a failure when sending.\n                        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n                        if (browserDetails.browser === 'firefox'\n                            && browserDetails.version === 57) {\n                            maxMessageSize = 65535;\n                        }\n\n                        var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n                        if (match.length > 0) {\n                            maxMessageSize = parseInt(match[0].substr(19), 10);\n                        } else if (browserDetails.browser === 'firefox' &&\n                            remoteIsFirefox !== -1) {\n                            // If the maximum message size is not present in the remote SDP and\n                            // both local and remote are Firefox, the remote peer can receive\n                            // ~2 GiB.\n                            maxMessageSize = 2147483637;\n                        }\n                        return maxMessageSize;\n                    };\n\n                    var origSetRemoteDescription =\n                        window.RTCPeerConnection.prototype.setRemoteDescription;\n                    window.RTCPeerConnection.prototype.setRemoteDescription = function () {\n                        var pc = this;\n                        pc._sctp = null;\n\n                        if (sctpInDescription(arguments[0])) {\n                            // Check if the remote is FF.\n                            var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n                            // Get the maximum message size the local peer is capable of sending\n                            var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n                            // Get the maximum message size of the remote peer.\n                            var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n                            // Determine final maximum message size\n                            var maxMessageSize;\n                            if (canSendMMS === 0 && remoteMMS === 0) {\n                                maxMessageSize = Number.POSITIVE_INFINITY;\n                            } else if (canSendMMS === 0 || remoteMMS === 0) {\n                                maxMessageSize = Math.max(canSendMMS, remoteMMS);\n                            } else {\n                                maxMessageSize = Math.min(canSendMMS, remoteMMS);\n                            }\n\n                            // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n                            // attribute.\n                            var sctp = {};\n                            Object.defineProperty(sctp, 'maxMessageSize', {\n                                get: function () {\n                                    return maxMessageSize;\n                                }\n                            });\n                            pc._sctp = sctp;\n                        }\n\n                        return origSetRemoteDescription.apply(pc, arguments);\n                    };\n                },\n\n                shimSendThrowTypeError: function (window) {\n                    if (!(window.RTCPeerConnection &&\n                            'createDataChannel' in window.RTCPeerConnection.prototype)) {\n                        return;\n                    }\n\n                    // Note: Although Firefox >= 57 has a native implementation, the maximum\n                    //       message size can be reset for all data channels at a later stage.\n                    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n                    function wrapDcSend(dc, pc) {\n                        var origDataChannelSend = dc.send;\n                        dc.send = function () {\n                            var data = arguments[0];\n                            var length = data.length || data.size || data.byteLength;\n                            if (dc.readyState === 'open' &&\n                                pc.sctp && length > pc.sctp.maxMessageSize) {\n                                throw new TypeError('Message too large (can send a maximum of ' +\n                                    pc.sctp.maxMessageSize + ' bytes)');\n                            }\n                            return origDataChannelSend.apply(dc, arguments);\n                        };\n                    }\n\n                    var origCreateDataChannel =\n                        window.RTCPeerConnection.prototype.createDataChannel;\n                    window.RTCPeerConnection.prototype.createDataChannel = function () {\n                        var pc = this;\n                        var dataChannel = origCreateDataChannel.apply(pc, arguments);\n                        wrapDcSend(dataChannel, pc);\n                        return dataChannel;\n                    };\n                    utils.wrapPeerConnectionEvent(window, 'datachannel', function (e) {\n                        wrapDcSend(e.channel, e.target);\n                        return e;\n                    });\n                }\n            };\n\n        }, {\"./utils\": 14, \"sdp\": 2}],\n        8: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var utils = require('../utils');\n            var filterIceServers = require('./filtericeservers');\n            var shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\n            module.exports = {\n                shimGetUserMedia: require('./getusermedia'),\n                shimPeerConnection: function (window) {\n                    var browserDetails = utils.detectBrowser(window);\n\n                    if (window.RTCIceGatherer) {\n                        if (!window.RTCIceCandidate) {\n                            window.RTCIceCandidate = function (args) {\n                                return args;\n                            };\n                        }\n                        if (!window.RTCSessionDescription) {\n                            window.RTCSessionDescription = function (args) {\n                                return args;\n                            };\n                        }\n                        // this adds an additional event listener to MediaStrackTrack that signals\n                        // when a tracks enabled property was changed. Workaround for a bug in\n                        // addStream, see below. No longer required in 15025+\n                        if (browserDetails.version < 15025) {\n                            var origMSTEnabled = Object.getOwnPropertyDescriptor(\n                                window.MediaStreamTrack.prototype, 'enabled');\n                            Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n                                set: function (value) {\n                                    origMSTEnabled.set.call(this, value);\n                                    var ev = new Event('enabled');\n                                    ev.enabled = value;\n                                    this.dispatchEvent(ev);\n                                }\n                            });\n                        }\n                    }\n\n                    // ORTC defines the DTMF sender a bit different.\n                    // https://github.com/w3c/ortc/issues/714\n                    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n                        Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n                            get: function () {\n                                if (this._dtmf === undefined) {\n                                    if (this.track.kind === 'audio') {\n                                        this._dtmf = new window.RTCDtmfSender(this);\n                                    } else if (this.track.kind === 'video') {\n                                        this._dtmf = null;\n                                    }\n                                }\n                                return this._dtmf;\n                            }\n                        });\n                    }\n                    // Edge currently only implements the RTCDtmfSender, not the\n                    // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n                    if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n                        window.RTCDTMFSender = window.RTCDtmfSender;\n                    }\n\n                    var RTCPeerConnectionShim = shimRTCPeerConnection(window,\n                        browserDetails.version);\n                    window.RTCPeerConnection = function (config) {\n                        if (config && config.iceServers) {\n                            config.iceServers = filterIceServers(config.iceServers);\n                        }\n                        return new RTCPeerConnectionShim(config);\n                    };\n                    window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;\n                },\n                shimReplaceTrack: function (window) {\n                    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n                    if (window.RTCRtpSender &&\n                        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n                        window.RTCRtpSender.prototype.replaceTrack =\n                            window.RTCRtpSender.prototype.setTrack;\n                    }\n                }\n            };\n\n        }, {\"../utils\": 14, \"./filtericeservers\": 9, \"./getusermedia\": 10, \"rtcpeerconnection-shim\": 1}],\n        9: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var utils = require('../utils');\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\n            module.exports = function (iceServers, edgeVersion) {\n                var hasTurn = false;\n                iceServers = JSON.parse(JSON.stringify(iceServers));\n                return iceServers.filter(function (server) {\n                    if (server && (server.urls || server.url)) {\n                        var urls = server.urls || server.url;\n                        if (server.url && !server.urls) {\n                            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n                        }\n                        var isString = typeof urls === 'string';\n                        if (isString) {\n                            urls = [urls];\n                        }\n                        urls = urls.filter(function (url) {\n                            var validTurn = url.indexOf('turn:') === 0 &&\n                                url.indexOf('transport=udp') !== -1 &&\n                                url.indexOf('turn:[') === -1 &&\n                                !hasTurn;\n\n                            if (validTurn) {\n                                hasTurn = true;\n                                return true;\n                            }\n                            return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n                                url.indexOf('?transport=udp') === -1;\n                        });\n\n                        delete server.url;\n                        server.urls = isString ? urls[0] : urls;\n                        return !!urls.length;\n                    }\n                });\n            };\n\n        }, {\"../utils\": 14}],\n        10: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n// Expose public methods.\n            module.exports = function (window) {\n                var navigator = window && window.navigator;\n\n                var shimError_ = function (e) {\n                    return {\n                        name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n                        message: e.message,\n                        constraint: e.constraint,\n                        toString: function () {\n                            return this.name;\n                        }\n                    };\n                };\n\n                // getUserMedia error shim.\n                var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n                navigator.mediaDevices.getUserMedia = function (c) {\n                    return origGetUserMedia(c).catch(function (e) {\n                        return Promise.reject(shimError_(e));\n                    });\n                };\n            };\n\n        }, {}],\n        11: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var utils = require('../utils');\n\n            module.exports = {\n                shimGetUserMedia: require('./getusermedia'),\n                shimOnTrack: function (window) {\n                    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n                            window.RTCPeerConnection.prototype)) {\n                        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n                            get: function () {\n                                return this._ontrack;\n                            },\n                            set: function (f) {\n                                if (this._ontrack) {\n                                    this.removeEventListener('track', this._ontrack);\n                                    this.removeEventListener('addstream', this._ontrackpoly);\n                                }\n                                this.addEventListener('track', this._ontrack = f);\n                                this.addEventListener('addstream', this._ontrackpoly = function (e) {\n                                    e.stream.getTracks().forEach(function (track) {\n                                        var event = new Event('track');\n                                        event.track = track;\n                                        event.receiver = {track: track};\n                                        event.transceiver = {receiver: event.receiver};\n                                        event.streams = [e.stream];\n                                        this.dispatchEvent(event);\n                                    }.bind(this));\n                                }.bind(this));\n                            }\n                        });\n                    }\n                    if (typeof window === 'object' && window.RTCTrackEvent &&\n                        ('receiver' in window.RTCTrackEvent.prototype) &&\n                        !('transceiver' in window.RTCTrackEvent.prototype)) {\n                        Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n                            get: function () {\n                                return {receiver: this.receiver};\n                            }\n                        });\n                    }\n                },\n\n                shimSourceObject: function (window) {\n                    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n                    if (typeof window === 'object') {\n                        if (window.HTMLMediaElement &&\n                            !('srcObject' in window.HTMLMediaElement.prototype)) {\n                            // Shim the srcObject property, once, when HTMLMediaElement is found.\n                            Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n                                get: function () {\n                                    return this.mozSrcObject;\n                                },\n                                set: function (stream) {\n                                    this.mozSrcObject = stream;\n                                }\n                            });\n                        }\n                    }\n                },\n\n                shimPeerConnection: function (window) {\n                    var browserDetails = utils.detectBrowser(window);\n\n                    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n                            window.mozRTCPeerConnection)) {\n                        return; // probably media.peerconnection.enabled=false in about:config\n                    }\n                    // The RTCPeerConnection object.\n                    if (!window.RTCPeerConnection) {\n                        window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n                            if (browserDetails.version < 38) {\n                                // .urls is not supported in FF < 38.\n                                // create RTCIceServers with a single url.\n                                if (pcConfig && pcConfig.iceServers) {\n                                    var newIceServers = [];\n                                    for (var i = 0; i < pcConfig.iceServers.length; i++) {\n                                        var server = pcConfig.iceServers[i];\n                                        if (server.hasOwnProperty('urls')) {\n                                            for (var j = 0; j < server.urls.length; j++) {\n                                                var newServer = {\n                                                    url: server.urls[j]\n                                                };\n                                                if (server.urls[j].indexOf('turn') === 0) {\n                                                    newServer.username = server.username;\n                                                    newServer.credential = server.credential;\n                                                }\n                                                newIceServers.push(newServer);\n                                            }\n                                        } else {\n                                            newIceServers.push(pcConfig.iceServers[i]);\n                                        }\n                                    }\n                                    pcConfig.iceServers = newIceServers;\n                                }\n                            }\n                            return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n                        };\n                        window.RTCPeerConnection.prototype =\n                            window.mozRTCPeerConnection.prototype;\n\n                        // wrap static methods. Currently just generateCertificate.\n                        if (window.mozRTCPeerConnection.generateCertificate) {\n                            Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n                                get: function () {\n                                    return window.mozRTCPeerConnection.generateCertificate;\n                                }\n                            });\n                        }\n\n                        window.RTCSessionDescription = window.mozRTCSessionDescription;\n                        window.RTCIceCandidate = window.mozRTCIceCandidate;\n                    }\n\n                    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n                    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n                        .forEach(function (method) {\n                            var nativeMethod = window.RTCPeerConnection.prototype[method];\n                            window.RTCPeerConnection.prototype[method] = function () {\n                                arguments[0] = new ((method === 'addIceCandidate') ?\n                                    window.RTCIceCandidate :\n                                    window.RTCSessionDescription)(arguments[0]);\n                                return nativeMethod.apply(this, arguments);\n                            };\n                        });\n\n                    // support for addIceCandidate(null or undefined)\n                    var nativeAddIceCandidate =\n                        window.RTCPeerConnection.prototype.addIceCandidate;\n                    window.RTCPeerConnection.prototype.addIceCandidate = function () {\n                        if (!arguments[0]) {\n                            if (arguments[1]) {\n                                arguments[1].apply(null);\n                            }\n                            return Promise.resolve();\n                        }\n                        return nativeAddIceCandidate.apply(this, arguments);\n                    };\n\n                    // shim getStats with maplike support\n                    var makeMapStats = function (stats) {\n                        var map = new Map();\n                        Object.keys(stats).forEach(function (key) {\n                            map.set(key, stats[key]);\n                            map[key] = stats[key];\n                        });\n                        return map;\n                    };\n\n                    var modernStatsTypes = {\n                        inboundrtp: 'inbound-rtp',\n                        outboundrtp: 'outbound-rtp',\n                        candidatepair: 'candidate-pair',\n                        localcandidate: 'local-candidate',\n                        remotecandidate: 'remote-candidate'\n                    };\n\n                    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n                    window.RTCPeerConnection.prototype.getStats = function (selector,\n                                                                            onSucc,\n                                                                            onErr) {\n                        return nativeGetStats.apply(this, [selector || null])\n                            .then(function (stats) {\n                                if (browserDetails.version < 48) {\n                                    stats = makeMapStats(stats);\n                                }\n                                if (browserDetails.version < 53 && !onSucc) {\n                                    // Shim only promise getStats with spec-hyphens in type names\n                                    // Leave callback version alone; misc old uses of forEach before Map\n                                    try {\n                                        stats.forEach(function (stat) {\n                                            stat.type = modernStatsTypes[stat.type] || stat.type;\n                                        });\n                                    } catch (e) {\n                                        if (e.name !== 'TypeError') {\n                                            throw e;\n                                        }\n                                        // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n                                        stats.forEach(function (stat, i) {\n                                            stats.set(i, Object.assign({}, stat, {\n                                                type: modernStatsTypes[stat.type] || stat.type\n                                            }));\n                                        });\n                                    }\n                                }\n                                return stats;\n                            })\n                            .then(onSucc, onErr);\n                    };\n                },\n\n                shimSenderGetStats: function (window) {\n                    if (!(typeof window === 'object' && window.RTCPeerConnection &&\n                            window.RTCRtpSender)) {\n                        return;\n                    }\n                    if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n                        return;\n                    }\n                    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n                    if (origGetSenders) {\n                        window.RTCPeerConnection.prototype.getSenders = function () {\n                            var pc = this;\n                            var senders = origGetSenders.apply(pc, []);\n                            senders.forEach(function (sender) {\n                                sender._pc = pc;\n                            });\n                            return senders;\n                        };\n                    }\n\n                    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n                    if (origAddTrack) {\n                        window.RTCPeerConnection.prototype.addTrack = function () {\n                            var sender = origAddTrack.apply(this, arguments);\n                            sender._pc = this;\n                            return sender;\n                        };\n                    }\n                    window.RTCRtpSender.prototype.getStats = function () {\n                        return this.track ? this._pc.getStats(this.track) :\n                            Promise.resolve(new Map());\n                    };\n                },\n\n                shimReceiverGetStats: function (window) {\n                    if (!(typeof window === 'object' && window.RTCPeerConnection &&\n                            window.RTCRtpSender)) {\n                        return;\n                    }\n                    if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n                        return;\n                    }\n                    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n                    if (origGetReceivers) {\n                        window.RTCPeerConnection.prototype.getReceivers = function () {\n                            var pc = this;\n                            var receivers = origGetReceivers.apply(pc, []);\n                            receivers.forEach(function (receiver) {\n                                receiver._pc = pc;\n                            });\n                            return receivers;\n                        };\n                    }\n                    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n                        e.receiver._pc = e.srcElement;\n                        return e;\n                    });\n                    window.RTCRtpReceiver.prototype.getStats = function () {\n                        return this._pc.getStats(this.track);\n                    };\n                },\n\n                shimRemoveStream: function (window) {\n                    if (!window.RTCPeerConnection ||\n                        'removeStream' in window.RTCPeerConnection.prototype) {\n                        return;\n                    }\n                    window.RTCPeerConnection.prototype.removeStream = function (stream) {\n                        var pc = this;\n                        utils.deprecated('removeStream', 'removeTrack');\n                        this.getSenders().forEach(function (sender) {\n                            if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n                                pc.removeTrack(sender);\n                            }\n                        });\n                    };\n                },\n\n                shimRTCDataChannel: function (window) {\n                    // rename DataChannel to RTCDataChannel (native fix in FF60):\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n                    if (window.DataChannel && !window.RTCDataChannel) {\n                        window.RTCDataChannel = window.DataChannel;\n                    }\n                },\n            };\n\n        }, {\"../utils\": 14, \"./getusermedia\": 12}],\n        12: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var utils = require('../utils');\n            var logging = utils.log;\n\n// Expose public methods.\n            module.exports = function (window) {\n                var browserDetails = utils.detectBrowser(window);\n                var navigator = window && window.navigator;\n                var MediaStreamTrack = window && window.MediaStreamTrack;\n\n                var shimError_ = function (e) {\n                    return {\n                        name: {\n                            InternalError: 'NotReadableError',\n                            NotSupportedError: 'TypeError',\n                            PermissionDeniedError: 'NotAllowedError',\n                            SecurityError: 'NotAllowedError'\n                        }[e.name] || e.name,\n                        message: {\n                            'The operation is insecure.': 'The request is not allowed by the ' +\n                            'user agent or the platform in the current context.'\n                        }[e.message] || e.message,\n                        constraint: e.constraint,\n                        toString: function () {\n                            return this.name + (this.message && ': ') + this.message;\n                        }\n                    };\n                };\n\n                // getUserMedia constraints shim.\n                var getUserMedia_ = function (constraints, onSuccess, onError) {\n                    var constraintsToFF37_ = function (c) {\n                        if (typeof c !== 'object' || c.require) {\n                            return c;\n                        }\n                        var require = [];\n                        Object.keys(c).forEach(function (key) {\n                            if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n                                return;\n                            }\n                            var r = c[key] = (typeof c[key] === 'object') ?\n                                c[key] : {ideal: c[key]};\n                            if (r.min !== undefined ||\n                                r.max !== undefined || r.exact !== undefined) {\n                                require.push(key);\n                            }\n                            if (r.exact !== undefined) {\n                                if (typeof r.exact === 'number') {\n                                    r.min = r.max = r.exact;\n                                } else {\n                                    c[key] = r.exact;\n                                }\n                                delete r.exact;\n                            }\n                            if (r.ideal !== undefined) {\n                                c.advanced = c.advanced || [];\n                                var oc = {};\n                                if (typeof r.ideal === 'number') {\n                                    oc[key] = {min: r.ideal, max: r.ideal};\n                                } else {\n                                    oc[key] = r.ideal;\n                                }\n                                c.advanced.push(oc);\n                                delete r.ideal;\n                                if (!Object.keys(r).length) {\n                                    delete c[key];\n                                }\n                            }\n                        });\n                        if (require.length) {\n                            c.require = require;\n                        }\n                        return c;\n                    };\n                    constraints = JSON.parse(JSON.stringify(constraints));\n                    if (browserDetails.version < 38) {\n                        logging('spec: ' + JSON.stringify(constraints));\n                        if (constraints.audio) {\n                            constraints.audio = constraintsToFF37_(constraints.audio);\n                        }\n                        if (constraints.video) {\n                            constraints.video = constraintsToFF37_(constraints.video);\n                        }\n                        logging('ff37: ' + JSON.stringify(constraints));\n                    }\n                    return navigator.mozGetUserMedia(constraints, onSuccess, function (e) {\n                        onError(shimError_(e));\n                    });\n                };\n\n                // Returns the result of getUserMedia as a Promise.\n                var getUserMediaPromise_ = function (constraints) {\n                    return new Promise(function (resolve, reject) {\n                        getUserMedia_(constraints, resolve, reject);\n                    });\n                };\n\n                // Shim for mediaDevices on older versions.\n                if (!navigator.mediaDevices) {\n                    navigator.mediaDevices = {\n                        getUserMedia: getUserMediaPromise_,\n                        addEventListener: function () {\n                        },\n                        removeEventListener: function () {\n                        }\n                    };\n                }\n                navigator.mediaDevices.enumerateDevices =\n                    navigator.mediaDevices.enumerateDevices || function () {\n                        return new Promise(function (resolve) {\n                            var infos = [\n                                {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n                                {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n                            ];\n                            resolve(infos);\n                        });\n                    };\n\n                if (browserDetails.version < 41) {\n                    // Work around http://bugzil.la/1169665\n                    var orgEnumerateDevices =\n                        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n                    navigator.mediaDevices.enumerateDevices = function () {\n                        return orgEnumerateDevices().then(undefined, function (e) {\n                            if (e.name === 'NotFoundError') {\n                                return [];\n                            }\n                            throw e;\n                        });\n                    };\n                }\n                if (browserDetails.version < 49) {\n                    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n                    navigator.mediaDevices.getUserMedia = function (c) {\n                        return origGetUserMedia(c).then(function (stream) {\n                            // Work around https://bugzil.la/802326\n                            if (c.audio && !stream.getAudioTracks().length ||\n                                c.video && !stream.getVideoTracks().length) {\n                                stream.getTracks().forEach(function (track) {\n                                    track.stop();\n                                });\n                                throw new DOMException('The object can not be found here.',\n                                    'NotFoundError');\n                            }\n                            return stream;\n                        }, function (e) {\n                            return Promise.reject(shimError_(e));\n                        });\n                    };\n                }\n                if (!(browserDetails.version > 55 &&\n                        'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n                    var remap = function (obj, a, b) {\n                        if (a in obj && !(b in obj)) {\n                            obj[b] = obj[a];\n                            delete obj[a];\n                        }\n                    };\n\n                    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n                    navigator.mediaDevices.getUserMedia = function (c) {\n                        if (typeof c === 'object' && typeof c.audio === 'object') {\n                            c = JSON.parse(JSON.stringify(c));\n                            remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n                            remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n                        }\n                        return nativeGetUserMedia(c);\n                    };\n\n                    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n                        var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n                        MediaStreamTrack.prototype.getSettings = function () {\n                            var obj = nativeGetSettings.apply(this, arguments);\n                            remap(obj, 'mozAutoGainControl', 'autoGainControl');\n                            remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n                            return obj;\n                        };\n                    }\n\n                    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n                        var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n                        MediaStreamTrack.prototype.applyConstraints = function (c) {\n                            if (this.kind === 'audio' && typeof c === 'object') {\n                                c = JSON.parse(JSON.stringify(c));\n                                remap(c, 'autoGainControl', 'mozAutoGainControl');\n                                remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n                            }\n                            return nativeApplyConstraints.apply(this, [c]);\n                        };\n                    }\n                }\n                navigator.getUserMedia = function (constraints, onSuccess, onError) {\n                    if (browserDetails.version < 44) {\n                        return getUserMedia_(constraints, onSuccess, onError);\n                    }\n                    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n                    utils.deprecated('navigator.getUserMedia',\n                        'navigator.mediaDevices.getUserMedia');\n                    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n                };\n            };\n\n        }, {\"../utils\": 14}],\n        13: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            'use strict';\n            var utils = require('../utils');\n\n            module.exports = {\n                shimLocalStreamsAPI: function (window) {\n                    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n                        return;\n                    }\n                    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n                        window.RTCPeerConnection.prototype.getLocalStreams = function () {\n                            if (!this._localStreams) {\n                                this._localStreams = [];\n                            }\n                            return this._localStreams;\n                        };\n                    }\n                    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n                        window.RTCPeerConnection.prototype.getStreamById = function (id) {\n                            var result = null;\n                            if (this._localStreams) {\n                                this._localStreams.forEach(function (stream) {\n                                    if (stream.id === id) {\n                                        result = stream;\n                                    }\n                                });\n                            }\n                            if (this._remoteStreams) {\n                                this._remoteStreams.forEach(function (stream) {\n                                    if (stream.id === id) {\n                                        result = stream;\n                                    }\n                                });\n                            }\n                            return result;\n                        };\n                    }\n                    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n                        var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n                        window.RTCPeerConnection.prototype.addStream = function (stream) {\n                            if (!this._localStreams) {\n                                this._localStreams = [];\n                            }\n                            if (this._localStreams.indexOf(stream) === -1) {\n                                this._localStreams.push(stream);\n                            }\n                            var pc = this;\n                            stream.getTracks().forEach(function (track) {\n                                _addTrack.call(pc, track, stream);\n                            });\n                        };\n\n                        window.RTCPeerConnection.prototype.addTrack = function (track, stream) {\n                            if (stream) {\n                                if (!this._localStreams) {\n                                    this._localStreams = [stream];\n                                } else if (this._localStreams.indexOf(stream) === -1) {\n                                    this._localStreams.push(stream);\n                                }\n                            }\n                            return _addTrack.call(this, track, stream);\n                        };\n                    }\n                    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n                        window.RTCPeerConnection.prototype.removeStream = function (stream) {\n                            if (!this._localStreams) {\n                                this._localStreams = [];\n                            }\n                            var index = this._localStreams.indexOf(stream);\n                            if (index === -1) {\n                                return;\n                            }\n                            this._localStreams.splice(index, 1);\n                            var pc = this;\n                            var tracks = stream.getTracks();\n                            this.getSenders().forEach(function (sender) {\n                                if (tracks.indexOf(sender.track) !== -1) {\n                                    pc.removeTrack(sender);\n                                }\n                            });\n                        };\n                    }\n                },\n                shimRemoteStreamsAPI: function (window) {\n                    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n                        return;\n                    }\n                    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n                        window.RTCPeerConnection.prototype.getRemoteStreams = function () {\n                            return this._remoteStreams ? this._remoteStreams : [];\n                        };\n                    }\n                    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n                        Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n                            get: function () {\n                                return this._onaddstream;\n                            },\n                            set: function (f) {\n                                var pc = this;\n                                if (this._onaddstream) {\n                                    this.removeEventListener('addstream', this._onaddstream);\n                                    this.removeEventListener('track', this._onaddstreampoly);\n                                }\n                                this.addEventListener('addstream', this._onaddstream = f);\n                                this.addEventListener('track', this._onaddstreampoly = function (e) {\n                                    e.streams.forEach(function (stream) {\n                                        if (!pc._remoteStreams) {\n                                            pc._remoteStreams = [];\n                                        }\n                                        if (pc._remoteStreams.indexOf(stream) >= 0) {\n                                            return;\n                                        }\n                                        pc._remoteStreams.push(stream);\n                                        var event = new Event('addstream');\n                                        event.stream = stream;\n                                        pc.dispatchEvent(event);\n                                    });\n                                });\n                            }\n                        });\n                    }\n                },\n                shimCallbacksAPI: function (window) {\n                    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n                        return;\n                    }\n                    var prototype = window.RTCPeerConnection.prototype;\n                    var createOffer = prototype.createOffer;\n                    var createAnswer = prototype.createAnswer;\n                    var setLocalDescription = prototype.setLocalDescription;\n                    var setRemoteDescription = prototype.setRemoteDescription;\n                    var addIceCandidate = prototype.addIceCandidate;\n\n                    prototype.createOffer = function (successCallback, failureCallback) {\n                        var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n                        var promise = createOffer.apply(this, [options]);\n                        if (!failureCallback) {\n                            return promise;\n                        }\n                        promise.then(successCallback, failureCallback);\n                        return Promise.resolve();\n                    };\n\n                    prototype.createAnswer = function (successCallback, failureCallback) {\n                        var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n                        var promise = createAnswer.apply(this, [options]);\n                        if (!failureCallback) {\n                            return promise;\n                        }\n                        promise.then(successCallback, failureCallback);\n                        return Promise.resolve();\n                    };\n\n                    var withCallback = function (description, successCallback, failureCallback) {\n                        var promise = setLocalDescription.apply(this, [description]);\n                        if (!failureCallback) {\n                            return promise;\n                        }\n                        promise.then(successCallback, failureCallback);\n                        return Promise.resolve();\n                    };\n                    prototype.setLocalDescription = withCallback;\n\n                    withCallback = function (description, successCallback, failureCallback) {\n                        var promise = setRemoteDescription.apply(this, [description]);\n                        if (!failureCallback) {\n                            return promise;\n                        }\n                        promise.then(successCallback, failureCallback);\n                        return Promise.resolve();\n                    };\n                    prototype.setRemoteDescription = withCallback;\n\n                    withCallback = function (candidate, successCallback, failureCallback) {\n                        var promise = addIceCandidate.apply(this, [candidate]);\n                        if (!failureCallback) {\n                            return promise;\n                        }\n                        promise.then(successCallback, failureCallback);\n                        return Promise.resolve();\n                    };\n                    prototype.addIceCandidate = withCallback;\n                },\n                shimGetUserMedia: function (window) {\n                    var navigator = window && window.navigator;\n\n                    if (!navigator.getUserMedia) {\n                        if (navigator.webkitGetUserMedia) {\n                            navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n                        } else if (navigator.mediaDevices &&\n                            navigator.mediaDevices.getUserMedia) {\n                            navigator.getUserMedia = function (constraints, cb, errcb) {\n                                navigator.mediaDevices.getUserMedia(constraints)\n                                    .then(cb, errcb);\n                            }.bind(navigator);\n                        }\n                    }\n                },\n                shimRTCIceServerUrls: function (window) {\n                    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n                    var OrigPeerConnection = window.RTCPeerConnection;\n                    window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n                        if (pcConfig && pcConfig.iceServers) {\n                            var newIceServers = [];\n                            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n                                var server = pcConfig.iceServers[i];\n                                if (!server.hasOwnProperty('urls') &&\n                                    server.hasOwnProperty('url')) {\n                                    utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n                                    server = JSON.parse(JSON.stringify(server));\n                                    server.urls = server.url;\n                                    delete server.url;\n                                    newIceServers.push(server);\n                                } else {\n                                    newIceServers.push(pcConfig.iceServers[i]);\n                                }\n                            }\n                            pcConfig.iceServers = newIceServers;\n                        }\n                        return new OrigPeerConnection(pcConfig, pcConstraints);\n                    };\n                    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n                    // wrap static methods. Currently just generateCertificate.\n                    if ('generateCertificate' in window.RTCPeerConnection) {\n                        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n                            get: function () {\n                                return OrigPeerConnection.generateCertificate;\n                            }\n                        });\n                    }\n                },\n                shimTrackEventTransceiver: function (window) {\n                    // Add event.transceiver member over deprecated event.receiver\n                    if (typeof window === 'object' && window.RTCPeerConnection &&\n                        ('receiver' in window.RTCTrackEvent.prototype) &&\n                        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n                        // defined for some reason even when window.RTCTransceiver is not.\n                        !window.RTCTransceiver) {\n                        Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n                            get: function () {\n                                return {receiver: this.receiver};\n                            }\n                        });\n                    }\n                },\n\n                shimCreateOfferLegacy: function (window) {\n                    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n                    window.RTCPeerConnection.prototype.createOffer = function (offerOptions) {\n                        var pc = this;\n                        if (offerOptions) {\n                            if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n                                // support bit values\n                                offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n                            }\n                            var audioTransceiver = pc.getTransceivers().find(function (transceiver) {\n                                return transceiver.sender.track &&\n                                    transceiver.sender.track.kind === 'audio';\n                            });\n                            if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n                                if (audioTransceiver.direction === 'sendrecv') {\n                                    if (audioTransceiver.setDirection) {\n                                        audioTransceiver.setDirection('sendonly');\n                                    } else {\n                                        audioTransceiver.direction = 'sendonly';\n                                    }\n                                } else if (audioTransceiver.direction === 'recvonly') {\n                                    if (audioTransceiver.setDirection) {\n                                        audioTransceiver.setDirection('inactive');\n                                    } else {\n                                        audioTransceiver.direction = 'inactive';\n                                    }\n                                }\n                            } else if (offerOptions.offerToReceiveAudio === true &&\n                                !audioTransceiver) {\n                                pc.addTransceiver('audio');\n                            }\n\n\n                            if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n                                // support bit values\n                                offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n                            }\n                            var videoTransceiver = pc.getTransceivers().find(function (transceiver) {\n                                return transceiver.sender.track &&\n                                    transceiver.sender.track.kind === 'video';\n                            });\n                            if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n                                if (videoTransceiver.direction === 'sendrecv') {\n                                    videoTransceiver.setDirection('sendonly');\n                                } else if (videoTransceiver.direction === 'recvonly') {\n                                    videoTransceiver.setDirection('inactive');\n                                }\n                            } else if (offerOptions.offerToReceiveVideo === true &&\n                                !videoTransceiver) {\n                                pc.addTransceiver('video');\n                            }\n                        }\n                        return origCreateOffer.apply(pc, arguments);\n                    };\n                }\n            };\n\n        }, {\"../utils\": 14}],\n        14: [function (require, module, exports) {\n            /*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n            /* eslint-env node */\n            'use strict';\n\n            var logDisabled_ = true;\n            var deprecationWarnings_ = true;\n\n            /**\n             * Extract browser version out of the provided user agent string.\n             *\n             * @param {!string} uastring userAgent string.\n             * @param {!string} expr Regular expression used as match criteria.\n             * @param {!number} pos position in the version string to be returned.\n             * @return {!number} browser version.\n             */\n            function extractVersion(uastring, expr, pos) {\n                var match = uastring.match(expr);\n                return match && match.length >= pos && parseInt(match[pos], 10);\n            }\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\n            function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n                if (!window.RTCPeerConnection) {\n                    return;\n                }\n                var proto = window.RTCPeerConnection.prototype;\n                var nativeAddEventListener = proto.addEventListener;\n                proto.addEventListener = function (nativeEventName, cb) {\n                    if (nativeEventName !== eventNameToWrap) {\n                        return nativeAddEventListener.apply(this, arguments);\n                    }\n                    var wrappedCallback = function (e) {\n                        cb(wrapper(e));\n                    };\n                    this._eventMap = this._eventMap || {};\n                    this._eventMap[cb] = wrappedCallback;\n                    return nativeAddEventListener.apply(this, [nativeEventName,\n                        wrappedCallback]);\n                };\n\n                var nativeRemoveEventListener = proto.removeEventListener;\n                proto.removeEventListener = function (nativeEventName, cb) {\n                    if (nativeEventName !== eventNameToWrap || !this._eventMap\n                        || !this._eventMap[cb]) {\n                        return nativeRemoveEventListener.apply(this, arguments);\n                    }\n                    var unwrappedCb = this._eventMap[cb];\n                    delete this._eventMap[cb];\n                    return nativeRemoveEventListener.apply(this, [nativeEventName,\n                        unwrappedCb]);\n                };\n\n                Object.defineProperty(proto, 'on' + eventNameToWrap, {\n                    get: function () {\n                        return this['_on' + eventNameToWrap];\n                    },\n                    set: function (cb) {\n                        if (this['_on' + eventNameToWrap]) {\n                            this.removeEventListener(eventNameToWrap,\n                                this['_on' + eventNameToWrap]);\n                            delete this['_on' + eventNameToWrap];\n                        }\n                        if (cb) {\n                            this.addEventListener(eventNameToWrap,\n                                this['_on' + eventNameToWrap] = cb);\n                        }\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n            }\n\n// Utility methods.\n            module.exports = {\n                extractVersion: extractVersion,\n                wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n                disableLog: function (bool) {\n                    if (typeof bool !== 'boolean') {\n                        return new Error('Argument type: ' + typeof bool +\n                            '. Please use a boolean.');\n                    }\n                    logDisabled_ = bool;\n                    return (bool) ? 'adapter.js logging disabled' :\n                        'adapter.js logging enabled';\n                },\n\n                /**\n                 * Disable or enable deprecation warnings\n                 * @param {!boolean} bool set to true to disable warnings.\n                 */\n                disableWarnings: function (bool) {\n                    if (typeof bool !== 'boolean') {\n                        return new Error('Argument type: ' + typeof bool +\n                            '. Please use a boolean.');\n                    }\n                    deprecationWarnings_ = !bool;\n                    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n                },\n\n                log: function () {\n                    if (typeof window === 'object') {\n                        if (logDisabled_) {\n                            return;\n                        }\n                        if (typeof console !== 'undefined' && typeof console.log === 'function') {\n                            console.log.apply(console, arguments);\n                        }\n                    }\n                },\n\n                /**\n                 * Shows a deprecation warning suggesting the modern and spec-compatible API.\n                 */\n                deprecated: function (oldMethod, newMethod) {\n                    if (!deprecationWarnings_) {\n                        return;\n                    }\n                    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n                        ' instead.');\n                },\n\n                /**\n                 * Browser detector.\n                 *\n                 * @return {object} result containing browser and version\n                 *     properties.\n                 */\n                detectBrowser: function (window) {\n                    var navigator = window && window.navigator;\n\n                    // Returned result object.\n                    var result = {};\n                    result.browser = null;\n                    result.version = null;\n\n                    // Fail early if it's not a browser\n                    if (typeof window === 'undefined' || !window.navigator) {\n                        result.browser = 'Not a browser.';\n                        return result;\n                    }\n\n                    if (navigator.mozGetUserMedia) { // Firefox.\n                        result.browser = 'firefox';\n                        result.version = extractVersion(navigator.userAgent,\n                            /Firefox\\/(\\d+)\\./, 1);\n                    } else if (navigator.webkitGetUserMedia) {\n                        // Chrome, Chromium, Webview, Opera.\n                        // Version matches Chrome/WebRTC version.\n                        result.browser = 'chrome';\n                        result.version = extractVersion(navigator.userAgent,\n                            /Chrom(e|ium)\\/(\\d+)\\./, 2);\n                    } else if (navigator.mediaDevices &&\n                        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n                        result.browser = 'edge';\n                        result.version = extractVersion(navigator.userAgent,\n                            /Edge\\/(\\d+).(\\d+)$/, 2);\n                    } else if (window.RTCPeerConnection &&\n                        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n                        result.browser = 'safari';\n                        result.version = extractVersion(navigator.userAgent,\n                            /AppleWebKit\\/(\\d+)\\./, 1);\n                    } else { // Default fallthrough: not supported.\n                        result.browser = 'Not a supported browser.';\n                        return result;\n                    }\n\n                    return result;\n                }\n            };\n\n        }, {}]\n    }, {}, [3])(3)\n});\n"],"file":"adapter.min.js"}