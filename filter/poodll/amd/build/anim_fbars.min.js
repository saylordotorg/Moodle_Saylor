define(["jquery","core/log"],(function($,log){return log.debug("anim_freq bars: initialising"),{analyser:null,cvs:null,cvsctx:null,clone:function(){return $.extend(!0,{},this)},init:function(analyser,cvs){this.cvs=cvs,this.cvsctx=cvs.getContext("2d"),this.analyser=analyser},clear:function(){this.cvsctx.clearRect(0,0,this.cvs.width,this.cvs.height)},start:function(){this.analyser.core.fftSize=256;var bufferLength=this.analyser.core.frequencyBinCount,dataArray=new Uint8Array(bufferLength),cwidth=this.cvs.width,cheight=this.cvs.height,canvasCtx=this.cvsctx,analyser=this.analyser;this.clear();!function draw(){requestAnimationFrame(draw);if(analyser.theinterval){analyser.core.getByteFrequencyData(dataArray),canvasCtx.clearRect(0,0,cwidth,cheight);for(var barHeight,barWidth=cwidth/bufferLength*2.5,x=0,i=0;i<bufferLength;i++)barHeight=dataArray[i],canvasCtx.fillStyle="rgb("+(barHeight+100)+",50,50)",canvasCtx.fillRect(x,cheight-barHeight/2,barWidth,barHeight/2),x+=barWidth+1}}()}}}));

//# sourceMappingURL=anim_fbars.min.js.map