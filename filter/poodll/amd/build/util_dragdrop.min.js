define ("filter_poodll/util_dragdrop",["jquery","jqueryui","core/log"],function(a,b,c){"use strict";c.debug("Poodll util drag drop: initialising");return{theelement:!1,uploadfunction:!1,uploader:!1,started:!1,filebutton:!1,init:function init(a,b,d){this.theelement=a;this.uploadfunction=b;this.uploader=d.uploader;this.filebutton=d.controlbar.filebutton;if(this.supports_dragdrop(a)){c.debug("registering drag drop");this.register_dragdrop();this.do_visuals()}else{c.debug("drag drop not supported")}},clone:function clone(){return a.extend(!0,{},this)},supports_dragdrop:function supports_dragdrop(a){return"draggable"in a||"ondragstart"in a&&"ondrop"in a},do_visuals:function do_visuals(){this.theelement.addClass("poodll-can-do-drag-drop")},turnoff_dragdrop:function turnoff_dragdrop(){if(!this.theelement){return}this.theelement.removeClass("poodll-can-do-drag-drop");this.theelement.removeClass("is-poodll-drag-over");this.theelement.off("drag dragstart dragend dragover dragenter dragleave drop");this.theelement.on("drag dragstart dragend dragover dragenter dragleave drop",function(a){a.preventDefault();a.stopPropagation()})},register_dragdrop:function register_dragdrop(){var a=this;this.theelement.on("drag dragstart dragend dragover dragenter dragleave drop",function(b){b.preventDefault();b.stopPropagation();if(a.started){}}).on("dragover dragenter",function(){a.theelement.addClass("is-poodll-drag-over")}).on("dragleave dragend drop",function(){a.theelement.removeClass("is-poodll-drag-over")}).on("drop",function(b){if(a.started){return}var c=b.originalEvent.dataTransfer.files;a.uploadfunction(c,a.uploader);a.turnoff_dragdrop();a.filebutton.off("change");a.filebutton.attr("disabled",!0);a.started=!0})}}});
//# sourceMappingURL=util_dragdrop.min.js.map
