{"version":3,"sources":["../src/responsiveiframe.js"],"names":["define","$","log","debug","defheight","defwidth","init","config","theiframe","iframeid","length","window","parent","document","iframeprops","currentheight","currentwidth","thisref","_iframeResize","newheight","contentWindow","body","scrollHeight","newwidth","scrollWidth","attr","setTimeout"],"mappings":"AACAA,OAAM,kCAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAAUC,CAAV,CAAaC,CAAb,CAAkB,CAE7C,aAEAA,CAAG,CAACC,KAAJ,CAAU,gCAAV,EAEA,MAAO,CACHC,SAAS,CAAE,GADR,CAEHC,QAAQ,CAAE,GAFP,CAIHC,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpB,GAAIC,CAAAA,CAAS,CAAGP,CAAC,CAAC,IAAMM,CAAM,CAACE,QAAd,CAAjB,CACA,GAAwB,CAApB,EAAAD,CAAS,CAACE,MAAd,CAA2B,CACvBF,CAAS,CAAGP,CAAC,CAAC,IAAMM,CAAM,CAACE,QAAd,CAAwBE,MAAM,CAACC,MAAP,CAAcC,QAAtC,CAChB,CACD,GAAuB,CAAnB,CAAAL,CAAS,CAACE,MAAd,CAA0B,CACtB,GAAII,CAAAA,CAAW,CAAG,CACdC,aAAa,CAAE,KAAKX,SADN,CAEdY,YAAY,CAAE,KAAKX,QAFL,CAGdG,SAAS,CAAEA,CAHG,CAIdS,OAAO,CAAE,IAJK,CAAlB,CAMA,KAAKC,aAAL,CAAmBJ,CAAnB,CACH,CACJ,CAlBE,CA0BHI,aAAa,CAAE,uBAAUJ,CAAV,CAAuB,CAClC,GAAIN,CAAAA,CAAS,CAAGM,CAAW,CAACN,SAA5B,CAEA,GAAI,CAACA,CAAD,EAAiC,CAAnB,CAAAA,CAAS,CAACE,MAA5B,CAAwC,CACpC,MACH,CALiC,GAM9BS,CAAAA,CAAS,CAAGX,CAAS,CAAC,CAAD,CAAT,CAAaY,aAAb,CAA2BP,QAA3B,CAAoCQ,IAApC,CAAyCC,YANvB,CAO9BC,CAAQ,CAAGf,CAAS,CAAC,CAAD,CAAT,CAAaY,aAAb,CAA2BP,QAA3B,CAAoCQ,IAApC,CAAyCG,WAPtB,CAQlC,GAAIL,CAAS,EAAIL,CAAW,CAACC,aAAzB,EAA0CQ,CAAQ,EAAIT,CAAW,CAACE,YAAtE,CAAoF,CAChFR,CAAS,CAACiB,IAAV,CAAe,QAAf,CAA0BN,CAAD,CAAc,IAAvC,EACAX,CAAS,CAACiB,IAAV,CAAe,OAAf,CAAyBF,CAAD,CAAa,IAArC,CACH,CAEDT,CAAW,CAACC,aAAZ,CAA4BI,CAA5B,CACAL,CAAW,CAACE,YAAZ,CAA2BO,CAA3B,CAEAG,UAAU,CAACZ,CAAW,CAACG,OAAZ,CAAoBC,aAArB,CAAoC,GAApC,CAAyCJ,CAAzC,CAEb,CA5CE,CA8CV,CApDK,CAAN","sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    \"use strict\"; // jshint ;_;\n\n    log.debug('responsive iframe initialising');\n\n    return {\n        defheight: 150,\n        defwidth: 300,\n\n        init: function (config) {\n            var theiframe = $('#' + config.iframeid);\n            if (theiframe.length == 0) {\n                theiframe = $('#' + config.iframeid, window.parent.document);\n            }\n            if (theiframe.length > 0) {\n                var iframeprops = {\n                    currentheight: this.defheight,\n                    currentwidth: this.defwidth,\n                    theiframe: theiframe,\n                    thisref: this\n                };\n                this._iframeResize(iframeprops);\n            }\n        },\n        /**\n         * Scan for resize of iframe content and resize iframe\n         *\n         * @param theiframe\n         * @return null\n         * @private\n         */\n        _iframeResize: function (iframeprops) {\n            var theiframe = iframeprops.theiframe;\n\n            if (!theiframe || theiframe.length < 1) {\n                return;\n            }\n            var newheight = theiframe[0].contentWindow.document.body.scrollHeight;\n            var newwidth = theiframe[0].contentWindow.document.body.scrollWidth;\n            if (newheight != iframeprops.currentheight || newwidth != iframeprops.currentwidth) {\n                theiframe.attr('height', (newheight) + \"px\");\n                theiframe.attr(\"width\", (newwidth) + \"px\");\n            }\n\n            iframeprops.currentheight = newheight;\n            iframeprops.currentwidth = newwidth;\n\n            setTimeout(iframeprops.thisref._iframeResize, 100, iframeprops);\n\n        }//end of iframe resize\n    };//end of return object\n});\n/* jshint ignore:end */"],"file":"responsiveiframe.min.js"}