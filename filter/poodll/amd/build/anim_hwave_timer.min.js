define ("filter_poodll/anim_hwave_timer",["jquery","core/log"],function(a,b){"use strict";b.debug("anim_horizontal_wave_ra: initialising");return{analyser:null,cvs:null,cvsctx:null,sounddetected:!1,displaytime:"00:00:00",drawparams:{wavColor:"#CCCCCC",textColor:"#000000",lineWidth:2,font:"30px Georgia",textAlign:"center"},clone:function clone(){return a.extend(!0,{},this)},init:function init(a,b){this.cvs=b;this.cvsctx=b.getContext("2d");this.cvsctx.textAlign=this.drawparams.textAlign;this.analyser=a},setDrawParam:function setDrawParam(a,b){this.drawparams[a]=b},clear:function clear(){this.cvsctx.clearRect(0,0,this.cvs.width,this.cvs.height);this.cvsctx.lineWidth=2;this.cvsctx.strokeStyle=this.drawparams.textColor;this.cvsctx.beginPath();this.drawTime(this.cvsctx,this.displaytime,this.cvs.width,this.cvs.height);this.cvsctx.stroke()},drawTime:function drawTime(a,b,c,d){a.fillStyle=this.drawparams.textColor;a.font=this.drawparams.font;a.fillText(b,c/2,3*(d/4))},start:function start(){this.analyser.core.fftSize=2048;var a=this.analyser.core.fftSize,b=new Uint8Array(a),c=this.cvs.width,d=this.cvs.height,e=this.cvsctx,f=this.analyser,g=this;this.clear();var h=function(){requestAnimationFrame(h);if(!f.theinterval){return}f.core.getByteTimeDomainData(b);e.clearRect(0,0,c,d);e.lineWidth=g.drawparams.lineWidth;e.strokeStyle=g.drawparams.wavColor;e.beginPath();var j=3*(d/4),k=0;if(0<a){var l=b[a-1];if(128!=l){g.sounddetected=!0}}for(var m=0;m<a;m++){var n=b[m]/128,o=n*j/2;if(0==m){e.moveTo(k,o)}else{e.lineTo(k,o)}k+=2*c/a}e.lineTo(c,j/2);g.drawTime(e,g.displaytime,c,d);e.stroke()};h()}}});
//# sourceMappingURL=anim_hwave_timer.min.js.map
