define ("filter_poodll/mediaparser",["jquery","core/log"],function(a,b){"use strict";b.debug("Media Parser: initialising");return{parse:function parse(b,c){var d={mediaurl:!1,lang:!1,subtitlesurl:!1,sources:!1,imgurl:!1},e=a("#"+b+" "+c).first();if(1===e.length){d.lang=a("#"+b+" "+c+" track[kind=\"captions\"]").first().attr("srclang");d.subtitlesurl=a("#"+b+" "+c+" track[kind=\"captions\"]").first().attr("src");if(e.attr("src")!==void 0){d.mediaurl=e.attr("src")}else{d.mediaurl=a("#"+b+" "+c+" source").first().attr("src")}d.sources=a("#"+b+" "+c+" source");e.addClass("nomediaplugin");e.addClass("nopoodll")}else{var f=a("#"+b+" a").first();d.mediaurl=f.attr("href");d.lang=f.attr("data-lang");d.subtitlesurl=f.attr("data-subtitles");d.imgurl=f.attr("data-img");if(d.subtitlesurl===void 0&&0<d.mediaurl.split("?").length){var g=new URLSearchParams(d.mediaurl.split("?")[1]);d.subtitlesurl=g.get("data-subtitles");d.lang=g.get("data-language");d.mediaurl=mediaurl.split("?")[0]}f.addClass("nomediaplugin");f.addClass("nopoodll")}if(!d.imgurl){var h=a("#"+b+" img").first();if(1===h.length){d.imgurl=h.attr("src")}}return d}}});
//# sourceMappingURL=mediaparser.min.js.map
