define(["jquery","core/log"],function(a,b){"use strict";return b.debug("Media Parser: initialising"),{parse:function(b,c){var d={};d.mediaurl=!1,d.lang=!1,d.subtitlesurl=!1,d.sources=!1,d.imgurl=!1;var e=a("#"+b+" "+c).first();if(1===e.length)d.lang=a("#"+b+" "+c+' track[kind="captions"]').first().attr("srclang"),d.subtitlesurl=a("#"+b+" "+c+' track[kind="captions"]').first().attr("src"),void 0!==e.attr("src")?d.mediaurl=e.attr("src"):d.mediaurl=a("#"+b+" "+c+" source").first().attr("src"),d.sources=a("#"+b+" "+c+" source"),e.addClass("nomediaplugin"),e.addClass("nopoodll");else{var f=a("#"+b+" a").first();if(d.mediaurl=f.attr("href"),d.lang=f.attr("data-lang"),d.subtitlesurl=f.attr("data-subtitles"),d.imgurl=f.attr("data-img"),void 0===d.subtitlesurl&&d.mediaurl.split("?").length>0){var g=new URLSearchParams(d.mediaurl.split("?")[1]);d.subtitlesurl=g.get("data-subtitles"),d.lang=g.get("data-language"),d.mediaurl=mediaurl.split("?")[0]}f.addClass("nomediaplugin"),f.addClass("nopoodll")}if(!d.imgurl){var h=a("#"+b+" img").first();1===h.length&&(d.imgurl=h.attr("src"))}return d}}});