define ("filter_poodll/hermes",["jquery","core/log"],function(a,b){"use strict";b.debug("Hermes (the messenger) initialising");return{allowedURL:"",id:"",iframeembed:!1,enabled:!1,eventListeners:!1,clone:function clone(){return a.extend(!0,{},this)},init:function init(a,b,c){this.allowedURL=b;this.id=a;this.iframeembed=c;this.enabled=!0;this.eventListeners=[];this.registerEvents()},disable:function disable(){this.enabled=!1},enable:function enable(){this.enabled=!0},on:function on(a,b){var c={};c.type=a;c.handler=b;this.eventListeners.push(c)},sendEvent:function sendEvent(a){for(var b=0;b<this.eventListeners.length;b++){if(a.type==this.eventListeners[b].type){this.eventListeners[b].handler(a)}}},postMessage:function postMessage(a){if(!this.enabled){return}if(!a.hasOwnProperty("type")){b.debug("All message objects must have at least the \"type\" property");return}if(this.iframeembed){a.id=this.id;window.parent.postMessage(a,this.allowedURL)}},registerEvents:function registerEvents(){var a=this;window.addEventListener("message",function(b){if(null==a.allowedURL||0!==a.allowedURL.indexOf(b.origin)){return}var c=b.data;if(c&&c.hasOwnProperty("id")&&c.id==a.id&&c.hasOwnProperty("type")){a.sendEvent(b.data)}})}}});
//# sourceMappingURL=hermes.min.js.map
