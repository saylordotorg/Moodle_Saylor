{"version":3,"file":"upskin_text.min.js","sources":["../src/upskin_text.js"],"sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    \"use strict\"; // jshint ;_;\n\n    log.debug('upskin_text: initialising');\n\n    return {\n        element: null,\n        cvs: null,\n        cvsctx: null,\n\n        //for making multiple instances\n        clone: function () {\n            return $.extend(true, {}, this);\n        },\n\n        //init\n        init: function (config, element, cvs, messagearea) {\n            this.config = config;\n            this.element = element;\n            this.cvs = cvs;\n            this.messagearea = messagearea;\n        },\n\n        initControls: function () {\n            //add html and events to recorder here\n        },\n\n        //create a progress bar\n        initProgressSession: function (xhr) {\n            var self = this;\n            self.percent = 0;\n            var uploadingmessage = M.util.get_string('recui_uploading', 'filter_poodll');\n            // Handle event\n            xhr.upload.addEventListener(\"progress\", function (e) {\n                if (e.lengthComputable) {\n                    self.percent = e.loaded / e.total;\n                    self.showMessage(uploadingmessage + '(' + Math.floor(self.percent * 100) + '%)');\n                }\n            });\n        },\n\n        deactivateProgressSession: function () {\n            log.debug('deactivating session');\n        },\n\n        showMessage: function (msg, msgid) {\n            this.messagearea.html(msg);\n        }//End of send message\n    };//end of returned object\n});//total end\n"],"names":["define","$","log","debug","element","cvs","cvsctx","clone","extend","this","init","config","messagearea","initControls","initProgressSession","xhr","self","percent","uploadingmessage","M","util","get_string","upload","addEventListener","e","lengthComputable","loaded","total","showMessage","Math","floor","deactivateProgressSession","msg","msgid","html"],"mappings":"AACAA,mCAAO,CAAC,SAAU,aAAa,SAAUC,EAAGC,YAIxCA,IAAIC,MAAM,6BAEH,CACHC,QAAS,KACTC,IAAK,KACLC,OAAQ,KAGRC,MAAO,kBACIN,EAAEO,QAAO,EAAM,GAAIC,OAI9BC,KAAM,SAAUC,OAAQP,QAASC,IAAKO,kBAC7BD,OAASA,YACTP,QAAUA,aACVC,IAAMA,SACNO,YAAcA,aAGvBC,aAAc,aAKdC,oBAAqB,SAAUC,SACvBC,KAAOP,KACXO,KAAKC,QAAU,MACXC,iBAAmBC,EAAEC,KAAKC,WAAW,kBAAmB,iBAE5DN,IAAIO,OAAOC,iBAAiB,YAAY,SAAUC,GAC1CA,EAAEC,mBACFT,KAAKC,QAAUO,EAAEE,OAASF,EAAEG,MAC5BX,KAAKY,YAAYV,iBAAmB,IAAMW,KAAKC,MAAqB,IAAfd,KAAKC,SAAiB,WAKvFc,0BAA2B,WACvB7B,IAAIC,MAAM,yBAGdyB,YAAa,SAAUI,IAAKC,YACnBrB,YAAYsB,KAAKF"}