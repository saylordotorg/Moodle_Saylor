{"version":3,"sources":["../src/upskin_text.js"],"names":["define","$","log","debug","element","cvs","cvsctx","clone","extend","init","config","messagearea","initControls","initProgressSession","xhr","self","percent","uploadingmessage","M","util","get_string","upload","addEventListener","e","lengthComputable","loaded","total","showMessage","Math","floor","deactivateProgressSession","msg","html"],"mappings":"AACAA,OAAM,6BAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAAUC,CAAV,CAAaC,CAAb,CAAkB,CAE7C,aAEAA,CAAG,CAACC,KAAJ,CAAU,2BAAV,EAEA,MAAO,CACHC,OAAO,CAAE,IADN,CAEHC,GAAG,CAAE,IAFF,CAGHC,MAAM,CAAE,IAHL,CAMHC,KAAK,CAAE,gBAAY,CACf,MAAON,CAAAA,CAAC,CAACO,MAAF,IAAe,EAAf,CAAmB,IAAnB,CACV,CARE,CAWHC,IAAI,CAAE,cAAUC,CAAV,CAAkBN,CAAlB,CAA2BC,CAA3B,CAAgCM,CAAhC,CAA6C,CAC/C,KAAKD,MAAL,CAAcA,CAAd,CACA,KAAKN,OAAL,CAAeA,CAAf,CACA,KAAKC,GAAL,CAAWA,CAAX,CACA,KAAKM,WAAL,CAAmBA,CACtB,CAhBE,CAkBHC,YAAY,CAAE,uBAAY,CAEzB,CApBE,CAuBHC,mBAAmB,CAAE,6BAAUC,CAAV,CAAe,CAChC,GAAIC,CAAAA,CAAI,CAAG,IAAX,CACAA,CAAI,CAACC,OAAL,CAAe,CAAf,CACA,GAAIC,CAAAA,CAAgB,CAAGC,CAAC,CAACC,IAAF,CAAOC,UAAP,CAAkB,iBAAlB,CAAqC,eAArC,CAAvB,CAEAN,CAAG,CAACO,MAAJ,CAAWC,gBAAX,CAA4B,UAA5B,CAAwC,SAAUC,CAAV,CAAa,CACjD,GAAIA,CAAC,CAACC,gBAAN,CAAwB,CACpBT,CAAI,CAACC,OAAL,CAAeO,CAAC,CAACE,MAAF,CAAWF,CAAC,CAACG,KAA5B,CACAX,CAAI,CAACY,WAAL,CAAiBV,CAAgB,CAAG,GAAnB,CAAyBW,IAAI,CAACC,KAAL,CAA0B,GAAf,CAAAd,CAAI,CAACC,OAAhB,CAAzB,CAA0D,IAA3E,CACH,CACJ,CALD,CAMH,CAlCE,CAoCHc,yBAAyB,CAAE,oCAAY,CACnC5B,CAAG,CAACC,KAAJ,CAAU,sBAAV,CACH,CAtCE,CAwCHwB,WAAW,CAAE,qBAAUI,CAAV,CAAsB,CAC/B,KAAKpB,WAAL,CAAiBqB,IAAjB,CAAsBD,CAAtB,CACH,CA1CE,CA4CV,CAlDK,CAAN","sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    \"use strict\"; // jshint ;_;\n\n    log.debug('upskin_text: initialising');\n\n    return {\n        element: null,\n        cvs: null,\n        cvsctx: null,\n\n        //for making multiple instances\n        clone: function () {\n            return $.extend(true, {}, this);\n        },\n\n        //init\n        init: function (config, element, cvs, messagearea) {\n            this.config = config;\n            this.element = element;\n            this.cvs = cvs;\n            this.messagearea = messagearea;\n        },\n\n        initControls: function () {\n            //add html and events to recorder here\n        },\n\n        //create a progress bar\n        initProgressSession: function (xhr) {\n            var self = this;\n            self.percent = 0;\n            var uploadingmessage = M.util.get_string('recui_uploading', 'filter_poodll');\n            // Handle event\n            xhr.upload.addEventListener(\"progress\", function (e) {\n                if (e.lengthComputable) {\n                    self.percent = e.loaded / e.total;\n                    self.showMessage(uploadingmessage + '(' + Math.floor(self.percent * 100) + '%)');\n                }\n            });\n        },\n\n        deactivateProgressSession: function () {\n            log.debug('deactivating session');\n        },\n\n        showMessage: function (msg, msgid) {\n            this.messagearea.html(msg);\n        }//End of send message\n    };//end of returned object\n});//total end\n"],"file":"upskin_text.min.js"}