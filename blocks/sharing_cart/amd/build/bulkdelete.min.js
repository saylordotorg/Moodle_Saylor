define("block_sharing_cart/bulkdelete",["jquery","core/modal_factory","core/modal_events"],(function($,ModalFactory,ModalEvents){return{init:function(){function str(identifier){return M.str.block_sharing_cart[identifier]||M.str.moodle[identifier]}function get_checks(){return $('form :checkbox[name^="delete"]')}$(".bulk-delete-item [id^=delete]").on("click",(function(){var delete_checked,checks,checked_checkbox;delete_checked=$('form :button[name^="delete_checked"]'),checks=get_checks(),checked_checkbox=!1,$(checks).each((function(i,val){if($(val).prop("checked"))return checked_checkbox=!0,!1})),delete_checked.prop("disabled",!checked_checkbox),$(".bulk-delete-select-all :checkbox").prop("checked",checked_checkbox)})),$(".bulk-delete-select-all input").on("click",(function(){!function(check){var checks=get_checks();$(checks).prop("checked",check.checked),$('form :button[name ="delete_checked"]').prop("disabled",!check.checked)}(this)})),$(".form_submit").on("click",(function(){var object,trigger,modal_body="<ul>",selected_input=$(".bulk-delete-item input:checked");$(selected_input).each((function(){var label=$('label[for="'+this.id+'"]');modal_body+="<li>"+label.text()+"</li>"})),modal_body+="</ul>",object={title:str("modal_bulkdelete_title"),body:modal_body,save_button:str("modal_bulkdelete_confirm"),next:function(){$("#form").submit()}},trigger=$("#create-modal"),ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:object.title,body:object.body},trigger).done((function(modal){modal.setSaveButtonText(object.save_button),modal.getRoot().on(ModalEvents.save,(function(){object.next()})),modal.getRoot().on(ModalEvents.hidden,(function(){$(".modal.moodle-has-zindex").remove()})),modal.show()}))}))}}}));

//# sourceMappingURL=bulkdelete.min.js.map