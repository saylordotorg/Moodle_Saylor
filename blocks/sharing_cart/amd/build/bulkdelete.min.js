define ("block_sharing_cart/bulkdelete",["jquery","core/modal_factory","core/modal_events"],function(a,b,c){return{init:function init(){function d(a){return M.str.block_sharing_cart[a]||M.str.moodle[a]}function e(d){var e=a("#create-modal");b.create({type:b.types.SAVE_CANCEL,title:d.title,body:d.body},e).done(function(b){b.setSaveButtonText(d.save_button);b.getRoot().on(c.save,function(){d.next()});b.getRoot().on(c.hidden,function(){a(".modal.moodle-has-zindex").remove()});b.show()})}function f(){var b=a("form :checkbox[name^=\"delete\"]");return b}function g(b){var c=f();a(c).prop("checked",b.checked);a("form :button[name =\"delete_checked\"]").prop("disabled",!b.checked)}function h(){var b=a("form :button[name^=\"delete_checked\"]"),c=f(),d=!1;a(c).each(function(b,c){if(a(c).prop("checked")){d=!0;return!1}});b.prop("disabled",!d);a(".bulk-delete-select-all :checkbox").prop("checked",d)}a(".bulk-delete-item [id^=delete]").on("click",function(){h()});a(".bulk-delete-select-all input").on("click",function(){g(this)});a(".form_submit").on("click",function(){var b="<ul>",c=a(".bulk-delete-item input:checked");a(c).each(function(){var c=a("label[for=\""+this.id+"\"]");b+="<li>"+c.text()+"</li>"});b+="</ul>";e({title:d("modal_bulkdelete_title"),body:b,save_button:d("modal_bulkdelete_confirm"),next:function next(){a("#form").submit()}})})}}});
//# sourceMappingURL=bulkdelete.min.js.map
