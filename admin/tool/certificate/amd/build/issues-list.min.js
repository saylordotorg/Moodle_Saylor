define ("tool_certificate/issues-list",["jquery","tool_certificate/modal_form","core/notification","core/str","core/ajax","core/toast"],function(a,b,c,d,f,g){var h={ADDISSUE:"[data-element='addbutton']",REGENERATEFILE:"[data-action='regenerate']",REVOKEISSUE:"[data-action='revoke']"},i=function(c){c.preventDefault();var e=new b({formClass:"tool_certificate\\form\\certificate_issues",args:{tid:a(c.currentTarget).attr("data-tid")},modalConfig:{title:d.get_string("issuecertificates","tool_certificate"),scrollable:!1},saveButtonText:d.get_string("save"),triggerElement:a(c.currentTarget)});e.onSubmitSuccess=function(a){a=parseInt(a,10);if(a){d.get_strings([{key:"oneissuewascreated",component:"tool_certificate"},{key:"aissueswerecreated",component:"tool_certificate",param:a}]).done(function(b){var c=1<a?b[1]:b[0];g.add(c)});window.location.reload()}else{d.get_string("noissueswerecreated","tool_certificate").done(function(a){g.add(a)})}}},j=function(b){b.preventDefault();b.stopPropagation();d.get_strings([{key:"confirm",component:"moodle"},{key:"revokecertificateconfirm",component:"tool_certificate"},{key:"revoke",component:"tool_certificate"},{key:"cancel",component:"moodle"}]).done(function(d){c.confirm(d[0],d[1],d[2],d[3],function(){var d=f.call([{methodname:"tool_certificate_revoke_issue",args:{id:a(b.currentTarget).attr("data-id")}}]);d[0].done(function(){window.location.reload()}).fail(c.exception)})}).fail(c.exception)},k=function(b){b.preventDefault();b.stopPropagation();d.get_strings([{key:"confirm",component:"moodle"},{key:"regeneratefileconfirm",component:"tool_certificate"},{key:"regenerate",component:"tool_certificate"},{key:"cancel",component:"moodle"}]).done(function(d){c.confirm(d[0],d[1],d[2],d[3],function(){var d=f.call([{methodname:"tool_certificate_regenerate_issue_file",args:{id:a(b.currentTarget).attr("data-id")}}]);d[0].done(function(){window.location.reload()}).fail(c.exception)})}).fail(c.exception)};return{init:function init(){a("body").on("click",h.ADDISSUE,i).on("click",h.REVOKEISSUE,j).on("click",h.REGENERATEFILE,k)}}});
//# sourceMappingURL=issues-list.min.js.map
