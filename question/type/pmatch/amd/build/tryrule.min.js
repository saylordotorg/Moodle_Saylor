define ("qtype_pmatch/tryrule",["jquery"],function(a){var b={baseUrl:"",sessKey:"",qid:"",pendingid:"",baseForm:null,init:function init(){b.pendingid="tryrule_"+Math.random().toString(36).slice(2);var c=window.location;b.baseUrl=c.protocol+"//"+c.host+c.pathname.replace("question.php","type/pmatch/api/api.php");if(a("#mform1").length){b.baseForm=a("#mform1")}else{b.baseForm=a("form.mform").first()}b.sessKey=b.baseForm.find("input[name=\"sesskey\"]").val();b.qid=b.baseForm.find("input[name=\"id\"]").val();a("input[name=\"tryrule\"]").on("click",function(c){c.preventDefault();var d=a(this).parents(".try-rule").prevAll(".answer-rule").first().attr("id").replace("fitem_id_answer_","");b.tryrule(d,this)})},tryrule:function tryrule(c,d){M.util.js_pending(b.pendingid);var e=a("#id_answer_"+c).val().trim();if(e===void 0||null===e||""===e){return}var f=a(d).next(".try-rule-result"),g=a("#id_fraction_"+c).val(),h={type:"tryrule",qid:b.qid,ruletxt:e,sesskey:b.sessKey,fraction:g};a.post(b.baseUrl,h,function(a){f.html(a);M.util.js_complete(b.pendingid)},"json")}};return b});
//# sourceMappingURL=tryrule.min.js.map
