var factory;factory=function($){var pointerEnabled=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;if($.support.touch="ontouchend"in document||pointerEnabled,$.support.touch&&$.ui.mouse){var touchHandled,mouseProto=$.ui.mouse.prototype,_mouseInit=mouseProto._mouseInit;mouseProto._touchStart=function(event){touchHandled||!pointerEnabled&&!this._mouseCapture(event.originalEvent.changedTouches[0])||(touchHandled=!0,this._touchMoved=!1,simulateMouseEvent(event,"mouseover"),simulateMouseEvent(event,"mousemove"),simulateMouseEvent(event,"mousedown"))},mouseProto._touchMove=function(event){touchHandled&&(this._touchMoved=!0,simulateMouseEvent(event,"mousemove"))},mouseProto._touchEnd=function(event){touchHandled&&(simulateMouseEvent(event,"mouseup"),simulateMouseEvent(event,"mouseout"),this._touchMoved||simulateMouseEvent(event,"click"),touchHandled=!1)},mouseProto._mouseInit=function(){this.element.on({touchstart:$.proxy(this,"_touchStart"),touchmove:$.proxy(this,"_touchMove"),touchend:$.proxy(this,"_touchEnd"),pointerDown:$.proxy(this,"_touchStart"),pointerMove:$.proxy(this,"_touchMove"),pointerUp:$.proxy(this,"_touchEnd"),MSPointerDown:$.proxy(this,"_touchStart"),MSPointerMove:$.proxy(this,"_touchMove"),MSPointerUp:$.proxy(this,"_touchEnd")}),_mouseInit.call(this)}}function simulateMouseEvent(event,simulatedType){if(!(!pointerEnabled&&event.originalEvent.touches.length>1||pointerEnabled&&!event.isPrimary)){var touch=pointerEnabled?event.originalEvent:event.originalEvent.changedTouches[0],simulatedEvent=document.createEvent("MouseEvents"),coord=function(touch){var winPageX=window.pageXOffset,winPageY=window.pageYOffset,x=touch.clientX,y=touch.clientY;return 0===touch.pageY&&Math.floor(y)>Math.floor(touch.pageY)||0===touch.pageX&&Math.floor(x)>Math.floor(touch.pageX)?(x-=winPageX,y-=winPageY):(y<touch.pageY-winPageY||x<touch.pageX-winPageX)&&(x=touch.pageX-winPageX,y=touch.pageY-winPageY),{clientX:x,clientY:y}}(touch);$(touch.target).is("input")||$(touch.target).is("textarea")?event.stopPropagation():event.preventDefault(),simulatedEvent.initMouseEvent(simulatedType,!0,!0,window,1,event.screenX||touch.screenX,event.screenY||touch.screenY,event.clientX||coord.clientX,event.clientY||coord.clientY,!1,!1,!1,!1,0,null),event.target.dispatchEvent(simulatedEvent)}}},"function"==typeof define&&define.amd?define("qtype_gapfill/jquery.ui.touch-punch-improved",["jquery","jqueryui"],factory):factory(window.jQuery);

//# sourceMappingURL=jquery.ui.touch-punch-improved.min.js.map