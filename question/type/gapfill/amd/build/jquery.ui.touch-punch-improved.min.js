(function(a){if("function"==typeof define&&define.amd){define ("qtype_gapfill/jquery.ui.touch-punch-improved",["jquery","jqueryui"],a)}else{a(window.jQuery)}})(function(a){var d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;a.support.touch="ontouchend"in document||d;if(!a.support.touch||!a.ui.mouse){return}var e=a.ui.mouse.prototype,f=e._mouseInit,g;function b(a){var b=window.pageXOffset,c=window.pageYOffset,d=a.clientX,e=a.clientY;if(0===a.pageY&&Math.floor(e)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(d)>Math.floor(a.pageX)){d=d-b;e=e-c}else if(e<a.pageY-c||d<a.pageX-b){d=a.pageX-b;e=a.pageY-c}return{clientX:d,clientY:e}}function c(c,e){if(!d&&1<c.originalEvent.touches.length||d&&!c.isPrimary){return}var f=d?c.originalEvent:c.originalEvent.changedTouches[0],g=document.createEvent("MouseEvents"),h=b(f);if(a(f.target).is("input")||a(f.target).is("textarea")){c.stopPropagation()}else{c.preventDefault()}g.initMouseEvent(e,!0,!0,window,1,c.screenX||f.screenX,c.screenY||f.screenY,c.clientX||h.clientX,c.clientY||h.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(g)}e._touchStart=function(a){var b=this;if(g||!d&&!b._mouseCapture(a.originalEvent.changedTouches[0])){return}g=!0;b._touchMoved=!1;c(a,"mouseover");c(a,"mousemove");c(a,"mousedown")};e._touchMove=function(a){if(!g){return}this._touchMoved=!0;c(a,"mousemove")};e._touchEnd=function(a){if(!g){return}c(a,"mouseup");c(a,"mouseout");if(!this._touchMoved){c(a,"click")}g=!1};e._mouseInit=function(){var b=this;b.element.on({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd"),pointerDown:a.proxy(b,"_touchStart"),pointerMove:a.proxy(b,"_touchMove"),pointerUp:a.proxy(b,"_touchEnd"),MSPointerDown:a.proxy(b,"_touchStart"),MSPointerMove:a.proxy(b,"_touchMove"),MSPointerUp:a.proxy(b,"_touchEnd")});f.call(b)}});
//# sourceMappingURL=jquery.ui.touch-punch-improved.min.js.map
