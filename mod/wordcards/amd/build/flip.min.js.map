{"version":3,"sources":["../src/flip.js"],"names":["define","$","whichTransitionEvent","t","el","document","createElement","transitions","style","Flip","$el","options","callback","setting","axis","reverse","trigger","speed","forceHeight","forceWidth","autoSize","front","back","extend","toLowerCase","parseInt","isNaN","element","frontElement","getFrontElement","backElement","getBackElement","isFlipped","init","prototype","flipDone","self","one","call","flip","rotateAxis","css","transform","unflip","find","faces","add","perspective","elementCss","backElementCss","faceElementCss","outerHeight","height","outerWidth","width","window","chrome","Intl","v8BreakIterator","setTimeout","speedInSec","attachEvents","clickHandler","event","target","closest","length","hoverHandler","off","on","proxy","is","fn","tap","flipChanged","changeSettings","changeNeeded","savedTrans","transition","each","data"],"mappings":"AAQAA,OAAM,sBAAC,CACH,QADG,CAAD,CAEH,SAASC,CAAT,CAAY,IAYHC,CAAAA,CAAoB,CAAG,UAAW,CAClC,GAAIC,CAAAA,CAAJ,CAAOC,CAAE,CAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAZ,CACIC,CAAW,CAAG,CACV,WAAoB,eADV,CAEV,YAAoB,gBAFV,CAGV,cAAoB,eAHV,CAIV,iBAAoB,qBAJV,CADlB,CAQA,IAAKJ,CAAL,GAAUI,CAAAA,CAAV,CAAuB,CACnB,GAAIH,CAAE,CAACI,KAAH,CAASL,CAAT,UAAJ,CAA+B,CAC3B,MAAOI,CAAAA,CAAW,CAACJ,CAAD,CACrB,CACJ,CACJ,CA1BM,CA+BHM,CAAI,CAAG,SAASC,CAAT,CAAcC,CAAd,CAAuBC,CAAvB,CAAiC,CAExC,KAAKC,OAAL,CAAe,CACXC,IAAI,CAAE,GADK,CAEXC,OAAO,GAFI,CAGXC,OAAO,CAAE,OAHE,CAIXC,KAAK,CAAE,GAJI,CAKXC,WAAW,GALA,CAMXC,UAAU,GANC,CAOXC,QAAQ,GAPG,CAQXC,KAAK,CAAE,QARI,CASXC,IAAI,CAAE,OATK,CAAf,CAYA,KAAKT,OAAL,CAAeZ,CAAC,CAACsB,MAAF,CAAS,KAAKV,OAAd,CAAuBF,CAAvB,CAAf,CAEA,GAA4B,QAAxB,QAAOA,CAAAA,CAAO,CAACG,IAAf,GAAoE,GAA/B,GAAAH,CAAO,CAACG,IAAR,CAAaU,WAAb,IAAqE,GAA/B,GAAAb,CAAO,CAACG,IAAR,CAAaU,WAAb,EAA3E,CAAJ,CAAoH,CAChH,KAAKX,OAAL,CAAaC,IAAb,CAAoBH,CAAO,CAACG,IAAR,CAAaU,WAAb,EACvB,CAED,GAA+B,SAA3B,QAAOb,CAAAA,CAAO,CAACI,OAAnB,CAA0C,CACtC,KAAKF,OAAL,CAAaE,OAAb,CAAuBJ,CAAO,CAACI,OAClC,CAED,GAA+B,QAA3B,QAAOJ,CAAAA,CAAO,CAACK,OAAnB,CAAyC,CACrC,KAAKH,OAAL,CAAaG,OAAb,CAAuBL,CAAO,CAACK,OAAR,CAAgBQ,WAAhB,EAC1B,CAED,GAAIP,CAAAA,CAAK,CAAGQ,QAAQ,CAACd,CAAO,CAACM,KAAT,CAApB,CACA,GAAI,CAACS,KAAK,CAACT,CAAD,CAAV,CAAmB,CACf,KAAKJ,OAAL,CAAaI,KAAb,CAAqBA,CACxB,CAED,GAAmC,SAA/B,QAAON,CAAAA,CAAO,CAACO,WAAnB,CAA8C,CAC1C,KAAKL,OAAL,CAAaK,WAAb,CAA2BP,CAAO,CAACO,WACtC,CAED,GAAkC,SAA9B,QAAOP,CAAAA,CAAO,CAACQ,UAAnB,CAA6C,CACzC,KAAKN,OAAL,CAAaM,UAAb,CAA0BR,CAAO,CAACQ,UACrC,CAED,GAAgC,SAA5B,QAAOR,CAAAA,CAAO,CAACS,QAAnB,CAA2C,CACvC,KAAKP,OAAL,CAAaO,QAAb,CAAwBT,CAAO,CAACS,QACnC,CAED,GAA6B,QAAzB,QAAOT,CAAAA,CAAO,CAACU,KAAf,EAAqCV,CAAO,CAACU,KAAR,WAAyBpB,CAAAA,CAAlE,CAAqE,CACjE,KAAKY,OAAL,CAAaQ,KAAb,CAAqBV,CAAO,CAACU,KAChC,CAED,GAA4B,QAAxB,QAAOV,CAAAA,CAAO,CAACW,IAAf,EAAoCX,CAAO,CAACW,IAAR,WAAwBrB,CAAAA,CAAhE,CAAmE,CAC/D,KAAKY,OAAL,CAAaS,IAAb,CAAoBX,CAAO,CAACW,IAC/B,CAGD,KAAKK,OAAL,CAAejB,CAAf,CACA,KAAKkB,YAAL,CAAoB,KAAKC,eAAL,EAApB,CACA,KAAKC,WAAL,CAAmB,KAAKC,cAAL,EAAnB,CACA,KAAKC,SAAL,IAEA,KAAKC,IAAL,CAAUrB,CAAV,CACH,CA3FM,CAgGPX,CAAC,CAACsB,MAAF,CAASd,CAAI,CAACyB,SAAd,CAAyB,CAErBC,QAAQ,CAAE,kBAASvB,CAAT,CAAmB,CACzB,GAAIwB,CAAAA,CAAI,CAAG,IAAX,CAEAA,CAAI,CAACT,OAAL,CAAaU,GAAb,CAAiBnC,CAAoB,EAArC,CAAyC,UAAW,CAChDkC,CAAI,CAACT,OAAL,CAAaX,OAAb,CAAqB,WAArB,EACA,GAAwB,UAApB,QAAOJ,CAAAA,CAAX,CAAoC,CAChCA,CAAQ,CAAC0B,IAAT,CAAcF,CAAI,CAACT,OAAnB,CACH,CACJ,CALD,CAMH,CAXoB,CAarBY,IAAI,CAAE,cAAS3B,CAAT,CAAmB,CACrB,GAAI,KAAKoB,SAAT,CAAoB,CAChB,MACH,CAED,KAAKA,SAAL,IAEA,GAAIQ,CAAAA,CAAU,CAAG,SAAW,KAAK3B,OAAL,CAAaC,IAAzC,CACA,KAAKc,YAAL,CAAkBa,GAAlB,CAAsB,CAClBC,SAAS,CAAEF,CAAU,EAAI,KAAK3B,OAAL,CAAaE,OAAb,CAAuB,WAAvB,CAAqC,UAAzC,CADH,CAElB,UAAW,GAFO,CAAtB,EAKA,KAAKe,WAAL,CAAiBW,GAAjB,CAAqB,CACjBC,SAAS,CAAEF,CAAU,CAAG,QADP,CAEjB,UAAW,GAFM,CAArB,EAIA,KAAKL,QAAL,CAAcvB,CAAd,CACH,CA/BoB,CAiCrB+B,MAAM,CAAE,gBAAS/B,CAAT,CAAmB,CACvB,GAAI,CAAC,KAAKoB,SAAV,CAAqB,CACjB,MACH,CAED,KAAKA,SAAL,IAEA,GAAIQ,CAAAA,CAAU,CAAG,SAAW,KAAK3B,OAAL,CAAaC,IAAzC,CACA,KAAKc,YAAL,CAAkBa,GAAlB,CAAsB,CAClBC,SAAS,CAAEF,CAAU,CAAG,QADN,CAElB,UAAW,GAFO,CAAtB,EAKA,KAAKV,WAAL,CAAiBW,GAAjB,CAAqB,CACjBC,SAAS,CAAEF,CAAU,EAAI,KAAK3B,OAAL,CAAaE,OAAb,CAAuB,UAAvB,CAAoC,WAAxC,CADJ,CAEjB,UAAW,GAFM,CAArB,EAIA,KAAKoB,QAAL,CAAcvB,CAAd,CACH,CAnDoB,CAqDrBiB,eAAe,CAAE,0BAAW,CACxB,GAAI,KAAKhB,OAAL,CAAaQ,KAAb,WAA8BpB,CAAAA,CAAlC,CAAqC,CACjC,MAAO,MAAKY,OAAL,CAAaQ,KACvB,CAFD,IAEO,CACH,MAAO,MAAKM,OAAL,CAAaiB,IAAb,CAAkB,KAAK/B,OAAL,CAAaQ,KAA/B,CACV,CACJ,CA3DoB,CA6DrBU,cAAc,CAAE,yBAAW,CACvB,GAAI,KAAKlB,OAAL,CAAaS,IAAb,WAA6BrB,CAAAA,CAAjC,CAAoC,CAChC,MAAO,MAAKY,OAAL,CAAaS,IACvB,CAFD,IAEO,CACH,MAAO,MAAKK,OAAL,CAAaiB,IAAb,CAAkB,KAAK/B,OAAL,CAAaS,IAA/B,CACV,CACJ,CAnEoB,CAqErBW,IAAI,CAAE,cAASrB,CAAT,CAAmB,IACjBwB,CAAAA,CAAI,CAAG,IADU,CAGjBS,CAAK,CAAGT,CAAI,CAACR,YAAL,CAAkBkB,GAAlB,CAAsBV,CAAI,CAACN,WAA3B,CAHS,CAIjBU,CAAU,CAAG,SAAWJ,CAAI,CAACvB,OAAL,CAAaC,IAJpB,CAKjBiC,CAAW,CAA+E,CAA5E,CAAAX,CAAI,CAACT,OAAL,CAAa,SAA0B,SAAf,GAAAa,CAAU,CAAiB,QAAjB,CAA4B,OAAjD,CAAb,GALG,CAMjBQ,CAAU,CAAG,CACb,YAAeD,CADF,CAEb,SAAY,UAFC,CANI,CAUjBE,CAAc,CAAG,CACjB,UAAaT,CAAU,CAAG,GAAb,EAAoBJ,CAAI,CAACvB,OAAL,CAAaE,OAAb,CAAuB,QAAvB,CAAkC,SAAtD,EAAmE,GAD/D,CAEjB,UAAW,GAFM,CAGjB,SAAY,UAHK,CAVA,CAejBmC,CAAc,CAAG,CACjB,sBAAuB,QADN,CAEjB,kBAAmB,aAFF,CAGjB,SAAY,UAHK,CAIjB,UAAW,GAJM,CAfA,CAsBrB,GAAId,CAAI,CAACvB,OAAL,CAAaK,WAAjB,CAA8B,CAC1B2B,CAAK,CAACM,WAAN,CAAkBf,CAAI,CAACT,OAAL,CAAayB,MAAb,EAAlB,CACH,CAFD,IAEO,IAAIhB,CAAI,CAACvB,OAAL,CAAaO,QAAjB,CAA2B,CAC9B8B,CAAc,CAACE,MAAf,CAAwB,MAC3B,CAED,GAAIhB,CAAI,CAACvB,OAAL,CAAaM,UAAjB,CAA6B,CACzB0B,CAAK,CAACQ,UAAN,CAAiBjB,CAAI,CAACT,OAAL,CAAa2B,KAAb,EAAjB,CACH,CAFD,IAEO,IAAIlB,CAAI,CAACvB,OAAL,CAAaO,QAAjB,CAA2B,CAC9B8B,CAAc,CAACI,KAAf,CAAuB,MAC1B,CAGD,GAAI,CAACC,MAAM,CAACC,MAAP,EAAkBD,MAAM,CAACE,IAAP,EAAeA,IAAI,CAACC,eAAvC,GAA4D,OAASH,CAAAA,MAAzE,CAAiF,CAE7EP,CAAU,CAAC,yBAAD,CAAV,CAAwC,aAC3C,CAGDH,CAAK,CAACJ,GAAN,CAAUS,CAAV,EAA0BN,IAA1B,CAA+B,GAA/B,EAAoCH,GAApC,CAAwC,CACpC,sBAAuB,QADa,CAAxC,EAIAL,CAAI,CAACT,OAAL,CAAac,GAAb,CAAiBO,CAAjB,EACAZ,CAAI,CAACN,WAAL,CAAiBW,GAAjB,CAAqBQ,CAArB,EAOAU,UAAU,CAAC,UAAW,CAGlB,GAAIC,CAAAA,CAAU,CAAGxB,CAAI,CAACvB,OAAL,CAAaI,KAAb,CAAqB,GAArB,EAA6B,EAA9C,CACA4B,CAAK,CAACJ,GAAN,CAAU,CACN,WAAc,OAASmB,CAAT,CAAsB,YAD9B,CAAV,EAKA,GAAwB,UAApB,QAAOhD,CAAAA,CAAX,CAAoC,CAChCA,CAAQ,CAAC0B,IAAT,CAAcF,CAAI,CAACT,OAAnB,CACH,CAKJ,CAhBS,CAgBP,EAhBO,CAAV,CAkBAS,CAAI,CAACyB,YAAL,EACH,CA7IoB,CA+IrBC,YAAY,CAAE,sBAASC,CAAT,CAAgB,CAC1B,GAAI,CAACA,CAAL,CAAY,CAAEA,CAAK,CAAGR,MAAM,CAACQ,KAAQ,CACrC,GAAI,KAAKpC,OAAL,CAAaiB,IAAb,CAAkB3C,CAAC,CAAC8D,CAAK,CAACC,MAAP,CAAD,CAAgBC,OAAhB,CAAwB,mCAAxB,CAAlB,EAA8EC,MAAlF,CAA0F,CACtF,MACH,CAED,GAAI,KAAKlC,SAAT,CAAoB,CAChB,KAAKW,MAAL,EACH,CAFD,IAEO,CACH,KAAKJ,IAAL,EACH,CACJ,CA1JoB,CA4JrB4B,YAAY,CAAE,uBAAW,CACrB,GAAI/B,CAAAA,CAAI,CAAG,IAAX,CACAA,CAAI,CAACT,OAAL,CAAayC,GAAb,CAAiB,iBAAjB,EAEAhC,CAAI,CAACG,IAAL,GAEAoB,UAAU,CAAC,UAAW,CAClBvB,CAAI,CAACT,OAAL,CAAa0C,EAAb,CAAgB,iBAAhB,CAAmCpE,CAAC,CAACqE,KAAF,CAAQlC,CAAI,CAACO,MAAb,CAAqBP,CAArB,CAAnC,EACA,GAAI,CAACA,CAAI,CAACT,OAAL,CAAa4C,EAAb,CAAgB,QAAhB,CAAL,CAAgC,CAC5BnC,CAAI,CAACO,MAAL,EACH,CACJ,CALS,CAKNP,CAAI,CAACvB,OAAL,CAAaI,KAAb,CAAqB,GALf,CAMb,CAxKoB,CA0KrB4C,YAAY,CAAE,uBAAW,CACrB,GAAIzB,CAAAA,CAAI,CAAG,IAAX,CACA,GAA6B,OAAzB,GAAAA,CAAI,CAACvB,OAAL,CAAaG,OAAjB,CAAsC,CAClCoB,CAAI,CAACT,OAAL,CAAa0C,EAAb,CAAgBpE,CAAC,CAACuE,EAAF,CAAKC,GAAL,CAAW,UAAX,CAAwB,YAAxC,CAAsDxE,CAAC,CAACqE,KAAF,CAAQlC,CAAI,CAAC0B,YAAb,CAA2B1B,CAA3B,CAAtD,CACH,CAFD,IAEO,IAA6B,OAAzB,GAAAA,CAAI,CAACvB,OAAL,CAAaG,OAAjB,CAAsC,CACzCoB,CAAI,CAACT,OAAL,CAAa0C,EAAb,CAAgB,iBAAhB,CAAmCpE,CAAC,CAACqE,KAAF,CAAQlC,CAAI,CAAC+B,YAAb,CAA2B/B,CAA3B,CAAnC,EACAA,CAAI,CAACT,OAAL,CAAa0C,EAAb,CAAgB,iBAAhB,CAAmCpE,CAAC,CAACqE,KAAF,CAAQlC,CAAI,CAACO,MAAb,CAAqBP,CAArB,CAAnC,CACH,CACJ,CAlLoB,CAoLrBsC,WAAW,CAAE,qBAAS9D,CAAT,CAAmB,CAC5B,KAAKe,OAAL,CAAaX,OAAb,CAAqB,aAArB,EACA,GAAwB,UAApB,QAAOJ,CAAAA,CAAX,CAAoC,CAChCA,CAAQ,CAAC0B,IAAT,CAAc,KAAKX,OAAnB,CACH,CACJ,CAzLoB,CA2LrBgD,cAAc,CAAE,wBAAShE,CAAT,CAAkBC,CAAlB,CAA4B,IACpCwB,CAAAA,CAAI,CAAG,IAD6B,CAEpCwC,CAAY,GAFwB,CAIxC,GAAIjE,CAAO,CAACG,IAAR,WAA8BsB,CAAI,CAACvB,OAAL,CAAaC,IAAb,GAAsBH,CAAO,CAACG,IAAR,CAAaU,WAAb,EAAxD,CAAoF,CAChFY,CAAI,CAACvB,OAAL,CAAaC,IAAb,CAAoBH,CAAO,CAACG,IAAR,CAAaU,WAAb,EAApB,CACAoD,CAAY,GACf,CAED,GAAIjE,CAAO,CAACI,OAAR,WAAiCqB,CAAI,CAACvB,OAAL,CAAaE,OAAb,GAAyBJ,CAAO,CAACI,OAAtE,CAA+E,CAC3EqB,CAAI,CAACvB,OAAL,CAAaE,OAAb,CAAuBJ,CAAO,CAACI,OAA/B,CACA6D,CAAY,GACf,CAED,GAAIA,CAAJ,CAAkB,IACV/B,CAAAA,CAAK,CAAGT,CAAI,CAACR,YAAL,CAAkBkB,GAAlB,CAAsBV,CAAI,CAACN,WAA3B,CADE,CAEV+C,CAAU,CAAGhC,CAAK,CAACJ,GAAN,CAAU,CAAC,qBAAD,CAAwB,4BAAxB,CAAsD,qBAAtD,CAA6E,kBAA7E,CAAV,CAFH,CAIdI,CAAK,CAACJ,GAAN,CAAU,CACNqC,UAAU,CAAE,MADN,CAAV,EAKA,GAAItC,CAAAA,CAAU,CAAG,SAAWJ,CAAI,CAACvB,OAAL,CAAaC,IAAzC,CAEA,GAAIsB,CAAI,CAACJ,SAAT,CAAoB,CAChBI,CAAI,CAACR,YAAL,CAAkBa,GAAlB,CAAsB,CAClBC,SAAS,CAAEF,CAAU,EAAIJ,CAAI,CAACvB,OAAL,CAAaE,OAAb,CAAuB,WAAvB,CAAqC,UAAzC,CADH,CAElB,UAAW,GAFO,CAAtB,CAIH,CALD,IAKO,CACHqB,CAAI,CAACN,WAAL,CAAiBW,GAAjB,CAAqB,CACjBC,SAAS,CAAEF,CAAU,EAAIJ,CAAI,CAACvB,OAAL,CAAaE,OAAb,CAAuB,UAAvB,CAAoC,WAAxC,CADJ,CAEjB,UAAW,GAFM,CAArB,CAIH,CAED4C,UAAU,CAAC,UAAW,CAClBd,CAAK,CAACJ,GAAN,CAAUoC,CAAV,EACAzC,CAAI,CAACsC,WAAL,CAAiB9D,CAAjB,CACH,CAHS,CAGP,CAHO,CAIb,CA3BD,IA2BO,CAEHwB,CAAI,CAACsC,WAAL,CAAiB9D,CAAjB,CACH,CACJ,CAxOoB,CAAzB,EA+OAX,CAAC,CAACuE,EAAF,CAAKjC,IAAL,CAAY,SAAU5B,CAAV,CAAmBC,CAAnB,CAA6B,CACrC,GAAuB,UAAnB,QAAOD,CAAAA,CAAX,CAAmC,CAC/BC,CAAQ,CAAGD,CACd,CAED,GAAuB,QAAnB,QAAOA,CAAAA,CAAP,EAAkD,SAAnB,QAAOA,CAAAA,CAA1C,CAAiE,CAC7D,KAAKoE,IAAL,CAAU,UAAW,CACjB,GAAIxC,CAAAA,CAAI,CAAGtC,CAAC,CAAC,IAAD,CAAD,CAAQ+E,IAAR,CAAa,YAAb,CAAX,CAEA,GAAgB,QAAZ,GAAArE,CAAJ,CAA0B,CACtBA,CAAO,CAAG,CAAC4B,CAAI,CAACP,SACnB,CAED,GAAIrB,CAAJ,CAAa,CACT4B,CAAI,CAACA,IAAL,CAAU3B,CAAV,CACH,CAFD,IAEO,CACH2B,CAAI,CAACI,MAAL,CAAY/B,CAAZ,CACH,CACJ,CAZD,CAaH,CAdD,IAcO,CACH,KAAKmE,IAAL,CAAU,UAAW,CACjB,GAAI9E,CAAC,CAAC,IAAD,CAAD,CAAQ+E,IAAR,CAAa,YAAb,CAAJ,CAAgC,CAC5B,GAAIzC,CAAAA,CAAI,CAAGtC,CAAC,CAAC,IAAD,CAAD,CAAQ+E,IAAR,CAAa,YAAb,CAAX,CAEA,GAAIrE,CAAO,GAAKA,CAAO,CAACG,IAAR,WAA8BH,CAAO,CAACI,OAAR,SAAnC,CAAX,CAA8E,CAC1EwB,CAAI,CAACoC,cAAL,CAAoBhE,CAApB,CAA6BC,CAA7B,CACH,CACJ,CAND,IAMO,CACHX,CAAC,CAAC,IAAD,CAAD,CAAQ+E,IAAR,CAAa,YAAb,CAA2B,GAAIvE,CAAAA,CAAJ,CAASR,CAAC,CAAC,IAAD,CAAV,CAAmBU,CAAO,EAAI,EAA9B,CAAmCC,CAAnC,CAA3B,CACH,CACJ,CAVD,CAWH,CAED,MAAO,KACV,CACR,CApXK,CAAN","sourcesContent":["/**\r\n * JQuery Flip plugin module.\r\n *\r\n * @package mod_wordcards\r\n * @author  Justin Hunt - poodll.com\r\n * (based on https://github.com/nnattawat/flip)\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function($) {\r\n\r\n    /*! flip - v1.1.2 - 2016-10-20\r\n    * https://github.com/nnattawat/flip\r\n    * Copyright (c) 2016 Nattawat Nonsung; Licensed MIT */\r\n\r\n\r\n        /*\r\n         * Private attributes and method\r\n         */\r\n\r\n        // Function from David Walsh: http://davidwalsh.name/css-animation-callback licensed with http://opensource.org/licenses/MIT\r\n        var whichTransitionEvent = function() {\r\n            var t, el = document.createElement(\"fakeelement\"),\r\n                transitions = {\r\n                    \"transition\"      : \"transitionend\",\r\n                    \"OTransition\"     : \"oTransitionEnd\",\r\n                    \"MozTransition\"   : \"transitionend\",\r\n                    \"WebkitTransition\": \"webkitTransitionEnd\"\r\n                };\r\n\r\n            for (t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    return transitions[t];\r\n                }\r\n            }\r\n        };\r\n\r\n        /*\r\n         * Model declaration\r\n         */\r\n        var Flip = function($el, options, callback) {\r\n            // Define default setting\r\n            this.setting = {\r\n                axis: \"y\",\r\n                reverse: false,\r\n                trigger: \"click\",\r\n                speed: 500,\r\n                forceHeight: false,\r\n                forceWidth: false,\r\n                autoSize: true,\r\n                front: '.front',\r\n                back: '.back'\r\n            };\r\n\r\n            this.setting = $.extend(this.setting, options);\r\n\r\n            if (typeof options.axis === 'string' && (options.axis.toLowerCase() === 'x' || options.axis.toLowerCase() === 'y')) {\r\n                this.setting.axis = options.axis.toLowerCase();\r\n            }\r\n\r\n            if (typeof options.reverse === \"boolean\") {\r\n                this.setting.reverse = options.reverse;\r\n            }\r\n\r\n            if (typeof options.trigger === 'string') {\r\n                this.setting.trigger = options.trigger.toLowerCase();\r\n            }\r\n\r\n            var speed = parseInt(options.speed);\r\n            if (!isNaN(speed)) {\r\n                this.setting.speed = speed;\r\n            }\r\n\r\n            if (typeof options.forceHeight === \"boolean\") {\r\n                this.setting.forceHeight = options.forceHeight;\r\n            }\r\n\r\n            if (typeof options.forceWidth === \"boolean\") {\r\n                this.setting.forceWidth = options.forceWidth;\r\n            }\r\n\r\n            if (typeof options.autoSize === \"boolean\") {\r\n                this.setting.autoSize = options.autoSize;\r\n            }\r\n\r\n            if (typeof options.front === 'string' || options.front instanceof $) {\r\n                this.setting.front = options.front;\r\n            }\r\n\r\n            if (typeof options.back === 'string' || options.back instanceof $) {\r\n                this.setting.back = options.back;\r\n            }\r\n\r\n            // Other attributes\r\n            this.element = $el;\r\n            this.frontElement = this.getFrontElement();\r\n            this.backElement = this.getBackElement();\r\n            this.isFlipped = false;\r\n\r\n            this.init(callback);\r\n        };\r\n\r\n        /*\r\n         * Public methods\r\n         */\r\n        $.extend(Flip.prototype, {\r\n\r\n            flipDone: function(callback) {\r\n                var self = this;\r\n                // Providing a nicely wrapped up callback because transform is essentially async\r\n                self.element.one(whichTransitionEvent(), function() {\r\n                    self.element.trigger('flip:done');\r\n                    if (typeof callback === 'function') {\r\n                        callback.call(self.element);\r\n                    }\r\n                });\r\n            },\r\n\r\n            flip: function(callback) {\r\n                if (this.isFlipped) {\r\n                    return;\r\n                }\r\n\r\n                this.isFlipped = true;\r\n\r\n                var rotateAxis = \"rotate\" + this.setting.axis;\r\n                this.frontElement.css({\r\n                    transform: rotateAxis + (this.setting.reverse ? \"(-180deg)\" : \"(180deg)\"),\r\n                    \"z-index\": \"0\"\r\n                });\r\n\r\n                this.backElement.css({\r\n                    transform: rotateAxis + \"(0deg)\",\r\n                    \"z-index\": \"1\"\r\n                });\r\n                this.flipDone(callback);\r\n            },\r\n\r\n            unflip: function(callback) {\r\n                if (!this.isFlipped) {\r\n                    return;\r\n                }\r\n\r\n                this.isFlipped = false;\r\n\r\n                var rotateAxis = \"rotate\" + this.setting.axis;\r\n                this.frontElement.css({\r\n                    transform: rotateAxis + \"(0deg)\",\r\n                    \"z-index\": \"1\"\r\n                });\r\n\r\n                this.backElement.css({\r\n                    transform: rotateAxis + (this.setting.reverse ? \"(180deg)\" : \"(-180deg)\"),\r\n                    \"z-index\": \"0\"\r\n                });\r\n                this.flipDone(callback);\r\n            },\r\n\r\n            getFrontElement: function() {\r\n                if (this.setting.front instanceof $) {\r\n                    return this.setting.front;\r\n                } else {\r\n                    return this.element.find(this.setting.front);\r\n                }\r\n            },\r\n\r\n            getBackElement: function() {\r\n                if (this.setting.back instanceof $) {\r\n                    return this.setting.back;\r\n                } else {\r\n                    return this.element.find(this.setting.back);\r\n                }\r\n            },\r\n\r\n            init: function(callback) {\r\n                var self = this;\r\n\r\n                var faces = self.frontElement.add(self.backElement);\r\n                var rotateAxis = \"rotate\" + self.setting.axis;\r\n                var perspective = self.element[\"outer\" + (rotateAxis === \"rotatex\" ? \"Height\" : \"Width\")]() * 2;\r\n                var elementCss = {\r\n                    'perspective': perspective,\r\n                    'position': 'relative'\r\n                };\r\n                var backElementCss = {\r\n                    \"transform\": rotateAxis + \"(\" + (self.setting.reverse ? \"180deg\" : \"-180deg\") + \")\",\r\n                    \"z-index\": \"0\",\r\n                    \"position\": \"relative\"\r\n                };\r\n                var faceElementCss = {\r\n                    \"backface-visibility\": \"hidden\",\r\n                    \"transform-style\": \"preserve-3d\",\r\n                    \"position\": \"absolute\",\r\n                    \"z-index\": \"1\"\r\n                };\r\n\r\n                if (self.setting.forceHeight) {\r\n                    faces.outerHeight(self.element.height());\r\n                } else if (self.setting.autoSize) {\r\n                    faceElementCss.height = '100%';\r\n                }\r\n\r\n                if (self.setting.forceWidth) {\r\n                    faces.outerWidth(self.element.width());\r\n                } else if (self.setting.autoSize) {\r\n                    faceElementCss.width = '100%';\r\n                }\r\n\r\n                // Back face always visible on Chrome #39\r\n                if ((window.chrome || (window.Intl && Intl.v8BreakIterator)) && 'CSS' in window) {\r\n                    //Blink Engine, add preserve-3d to self.element\r\n                    elementCss[\"-webkit-transform-style\"] = \"preserve-3d\";\r\n                }\r\n\r\n\r\n                faces.css(faceElementCss).find('*').css({\r\n                    \"backface-visibility\": \"hidden\"\r\n                });\r\n\r\n                self.element.css(elementCss);\r\n                self.backElement.css(backElementCss);\r\n\r\n                // #39\r\n                // not forcing width/height may cause an initial flip to show up on\r\n                // page load when we apply the style to reverse the backface...\r\n                // To prevent self we first apply the basic styles and then give the\r\n                // browser a moment to apply them. Only afterwards do we add the transition.\r\n                setTimeout(function() {\r\n                    // By now the browser should have applied the styles, so the transition\r\n                    // will only affect subsequent flips.\r\n                    var speedInSec = self.setting.speed / 1000 || 0.5;\r\n                    faces.css({\r\n                        \"transition\": \"all \" + speedInSec + \"s ease-out\"\r\n                    });\r\n\r\n                    // This allows flip to be called for setup with only a callback (default settings)\r\n                    if (typeof callback === 'function') {\r\n                        callback.call(self.element);\r\n                    }\r\n\r\n                    // While this used to work with a setTimeout of zero, at some point that became\r\n                    // unstable and the initial flip returned. The reason for this is unknown but we\r\n                    // will temporarily use a short delay of 20 to mitigate this issue.\r\n                }, 20);\r\n\r\n                self.attachEvents();\r\n            },\r\n\r\n            clickHandler: function(event) {\r\n                if (!event) { event = window.event; }\r\n                if (this.element.find($(event.target).closest('button, a, input[type=\"submit\"]')).length) {\r\n                    return;\r\n                }\r\n\r\n                if (this.isFlipped) {\r\n                    this.unflip();\r\n                } else {\r\n                    this.flip();\r\n                }\r\n            },\r\n\r\n            hoverHandler: function() {\r\n                var self = this;\r\n                self.element.off('mouseleave.flip');\r\n\r\n                self.flip();\r\n\r\n                setTimeout(function() {\r\n                    self.element.on('mouseleave.flip', $.proxy(self.unflip, self));\r\n                    if (!self.element.is(\":hover\")) {\r\n                        self.unflip();\r\n                    }\r\n                }, (self.setting.speed + 150));\r\n            },\r\n\r\n            attachEvents: function() {\r\n                var self = this;\r\n                if (self.setting.trigger === \"click\") {\r\n                    self.element.on($.fn.tap ? \"tap.flip\" : \"click.flip\", $.proxy(self.clickHandler, self));\r\n                } else if (self.setting.trigger === \"hover\") {\r\n                    self.element.on('mouseenter.flip', $.proxy(self.hoverHandler, self));\r\n                    self.element.on('mouseleave.flip', $.proxy(self.unflip, self));\r\n                }\r\n            },\r\n\r\n            flipChanged: function(callback) {\r\n                this.element.trigger('flip:change');\r\n                if (typeof callback === 'function') {\r\n                    callback.call(this.element);\r\n                }\r\n            },\r\n\r\n            changeSettings: function(options, callback) {\r\n                var self = this;\r\n                var changeNeeded = false;\r\n\r\n                if (options.axis !== undefined && self.setting.axis !== options.axis.toLowerCase()) {\r\n                    self.setting.axis = options.axis.toLowerCase();\r\n                    changeNeeded = true;\r\n                }\r\n\r\n                if (options.reverse !== undefined && self.setting.reverse !== options.reverse) {\r\n                    self.setting.reverse = options.reverse;\r\n                    changeNeeded = true;\r\n                }\r\n\r\n                if (changeNeeded) {\r\n                    var faces = self.frontElement.add(self.backElement);\r\n                    var savedTrans = faces.css([\"transition-property\", \"transition-timing-function\", \"transition-duration\", \"transition-delay\"]);\r\n\r\n                    faces.css({\r\n                        transition: \"none\"\r\n                    });\r\n\r\n                    // This sets up the first flip in the new direction automatically\r\n                    var rotateAxis = \"rotate\" + self.setting.axis;\r\n\r\n                    if (self.isFlipped) {\r\n                        self.frontElement.css({\r\n                            transform: rotateAxis + (self.setting.reverse ? \"(-180deg)\" : \"(180deg)\"),\r\n                            \"z-index\": \"0\"\r\n                        });\r\n                    } else {\r\n                        self.backElement.css({\r\n                            transform: rotateAxis + (self.setting.reverse ? \"(180deg)\" : \"(-180deg)\"),\r\n                            \"z-index\": \"0\"\r\n                        });\r\n                    }\r\n                    // Providing a nicely wrapped up callback because transform is essentially async\r\n                    setTimeout(function() {\r\n                        faces.css(savedTrans);\r\n                        self.flipChanged(callback);\r\n                    }, 0);\r\n                } else {\r\n                    // If we didnt have to set the axis we can just call back.\r\n                    self.flipChanged(callback);\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        /*\r\n         * jQuery collection methods\r\n         */\r\n        $.fn.flip = function (options, callback) {\r\n            if (typeof options === 'function') {\r\n                callback = options;\r\n            }\r\n\r\n            if (typeof options === \"string\" || typeof options === \"boolean\") {\r\n                this.each(function() {\r\n                    var flip = $(this).data('flip-model');\r\n\r\n                    if (options === \"toggle\") {\r\n                        options = !flip.isFlipped;\r\n                    }\r\n\r\n                    if (options) {\r\n                        flip.flip(callback);\r\n                    } else {\r\n                        flip.unflip(callback);\r\n                    }\r\n                });\r\n            } else {\r\n                this.each(function() {\r\n                    if ($(this).data('flip-model')) { // The element has been initiated, all we have to do is change applicable settings\r\n                        var flip = $(this).data('flip-model');\r\n\r\n                        if (options && (options.axis !== undefined || options.reverse !== undefined)) {\r\n                            flip.changeSettings(options, callback);\r\n                        }\r\n                    } else { // Init\r\n                        $(this).data('flip-model', new Flip($(this), (options || {}), callback));\r\n                    }\r\n                });\r\n            }\r\n\r\n            return this;\r\n        };\r\n});\r\n"],"file":"flip.min.js"}