{"version":3,"sources":["../src/polly.js"],"names":["define","voiceurl","M","cfg","wwwroot","init","theplayer","ttslanguage","voices","init_voices","play_text","text","voice","Math","floor","random","length","datastring","theurl","encodeURIComponent","attr","play","play_ssml","ssml","play_audio","audiourl"],"mappings":"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","sourcesContent":["/**\n * Polly Module.\n *\n * @package mod_wordcards\n * @author  Justin Hunt - Poodll.com\n */\n\ndefine(['jquery','core/log'], function($,log){\n    var voiceurl = M.cfg.wwwroot + '/filter/poodll/poodllfilelib.php?datatype=speaktext&paramone=';\n    var voices ={};\n    return {\n        init: function(theplayer, ttslanguage){\n            this.theplayer = theplayer;\n            this.ttslanguage=ttslanguage;\n            this.voices = this.init_voices(ttslanguage);\n        },\n        play_text: function(text,voice){\n            if(!voice){voice = 'Kendra';}\n            if(voice=='Auto'){\n                //fetching a random voice from the list of voices per TTS language\n                voice = this.voices[Math.floor(Math.random()*this.voices.length)];\n            }\n            var pollyformat = 'text';\n            var datastring= pollyformat + '|' + voice + '|' + text;\n            var theurl = voiceurl+encodeURIComponent(datastring);\n            this.theplayer.attr('src',theurl);\n            this.theplayer[0].play();\n        },\n        play_ssml: function(ssml,voice){\n            if(!voice){voice = 'Kendra';}\n            if(voice=='Auto'){\n                //fetching a random voice from the list of voices per TTS language\n                voice = this.voices[Math.floor(Math.random()*this.voices.length)];\n            }\n            var pollyformat = 'ssml';\n            var datastring= pollyformat + '|' + voice + '|' + ssml;\n            var theurl = voiceurl+encodeURIComponent(datastring);\n            this.theplayer.attr('src',theurl);\n            this.theplayer[0].play();\n        },\n        play_audio: function(audiourl){\n            this.theplayer.attr('src',audiourl);\n            this.theplayer[0].play();\n        },\n        init_voices: function(ttslanguage){\n            switch(ttslanguage) {\n                case 'en-GB' : return  ['Brian', 'Amy', 'Emma'];\n                case 'en-AU' : return ['Russell', 'Nicole'];\n                case 'en-IN' : return ['Aditi', 'Raveena'];\n                case 'es-US' : return ['Miguel', 'Penelope'];\n                case 'es-ES' : return ['Enrique', 'Conchita', 'Lucia'];\n                case 'fr-CA' : return ['Chantal'];\n                case 'fr-FR' : return ['Mathieu', 'Celine', 'LÃ©a'];\n                case 'de-DE' : return ['Hans', 'Marlene', 'Vicki'];\n                case 'it-IT' : return ['Carla', 'Bianca', 'Giorgio'];\n                case 'pt-BR' : return ['Ricardo', 'Vitoria'];\n                case 'en-US' :\n                default:\n                    return ['Joey', 'Justin', 'Matthew', 'Ivy', 'Joanna', 'Kendra', 'Kimberly', 'Salli'];\n            }\n        }\n  }//return object\n});"],"file":"polly.min.js"}