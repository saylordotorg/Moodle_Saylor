define ("mod_wordcards/a4e",["jquery","core/log","core/ajax","mod_wordcards/flip","mod_wordcards/textfit","core/templates","mod_wordcards/pollyhelper"],function(a,b,c,d,e,f,g){var h={face:!0,register_events:function register_events(){console.log("register_events within a4e.js")},init_audio:function init_audio(b,c,d){g.init(b,c,d);g.onnewpollyurl=function(b){var c=a("#poodll_vocabplayer");c.attr("src",b);c[0].play()};a(document.body).on("click",".a4e-flashcards-container .play-tts, span.model-sentence-play-tts,.definitions-container .definition-play-tts ",function(){var b=a("#poodll_vocabplayer"),c=a(this).attr("data-modelaudio");if(c&&(0===c.indexOf("http:")||0===c.indexOf("https:"))){b.attr("src",c);b[0].play()}else{g.fetch_polly_url(a(this).attr("data-tts"),"text",a(this).attr("data-ttsvoice"))}})},progress_dots:function progress_dots(b,c){var d="";c.forEach(function(a,c){var e="darkgray";if(b[c]!==void 0){if(b[c].points){e="green"}else{e="red"}}d+="<i style=\"color:"+e+";\" class=\"fa fa-circle\"></i>"});a("#wordcards-progress-dots").html(d)},shuffle:function shuffle(b){var a,c,d;for(d=b.length;d;d-=1){a=Math.floor(Math.random()*d);c=b[d-1];b[d-1]=b[a];b[a]=c}},pretty_print_secs:function pretty_print_secs(a){var b=Math.floor(a/60);return h.str_pad_left(b,"0",2)+":"+h.str_pad_left(a-60*b,"0",2)},list_vocab:function list_vocab(b,c){var d=[];d.terms=c;f.render("mod_wordcards/vocablist",d).then(function(c){a(b).html(c);var d=a(".a4e-flashcards-container .a4e-card"),f=a(".front,.back");setTimeout(function(){d.flip({axis:"x"});e(f,{multiLine:!0,maxFontSize:50,alignHoriz:!0,alignVert:!0})},100);a(".a4e-flashcards-container .mod_wordcards_matching_frontbtn").on("click",function(){a(".a4e-flashcards-container .a4e-card").flip(h.face);h.face=!h.face})})},calc_total_points:function calc_total_points(b){var c=0;a.each(b,function(a,b){if(b.points!=void 0){c+=b.points}});return c},basic_feedback:function basic_feedback(b){var c=0,d=0;a.each(b,function(a,b){if(null!=b.time){d+=b.time}if(b.points!=void 0){c+=b.points}});var e="<div class='a4e-basic_feedback'><h2>";e+="<i class='fa fa-trophy'></i> "+c+" points";if(0!=d){e+="<hr/><i class='fa fa-clock-o'></i> "+h.pretty_print_secs(d)}e+="</h2></div>";return e},detailed_feedback:function detailed_feedback(b){var c="<div style='text-align:center;'>",d;a.each(b,function(b,e){d="";if(0<e.points){d="a4e-correct"}else{d="a4e-incorrect"}c+="<div class='a4e-detailed_feedback_div "+d+"'>";c+="<h3 style='margin-bottom:10px;margin-top:5px;'>"+(b+1)+"</h3>";a.each(e,function(a,b){if("time"==a){c+="<p><strong>"+h.ucfirst(a)+"</strong>:<br/>"+h.pretty_print_secs(b)+"</p>"}else{c+="<p><strong>"+h.ucfirst(a)+"</strong>:<br/>"+(""==b?"N/A":b)+"</p>"}});c+="</div>"});c+="</div>";return c},str_pad_left:function str_pad_left(a,b,c){return(Array(c+1).join(b)+a).slice(-c)},ucfirst:function ucfirst(a){a+="";var b=a.charAt(0).toUpperCase();return b+a.substr(1)}};return h});
//# sourceMappingURL=a4e.min.js.map
