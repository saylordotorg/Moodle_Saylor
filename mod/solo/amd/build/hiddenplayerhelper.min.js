define(["jquery","core/log","mod_solo/definitions"],(function($,log,def){return log.debug("Poodll Solo hidden player helper: initialising"),{controls:{},hiddenplayer:def.hiddenplayer,hiddenplayerbutton:def.hiddenplayerbutton,hiddenplayerbuttonactive:def.hiddenplayerbuttonactive,hiddenplayerbuttonpaused:def.hiddenplayerbuttonpaused,hiddenplayerbuttonplaying:def.hiddenplayerbuttonpaused,init:function(opts){this.register_controls(),this.register_events()},register_controls:function(){this.controls.hiddenplayer=$("."+this.hiddenplayer),this.controls.hiddenplayerbutton=$("."+this.hiddenplayerbutton),this.controls.playercontrols=$("."+this.hiddenplayerbutton+" i")},register_events:function(){var that=this,audioplayer=this.controls.hiddenplayer;this.controls.hiddenplayerbutton.click((function(e){var audiosrc=$(this).attr("data-audiosource");audiosrc!==audioplayer.attr("src")||audioplayer.prop("paused")?(that.controls.playercontrols.removeClass("fa-stop-circle"),that.controls.playercontrols.addClass("fa-play-circle"),$(this).find("i").addClass("fa-stop-circle"),that.dohiddenplay(audiosrc)):(that.dohiddenstop(),that.controls.playercontrols.removeClass("fa-stop-circle"),that.controls.playercontrols.addClass("fa-play-circle"))}))},dohiddenplay:function(audiosrc){var audioplayer=this.controls.hiddenplayer;audioplayer.attr("src",audiosrc),audioplayer[0].pause(),audioplayer[0].load();var pp=audioplayer[0].play();void 0!==pp&&pp.then((function(){})).catch((function(error){})),this.dobuttonicons()},dohiddenstop:function(){this.controls.hiddenplayer[0].pause(),this.dobuttonicons()},dobuttonicons:function(theaudiosrc){var m=this,audioplayer=m.controls.hiddenplayer;theaudiosrc||(theaudiosrc=audioplayer.attr("src")),m.controls.hiddenplayerbutton.each((function(index){$(this).attr("data-audiosource")===theaudiosrc?($(this).addClass(m.activebutton),audioplayer.prop("paused")?($(this).removeClass(m.hiddenplayerbuttonplaying),$(this).addClass(m.hiddenplayerbuttonpaused),$(this).removeClass(m.hiddenplayerbuttonactive)):($(this).removeClass(m.hiddenplayerbuttonpaused),$(this).addClass(m.hiddenplayerbuttonplaying))):($(this).removeClass(m.hiddenplayerbuttonactive),$(this).removeClass(m.hiddenplayerbuttonplaying),$(this).removeClass(m.hiddenplayerbuttonpaused))}))}}}));

//# sourceMappingURL=hiddenplayerhelper.min.js.map