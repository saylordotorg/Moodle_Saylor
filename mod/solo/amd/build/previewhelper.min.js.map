{"version":3,"sources":["../src/previewhelper.js"],"names":["define","$","constants","controls","mediatype","mediatype_audio","init","initControls","videoplayer","audioplayer","root","mediaplayer","show","fetchCurrentTime","Math","floor","currentTime","setMediaURL","mediaurl","trim","off","addClass","mediatype_video","removeClass","attr","load"],"mappings":"AAAAA,OAAM,0BAAC,CAAC,QAAD,CAAU,gCAAV,CAAD,CAA8C,SAASC,CAAT,CAAYC,CAAZ,CAAuB,CAIzE,MAAO,CAEHC,QAAQ,CAAE,EAFP,CAGHC,SAAS,CAAEF,CAAS,CAACG,eAHlB,CAKHC,IAAI,CAAE,eAAU,CACV,KAAKC,YAAL,EACL,CAPE,CASHA,YAAY,CAAE,uBAAU,CACpB,KAAKJ,QAAL,CAAcK,WAAd,CAA4BP,CAAC,CAACC,CAAS,CAACM,WAAX,CAA7B,CACA,KAAKL,QAAL,CAAcM,WAAd,CAA4BR,CAAC,CAACC,CAAS,CAACO,WAAX,CAA7B,CACA,KAAKN,QAAL,CAAcO,IAAd,CAAqBT,CAAC,CAACC,CAAS,CAACQ,IAAX,CAAtB,CACA,GAAG,KAAKN,SAAL,GAAiBF,CAAS,CAACG,eAA9B,CAA8C,CAC1C,KAAKF,QAAL,CAAcQ,WAAd,CAA4B,KAAKR,QAAL,CAAcM,WAC7C,CAFD,IAEM,CACF,KAAKN,QAAL,CAAcQ,WAAd,CAA4B,KAAKR,QAAL,CAAcK,WAC7C,CACD,KAAKL,QAAL,CAAcQ,WAAd,CAA0BC,IAA1B,EACH,CAnBE,CAuBHC,gBAAgB,CAAE,2BAAU,CACzB,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAW,IAAO,KAAKZ,QAAL,CAAcQ,WAAd,CAA0B,CAA1B,EAA6BK,WAA/C,CACT,CAzBE,CA2BHC,WAAW,CAAE,qBAASC,CAAT,CAAkB,CAC7B,GAAG,CAACA,CAAD,CAA6B,EAAjB,EAAAA,CAAQ,CAACC,IAAT,EAAf,CAAmC,CAAC,MAAQ,CAC5C,OAAO,KAAKf,SAAZ,EACI,IAAKF,CAAAA,CAAS,CAACG,eAAf,CACI,KAAKD,SAAL,CAAeF,CAAS,CAACG,eAAzB,CACA,KAAKF,QAAL,CAAcQ,WAAd,CAA0BS,GAA1B,CAA8B,YAA9B,EACA,KAAKjB,QAAL,CAAcQ,WAAd,CAA4B,KAAKR,QAAL,CAAcM,WAA1C,CACA,KAAKN,QAAL,CAAcO,IAAd,CAAmBW,QAAnB,CAA4B,cAA5B,EACA,MAEJ,QACI,KAAKjB,SAAL,CAAeF,CAAS,CAACoB,eAAzB,CACA,KAAKnB,QAAL,CAAcQ,WAAd,CAA0BS,GAA1B,CAA8B,YAA9B,EACA,KAAKjB,QAAL,CAAcQ,WAAd,CAA4B,KAAKR,QAAL,CAAcK,WAA1C,CACA,KAAKL,QAAL,CAAcO,IAAd,CAAmBa,WAAnB,CAA+B,cAA/B,EAZR,CAcA,KAAKpB,QAAL,CAAcQ,WAAd,CAA0Ba,IAA1B,CAA+B,KAA/B,CAAqCN,CAArC,EACA,KAAKf,QAAL,CAAcQ,WAAd,CAA0B,CAA1B,EAA6Bc,IAA7B,EACD,CA7CE,CA+CR,CAnDK,CAAN","sourcesContent":["define([\"jquery\",\"mod_solo/conversationconstants\"], function($, constants) {\n\n    //Preview helper manipulates the audio/video and passing on media events and info to other parts of app\n\n  return {\n\n      controls: {},\n      mediatype: constants.mediatype_audio,\n\n      init: function(){\n            this.initControls();\n      },\n\n      initControls: function(){\n          this.controls.videoplayer = $(constants.videoplayer);\n          this.controls.audioplayer = $(constants.audioplayer);\n          this.controls.root = $(constants.root);\n          if(this.mediatype===constants.mediatype_audio){\n              this.controls.mediaplayer = this.controls.audioplayer\n          }else {\n              this.controls.mediaplayer = this.controls.videoplayer\n          }\n          this.controls.mediaplayer.show();\n      },\n\n\n\n      fetchCurrentTime: function(){\n         return Math.floor(1000 * this.controls.mediaplayer[0].currentTime);//milliseconds\n      },\n\n      setMediaURL: function(mediaurl){\n        if(!mediaurl | mediaurl.trim()==''){return;}\n        switch(this.mediatype){\n            case constants.mediatype_audio:\n                this.mediatype=constants.mediatype_audio;\n                this.controls.mediaplayer.off('timeupdate');\n                this.controls.mediaplayer = this.controls.audioplayer;\n                this.controls.root.addClass('player-audio');\n                break;\n\n            default:\n                this.mediatype=constants.mediatype_video;\n                this.controls.mediaplayer.off('timeupdate');\n                this.controls.mediaplayer = this.controls.videoplayer;\n                this.controls.root.removeClass('player-audio');\n        }\n        this.controls.mediaplayer.attr(\"src\",mediaurl);\n        this.controls.mediaplayer[0].load();\n      }\n    }\n});\n"],"file":"previewhelper.min.js"}