function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}define("mod_solo/vtthelper",["jquery"],(function($){return{convertVttToJson:function(vttString){var current={},sections=[],tidyexp=/<\/?[^>]+(>|$)/g,start=!1,that=this;return vttString.split("\n").forEach((function(line,index){var nicerline=line.replace(tidyexp,"");" "===nicerline||""==nicerline||(-1!==line.indexOf("--\x3e")?(start=!0,current.start&&sections.push(that.clone(current)),current={start:that.timeString2ms(line.split("--\x3e")[0].trimRight().split(" ").pop()),end:that.timeString2ms(line.split("--\x3e")[1].trimLeft().split(" ").shift()),part:""}):start&&(0!==sections.length?sections[sections.length-1].part.replace(tidyexp,"")===line.replace(nicerline,"")||(0===current.part.length?current.part=line:current.part=current.part+" "+line):(current.part=line,sections.push(that.clone(current)),current.start=!1,current.end=!1,current.part="")))})),current.start&&sections.push(that.clone(current)),sections.forEach((function(section){section.part=section.part.replace(tidyexp,"")})),sections},convertJsonToVtt:function(thejson){var ret="WEBVTT";ret+="\n\n";var that=this;return $.each(thejson,(function(index,item){var start=that.ms2TimeString(item.start),end=that.ms2TimeString(item.end);ret+=start+" --\x3e "+end+"\n",ret+=item.part+"\n",ret+="\n"})),ret},validateTimeString:function(rawstring){if(!rawstring)return!1;var bits=(rawstring=rawstring.trim()).split(":");if(3!==bits.length)return!1;for(var reg=new RegExp("^[0-9]+$"),bit=0;bit<=3;bit++){var strbit=bits[bit];switch(bit){case 0:if(!reg.test(strbit))return!1;var hours=parseInt(strbit);if(hours<0||hours>23)return!1;break;case 1:if(!reg.test(strbit))return!1;var mins=parseInt(strbit);if(mins<0||mins>59)return!1;break;case 2:var secondbits=strbit.split(".");if(2!=secondbits.length)return!1;var secs=secondbits[0],millisecs=secondbits[1];if(!reg.test(secs))return!1;if((secs=parseInt(secs))<0||secs>59)return!1;if(!reg.test(millisecs))return!1;if((millisecs=parseInt(millisecs))<0||millisecs>999)return!1}}return!0},timeString2ms:function(a,b){return(1*(a=a.split("."))[1]||0)+1e3*((a=a[0].split(":"))[2]?3600*a[0]+60*a[1]+1*a[2]:a[1]?60*a[0]+1*a[1]:1*a[0])},ms2TimeString:function(a,k,s,m,h){return((h=a/36e5%24|0)?(h<10?"0"+h:h)+":":"00:")+((m=a/6e4%60|0)<10?0:"")+m+":"+((s=a/1e3%60|0)<10?0:"")+s+"."+((k=a%1e3)<100?k<10?"00":0:"")+k},clone:function(obj){if(null==obj||"object"!=_typeof(obj))return obj;var copy=obj.constructor();for(var attr in obj)obj.hasOwnProperty(attr)&&(copy[attr]=obj[attr]);return copy}}}));

//# sourceMappingURL=vtthelper.min.js.map