define(["jquery","core/log","mod_solo/definitions","core/notification"],(function($,log,def,notification){return log.debug("solo Toggle Selected: initialising"),{init:function(opts){this.register_events(opts.container,opts.item,opts.updatecontrol,opts.mode,opts.maxchecks),this.init_controls(opts.container,opts.item,opts.updatecontrol,opts.mode)},init_controls:function(container,item,control,mode){var selectedvalue=$('[name="'+control+'"]').val();if(selectedvalue)for(var selections=selectedvalue.split(","),i=0;i<selections.length;i++)$("."+container+" ."+item).filter("[data-id="+selections[i]+"]").addClass("active")},register_events:function(container,item,control,mode,maxchecks){$("."+container).on("click","."+item,(function(e){var updatecontrol=$('[name="'+control+'"]'),newdataid=$(this).data("id");if("checkbox"===mode){var currentvalues=updatecontrol.val().split(",");if(currentvalues.includes(newdataid.toString()))currentvalues.splice(currentvalues.indexOf(newdataid.toString()),1);else{if(!(currentvalues.length<maxchecks))return void e.preventDefault();currentvalues.push(newdataid)}currentvalues=currentvalues.filter((function(e){return e})),updatecontrol.val(currentvalues.join(","))}else updatecontrol.val(newdataid);updatecontrol.trigger("change")}))}}}));

//# sourceMappingURL=toggleselected.min.js.map