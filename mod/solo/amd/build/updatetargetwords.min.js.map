{"version":3,"file":"updatetargetwords.min.js","sources":["../src/updatetargetwords.js"],"sourcesContent":["define(['jquery','core/log','mod_solo/definitions', 'core/notification', 'core/templates'], function($,log, def, notification,templates) {\n    \"use strict\"; // jshint ;_;\n\n/*\nThis file contains class and ID definitions.\n */\n\n    log.debug('solo Update Target Words: initialising');\n\n    return{\n\n        init: function(opts) {\n            //pick up opts from html\n            var theid = '#amdopts_' + opts.controlid;\n            var configcontrol = $(theid).get(0);\n            if (configcontrol) {\n                opts = JSON.parse(configcontrol.value);\n                $(theid).remove();\n            } else {\n                //if there is no config we might as well give up\n                log.debug('Read Seed Test Controller: No config found on page. Giving up.');\n                return;\n            }\n\n            this.register_events(opts['topics'],opts['triggercontrol'], opts['updatecontrol']);\n        },\n\n        register_events: function(topics,trigger,update){\n            $('[name=\"' + trigger + '\"]').on('change',function(){\n                var newvalue = $(this).val();\n                var selectedtopic=false;\n                $.each(topics,function(){\n                    if(this.id==newvalue){\n                        selectedtopic=this;\n                    }\n                });\n                if(selectedtopic) {\n                    $('[name=\"' + update + '\"]').val(selectedtopic.targetwords);\n                    if(selectedtopic.targetwords.trim()===''){return;}\n                    var tdata=[];\n                    tdata['targetwords'] =selectedtopic.targetwords.split('\\n');\n                    templates.render('mod_solo/targetwords',tdata).then(\n                        function(html,js){\n                            var d= $('#' + def.C_TARGETWORDSDISPLAY);\n                            d.html(html);\n                        }\n                    );\n                }\n            });\n        }\n\n};//end of return value\n\n});\n\n"],"names":["define","$","log","def","notification","templates","debug","init","opts","theid","controlid","configcontrol","get","JSON","parse","value","remove","register_events","topics","trigger","update","on","newvalue","this","val","selectedtopic","each","id","targetwords","trim","tdata","split","render","then","html","js","C_TARGETWORDSDISPLAY"],"mappings":"AAAAA,oCAAO,CAAC,SAAS,WAAW,uBAAwB,oBAAqB,mBAAmB,SAASC,EAAEC,IAAKC,IAAKC,aAAaC,kBAO1HH,IAAII,MAAM,0CAEJ,CAEFC,KAAM,SAASC,UAEPC,MAAQ,YAAcD,KAAKE,UAC3BC,cAAgBV,EAAEQ,OAAOG,IAAI,GAC7BD,eACAH,KAAOK,KAAKC,MAAMH,cAAcI,OAChCd,EAAEQ,OAAOO,cAORC,gBAAgBT,KAAI,OAAWA,KAAI,eAAoBA,KAAI,gBAJ5DN,IAAII,MAAM,mEAOlBW,gBAAiB,SAASC,OAAOC,QAAQC,QACrCnB,EAAE,UAAYkB,QAAU,MAAME,GAAG,UAAS,eAClCC,SAAWrB,EAAEsB,MAAMC,MACnBC,eAAc,KAClBxB,EAAEyB,KAAKR,QAAO,WACPK,KAAKI,IAAIL,WACRG,cAAcF,SAGnBE,cAAe,IACdxB,EAAE,UAAYmB,OAAS,MAAMI,IAAIC,cAAcG,aACT,KAAnCH,cAAcG,YAAYC,kBACzBC,MAAM,GACVA,MAAK,YAAiBL,cAAcG,YAAYG,MAAM,MACtD1B,UAAU2B,OAAO,uBAAuBF,OAAOG,MAC3C,SAASC,KAAKC,IACHlC,EAAE,IAAME,IAAIiC,sBACjBF,KAAKA"}