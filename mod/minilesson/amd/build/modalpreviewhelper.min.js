define(["jquery","core/log","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/yui"],function(a,b,c,d,e,f){var g=function(a,b,c){this.contextid=b;this.callback=c;this.preinit(a)};g.prototype.modal=null;g.prototype.contextid=-1;g.prototype.itemid=-1;g.prototype.preinit=function(b){var c=a(b),f=this;a("body").on("click",b,function(b){b.preventDefault();f.itemid=a(this).data("id");d.create({type:d.types.CANCEL,body:f.getBody({})}).then(function(a){f.modal=a;f.modal.setLarge();f.modal.getRoot().on(e.hidden,function(){f.callback()}.bind(f));f.modal.getRoot().on(e.shown,function(){f.modal.getRoot().append("<style>.minilesson_nextbutton { display: none ! important; }</style>");f.modal.getRoot().append("<style>.minilesson_quiz_progress { display: none ! important; }</style>")});f.modal.show();return f.modal})})};g.prototype.getBody=function(){var a={itemid:this.itemid};return f.loadFragment("mod_minilesson","preview",this.contextid,a)};return{init:function init(a,b,c){return new g(a,b,c)}}});
//# sourceMappingURL=modalpreviewhelper.min.js.map
