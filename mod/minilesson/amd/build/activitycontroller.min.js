define("mod_minilesson/activitycontroller",["jquery","core/log","mod_minilesson/definitions","mod_minilesson/quizhelper","mod_minilesson/pollyhelper"],(function($,log,def,quizhelper,polly){return log.debug("Activity controller: initialising"),{cmid:null,activitydata:null,sorryboxid:null,controls:null,init:function(props){var dd=this,theid="#amdopts_"+props.widgetid,configcontrol=$(theid).get(0);configcontrol?(dd.activitydata=JSON.parse(configcontrol.value),$(theid).remove(),dd.cmid=props.cmid,dd.attemptid=1,dd.sorryboxid=props.widgetid+"_sorrybox",polly.init(dd.activitydata.token,dd.activitydata.region,dd.activitydata.owner),dd.register_events(),dd.process_html(),dd.doquizlayout()):log.debug("MiniLesson activity Controller: No config found on page. Giving up.")},process_html:function(){var opts=this.activitydata,controls={introbox:$(".mod_intro_box"),quizcontainer:$("."+opts.quizcontainer),feedbackcontainer:$("."+opts.feedbackcontainer),errorcontainer:$("."+opts.errorcontainer),instructionscontainer:$("."+opts.instructionscontainer),wheretonextcontainer:$("."+opts.wheretonextcontainer),placeholder:$(".mod_minilesson_placeholder")};this.controls=controls},register_events:function(){},doquizlayout:function(){this.controls.instructionscontainer.hide(),quizhelper.init(this.controls.quizcontainer,this.activitydata,this.cmid,this.attemptid,polly),this.controls.placeholder.hide(),this.controls.quizcontainer.show()},doerrorlayout:function(){this.controls.errorcontainer.show(),this.controls.wheretonextcontainer.show()}}}));

//# sourceMappingURL=activitycontroller.min.js.map