define ("mod_minilesson/activitycontroller",["jquery","jqueryui","core/log","mod_minilesson/definitions","mod_minilesson/quizhelper","mod_minilesson/pollyhelper"],function(a,b,c,d,e,f){"use strict";c.debug("Activity controller: initialising");return{cmid:null,activitydata:null,sorryboxid:null,controls:null,init:function init(b){var d=this,e="#amdopts_"+b.widgetid,g=a(e).get(0);if(g){d.activitydata=JSON.parse(g.value);a(e).remove()}else{c.debug("MiniLesson activity Controller: No config found on page. Giving up.");return}d.cmid=b.cmid;d.attemptid=1;d.sorryboxid=b.widgetid+"_sorrybox";f.init(d.activitydata.token,d.activitydata.region,d.activitydata.owner);d.register_events();d.process_html();d.doquizlayout()},process_html:function process_html(){var b=this.activitydata,c={introbox:a(".mod_intro_box"),quizcontainer:a("."+b.quizcontainer),feedbackcontainer:a("."+b.feedbackcontainer),errorcontainer:a("."+b.errorcontainer),instructionscontainer:a("."+b.instructionscontainer),wheretonextcontainer:a("."+b.wheretonextcontainer),placeholder:a(".mod_minilesson_placeholder")};this.controls=c},register_events:function register_events(){},doquizlayout:function doquizlayout(){var a=this;a.controls.instructionscontainer.hide();e.init(a.controls.quizcontainer,this.activitydata,this.cmid,this.attemptid,f);a.controls.placeholder.hide();a.controls.quizcontainer.show()},doerrorlayout:function doerrorlayout(){this.controls.errorcontainer.show();this.controls.wheretonextcontainer.show()}}});
//# sourceMappingURL=activitycontroller.min.js.map
