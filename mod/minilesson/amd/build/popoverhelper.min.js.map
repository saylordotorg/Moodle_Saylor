{"version":3,"sources":["../src/popoverhelper.js"],"names":["define","$","log","def","debug","lastitem","okbuttonclass","ngbuttonclass","msvclosebuttonclass","s_buttonclass","m_buttonclass","v_buttonclass","correctbuttonclass","errorbuttonclass","selfcorrectbuttonclass","msvgradebuttonclass","msvgradebutton","msvcontainerclass","msvbuttonsbox","quickgradecontainer","quickgradecontainerclass","stateerror","statecorrect","stateselfcorrect","quickgradetitle","M","util","get_string","component","transcripttitle","msvtitle","oklabel","nglabel","msvcloselabel","s_label","m_label","v_label","errorlabel","correctlabel","selfcorrectlabel","dispose","init","register_events","that","document","on","onAccept","onReject","onMSVClose","val","attr","disposeWord","version","fn","popover","Constructor","hasOwnProperty","VERSION","charAt","remove","item","addQuickGrader","title","content","thefunc","wordnumber","okbutton","ngbutton","container","trigger","placement","html","addMSVGrader","currentmsv","toggle","checked","state","active","msvbuttons","msv","m","s","v","msvbuttonsdiv","closebutton","fetchMSVResults","ret","addTranscript","transcript","alert"],"mappings":"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","sourcesContent":["define(['jquery','core/log','mod_minilesson/definitions','mod_minilesson/dependencyloader','theme_boost/popover'], function($,log,def) {\n    \"use strict\"; // jshint ;_;\n\n/*\nThis file is to\n */\n\n    log.debug('Popover helper: initialising');\n\n    return{\n\n        lastitem: false,\n        okbuttonclass: def.okbuttonclass,\n        ngbuttonclass: def.ngbuttonclass,\n        msvclosebuttonclass: def.msvclosebuttonclass,\n        s_buttonclass: def.s_buttonclass,\n        m_buttonclass: def.m_buttonclass,\n        v_buttonclass: def.v_buttonclass,\n        correctbuttonclass: def.correctbuttonclass,\n        errorbuttonclass: def.errorbuttonclass,\n        selfcorrectbuttonclass: def.selfcorrectbuttonclass,\n        msvgradebuttonclass: def.msvgradebutton,\n        msvcontainerclass: def.msvcontainerclass,\n        msvbuttonsbox: def.msvbuttonsbox,\n        quickgradecontainer: def.quickgradecontainerclass,\n        stateerror:  def.stateerror,\n        statecorrect:  def.statecorrect,\n        stateselfcorrect:  def.stateselfcorrect,\n        quickgradetitle: M.util.get_string('quickgrade',def.component),\n        transcripttitle: M.util.get_string('transcript',def.component),\n        msvtitle: M.util.get_string('msv',def.component),\n        oklabel: M.util.get_string('ok',def.component),\n        nglabel: M.util.get_string('ng',def.component),\n        msvcloselabel: M.util.get_string('msvcloselabel',def.component),\n        s_label: M.util.get_string('s_label',def.component),\n        m_label: M.util.get_string('m_label',def.component),\n        v_label: M.util.get_string('v_label',def.component),\n        errorlabel: M.util.get_string('error',def.component),\n        correctlabel: M.util.get_string('correct',def.component),\n        selfcorrectlabel: M.util.get_string('selfcorrect',def.component),\n        dispose: false, //Bv4 = dispose  Bv3 = destroy\n\n        init: function(){\n            this.register_events();\n        },\n\n        register_events: function() {\n            var that = this;\n\n            //on close button push\n            $(document).on('click','.' + this.okbuttonclass,this.onAccept);\n            $(document).on('click','.' + this.ngbuttonclass,this.onReject);\n            $(document).on('click','.' + this.msvclosebuttonclass,this.onMSVClose);\n\n            //on msv button push\n            $(document).on('click','.' + this.msvgradebuttonclass,\n                function(){\n                //if we are not in correct mode, then toggle the s or m or v button\n                    if($('input[name=\"msvitem\"]:checked').val()===that.statecorrect){return;}\n                    if($(this).attr('data-checked')=='0'){\n                        $(this).attr('data-checked','1');\n                    }else{\n                        $(this).attr('data-checked','0');\n                    }\n            });\n\n            //on msv dialog correct/error/selfcorrect\n           // $(document).on('click','.' + that.msvcontainerclass + ' .btn-secondary',\n            $(document).on('change','.msvtoggleform',\n                function(){\n                    //turn off s and m and v buttons\n                    if($('input[name=\"msvitem\"]:checked').val() ===that.statecorrect) {\n                        $('.' + that.s_buttonclass).attr('data-checked','0');\n                        $('.' + that.m_buttonclass).attr('data-checked','0');\n                        $('.' + that.v_buttonclass).attr('data-checked','0');\n                    }\n                }\n            );\n        },\n\n        //different bootstrap/popover versions have a different word for \"dispose\" so this method bridges that.\n        //we can not be sure what version is installed\n        disposeWord: function(){\n            if(this.dispose){return this.dispose;}\n            var version ='3';\n            if($.fn.popover.Constructor.hasOwnProperty('VERSION')){\n                version = $.fn.popover.Constructor.VERSION.charAt(0);\n            }\n            switch(version){\n                case '4':\n                    this.dispose='dispose';\n                    break;\n                case '3':\n                default:\n                    this.dispose='destroy';\n                    break;\n            }\n            return this.dispose;\n        },\n\n        remove: function(item){\n          if(item) {\n              $(item).popover(this.disposeWord());\n          }else if(this.lastitem) {\n              $(this.lastitem).popover(this.disposeWord());\n              this.lastitem=false;\n          }\n        },\n\n        addQuickGrader: function(item){\n\n            //dispose of previous popover, and remember this one\n            if(this.lastitem && this.lastitem !== item) {\n                $(this.lastitem).popover(this.disposeWord());\n                this.lastitem=false;\n            }\n            this.lastitem = item;\n            var that = this;\n\n            var thefunc = function(){\n                var wordnumber = $(this).attr(\"data-wordnumber\");\n                var okbutton = \"<button type='button' class='btn \" + that.okbuttonclass + \"' data-wordnumber='\" + wordnumber + \"'><i class='fa fa-check'></i> \" + that.oklabel + \"</button>\";\n                var ngbutton = \"<button type='button' class='btn \" + that.ngbuttonclass + \"' data-wordnumber='\" + wordnumber + \"'><i class='fa fa-close'></i> \" + that.nglabel + \"</button>\";\n                var container = \"<div class='\" + that.quickgradecontainerclass +  \"'>\" + okbutton + ngbutton + \"</div>\";\n                return container;\n            };\n\n            //lets add the popover\n            $(item).popover({\n                title: this.quickgradetitle,\n                content: thefunc,\n                trigger: 'manual',\n                placement: 'top',\n                html: true\n            });\n            $(item).popover('show');\n        },\n\n        addMSVGrader: function(item,currentmsv){\n\n            //dispose of previous popover, and remember this one\n            if(this.lastitem && this.lastitem !== item) {\n                $(this.lastitem).popover(this.disposeWord());\n                this.lastitem=false;\n            }\n            this.lastitem = item;\n            var that = this;\n\n            //close button\n\n\n            var thefunc = function(){\n                var wordnumber = $(this).attr(\"data-wordnumber\");\n\n                //toggle button\n                var toggle = '<form class=\"msvtoggleform\">';\n                toggle += '<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">';\n\n                //correct\n                var checked = currentmsv.state===that.statecorrect ? 'checked' : '';\n                var active = currentmsv.state===that.statecorrect ? 'active' : '';\n                toggle +=    '<label for=\"'+ that.correctbuttonclass +'\" class=\"btn btn-secondary  ' + active + '\">';\n                toggle +=    '<input id=\"'+ that.correctbuttonclass +'\" name=\"msvitem\" type=\"radio\" ' + checked + ' value=\"' + that.statecorrect + '\">';\n                toggle +=    that.correctlabel + '</label>';\n\n                //error\n                checked = currentmsv.state===that.stateerror ? 'checked' : '';\n                active = currentmsv.state===that.stateerror ? 'active' : '';\n                toggle +=    '<label for=\"'+ that.errorbuttonclass +'\" class=\"btn btn-secondary ' + active + '\">';\n                toggle +=    '<input id=\"'+ that.errorbuttonclass +'\" name=\"msvitem\" type=\"radio\" ' + checked + '  value=\"' + that.stateerror  + '\">';\n                toggle +=    that.errorlabel + '</label>';\n\n                //selfcorrect\n                checked = currentmsv.state===that.stateselfcorrect ? 'checked' : '';\n                active = currentmsv.state===that.stateselfcorrect ? 'active' : '';\n                toggle +=    '<label for=\"'+ that.selfcorrectbuttonclass +'\" class=\"btn btn-secondary ' + active + '\">';\n                toggle +=    '<input id=\"'+ that.selfcorrectbuttonclass +'\" name=\"msvitem\" type=\"radio\" ' + checked + ' value=\"' + that.stateselfcorrect + '\">';\n                toggle +=     that.selfcorrectlabel + '</label>';\n\n                toggle +=    '</div>';\n                toggle +=    '</form>';\n\n                var msvbuttons = \"<button type='button' data-checked='\" + currentmsv.msv.m +\"' class='btn \" + that.m_buttonclass + ' ' + that.msvgradebuttonclass + \"'>\" + that.m_label + \"</button>\";\n                msvbuttons += \"<button type='button' data-checked='\" + currentmsv.msv.s +\"' class='btn \" + that.s_buttonclass + ' ' + that.msvgradebuttonclass + \"'>\" + that.s_label + \"</button>\";\n                msvbuttons+= \"<button type='button' data-checked='\" + currentmsv.msv.v +\"' class='btn \" + that.v_buttonclass + ' ' + that.msvgradebuttonclass + \"'>\" + that.v_label + \"</button>\";\n                var msvbuttonsdiv = \"<div class='\" + that.msvbuttonsbox + \"'>\" + msvbuttons +\"</div>\";\n\n                var closebutton = \"<button type='button' class='btn \" + that.msvclosebuttonclass + \"' data-wordnumber='\" + wordnumber + \"'>\" + that.msvcloselabel + \"</button>\";\n                var container = \"<div class='\" + that.msvcontainerclass +  \"'>\" + toggle + msvbuttonsdiv + closebutton + \"</div>\";\n                return container;\n            };\n\n            //lets add the popover\n            $(item).popover({\n                title: this.msvtitle,\n                content: thefunc,\n                trigger: 'manual',\n                placement: 'top',\n                html: true\n            });\n            $(item).popover('show');\n        },\n\n        fetchMSVResults: function(){\n            var ret={};\n            ret.msv={};\n            ret.msv.m=$('.' + this.m_buttonclass).attr('data-checked');\n            ret.msv.s=$('.' + this.s_buttonclass).attr('data-checked');\n            ret.msv.v=$('.' + this.v_buttonclass).attr('data-checked');\n            ret.state=$('input[name=\"msvitem\"]:checked').val();\n            return ret;\n        },\n\n        addTranscript: function(item,transcript){\n\n            //if we are already showing this item then dispose of it, set last item to null and go home\n            if(this.lastitem == item) {\n                $(this.lastitem).popover(this.disposeWord());\n                this.lastitem = false;\n                return;\n            }\n\n            //dispose of previous popover, and remember this one\n            if(this.lastitem) {\n                $(this.lastitem).popover(this.disposeWord());\n                this.lastitem=false;\n            }\n            this.lastitem = item;\n\n            //lets add the popover\n            $(item).popover({\n                title: this.transcripttitle,\n                content: transcript,\n                trigger: 'manual',\n                placement: 'top'\n            });\n            $(item).popover('show');\n        },\n\n        //these two functions are overridden by the calling class\n        onAccept: function(){alert($(this).attr('data-wordnumber'));},\n        onReject: function(){alert($(this).attr('data-wordnumber'));},\n        onMSVClose: function(){alert($(this).attr('data-wordnumber'));}\n\n    };//end of return value\n});"],"file":"popoverhelper.min.js"}