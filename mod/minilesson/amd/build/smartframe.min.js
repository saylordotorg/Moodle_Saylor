define ("mod_minilesson/smartframe",["jquery","core/log","mod_minilesson/definitions"],function(a,b){"use strict";b.debug("MiniLesson SmartFrame: initialising");return{clone:function clone(){return a.extend(!0,{},this)},init:function init(a,b,c){this.register_events(a,b,c)},next_question:function next_question(a){var b=this,c={};c.index=b.index;c.hasgrade=!0;c.totalitems=10;c.correctitems=a/10;c.grade=a;b.quizhelper.do_next(c)},register_events:function register_events(c,d,e){var f=this;f.index=c;f.quizhelper=e;a("#"+d.uniqueid+"_container .minilesson_nextbutton").on("click",function(){f.next_question(0)});window.addEventListener("message",function(c){b.debug("messageevent",c);if(c.origin!==d.smartframehost){return}var e=c.data;if("undefined"!=typeof e&&e.itemid==d.id){e.percent;a(".minilesson_nextbutton").prop("disabled",!0);setTimeout(function(){a(".minilesson_nextbutton").prop("disabled",!1);f.next_question(e.percent)},500)}},!1)}}});
//# sourceMappingURL=smartframe.min.js.map
