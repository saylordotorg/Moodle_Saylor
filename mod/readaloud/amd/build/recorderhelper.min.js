define(["jquery","core/log","mod_readaloud/cloudpoodllloader"],(function($,log,cloudpoodll){return log.debug("Readaloud helper: initialising"),{status:"stopped",init:function(opts,on_recording_start,on_recording_end,on_audio_processing,on_speech){var that=this,recid=opts.recorderid;cloudpoodll.init(recid,(function(message){switch(message.type){case"recording":"started"===message.action?(that.startbuttonclick(),on_recording_start(message)):"stopped"===message.action&&(that.stopbuttonclick(),on_recording_end(message));break;case"awaitingprocessing":"posted"!==that.status&&on_audio_processing(message),that.status="posted";break;case"speech":on_speech(message);break;case"error":alert("PROBLEM:"+message.message)}}))},stopbuttonclick:function(){this.status="stopped"},startbuttonclick:function(){this.status="started"}}}));

//# sourceMappingURL=recorderhelper.min.js.map