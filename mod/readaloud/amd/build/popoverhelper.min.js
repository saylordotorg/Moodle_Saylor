define(["jquery","core/log","mod_readaloud/definitions","mod_readaloud/dependencyloader","theme_boost/popover"],function(a,b,c){"use strict";b.debug("Read Aloud Popover helper: initialising");return{lastitem:!1,okbuttonclass:c.okbuttonclass,ngbuttonclass:c.ngbuttonclass,quickgradecontainerclass:c.quickgradecontainerclass,quickgradetitle:M.util.get_string("quickgrade",c.component),transcripttitle:M.util.get_string("transcript",c.component),oklabel:M.util.get_string("ok",c.component),nglabel:M.util.get_string("ng",c.component),dispose:!1,init:function init(){this.register_events()},register_events:function register_events(){a(document).on("click","."+this.okbuttonclass,this.onAccept);a(document).on("click","."+this.ngbuttonclass,this.onReject)},disposeWord:function disposeWord(){if(this.dispose){return this.dispose}var b="3";if(a.fn.popover.Constructor.hasOwnProperty("VERSION")){b=a.fn.popover.Constructor.VERSION.charAt(0)}switch(b){case"4":this.dispose="dispose";break;case"3":default:this.dispose="destroy";break;}return this.dispose},remove:function remove(b){if(b){a(b).popover(this.disposeWord())}else if(this.lastitem){a(this.lastitem).popover(this.disposeWord());this.lastitem=!1}},addQuickGrader:function addQuickGrader(b){if(this.lastitem&&this.lastitem!==b){a(this.lastitem).popover(this.disposeWord());this.lastitem=!1}this.lastitem=b;var c=this;a(b).popover({title:this.quickgradetitle,content:function thefunc(){var b=a(this).data("wordnumber"),d="<button type='button' class='btn "+c.okbuttonclass+"' data-wordnumber='"+b+"'><i class='fa fa-check'></i> "+c.oklabel+"</button>",e="<button type='button' class='btn "+c.ngbuttonclass+"' data-wordnumber='"+b+"'><i class='fa fa-close'></i> "+c.nglabel+"</button>",f="<div class='"+c.quickgradecontainerclass+"'>"+d+e+"</div>";return a(f)},trigger:"manual",placement:"top",html:!0});a(b).popover("show")},addTranscript:function addTranscript(b,c){if(this.lastitem===b){a(this.lastitem).popover(this.disposeWord());this.lastitem=!1;return}if(this.lastitem){a(this.lastitem).popover(this.disposeWord());this.lastitem=!1}this.lastitem=b;a(b).popover({title:this.transcripttitle,content:c,trigger:"manual",placement:"top"});a(b).popover("show")},onAccept:function onAccept(){alert(a(this).attr("data-wordnumber"))},onReject:function onReject(){alert(a(this).attr("data-wordnumber"))}}});
//# sourceMappingURL=popoverhelper.min.js.map
