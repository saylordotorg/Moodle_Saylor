define(["jquery","core/log","mod_readaloud/definitions","mod_readaloud/dependencyloader","theme_boost/popover"],(function($,log,def){return log.debug("Read Aloud Popover helper: initialising"),{lastitem:!1,okbuttonclass:def.okbuttonclass,ngbuttonclass:def.ngbuttonclass,quickgradecontainerclass:def.quickgradecontainerclass,quickgradetitle:M.util.get_string("quickgrade",def.component),transcripttitle:M.util.get_string("transcript",def.component),oklabel:M.util.get_string("ok",def.component),nglabel:M.util.get_string("ng",def.component),dispose:!1,init:function(){this.register_events()},register_events:function(){$(document).on("click","."+this.okbuttonclass,this.onAccept),$(document).on("click","."+this.ngbuttonclass,this.onReject)},disposeWord:function(){if(this.dispose)return this.dispose;var version="3";if($.fn.popover.Constructor.hasOwnProperty("VERSION")&&(version=$.fn.popover.Constructor.VERSION.charAt(0)),"4"===version)this.dispose="dispose";else this.dispose="destroy";return this.dispose},remove:function(item){item?$(item).popover(this.disposeWord()):this.lastitem&&($(this.lastitem).popover(this.disposeWord()),this.lastitem=!1)},addQuickGrader:function(item){this.lastitem&&this.lastitem!==item&&($(this.lastitem).popover(this.disposeWord()),this.lastitem=!1),this.lastitem=item;var that=this;$(item).popover({title:this.quickgradetitle,content:function(){var wordnumber=$(this).data("wordnumber"),okbutton="<button type='button' class='btn "+that.okbuttonclass+"' data-wordnumber='"+wordnumber+"'><i class='fa fa-check'></i> "+that.oklabel+"</button>",ngbutton="<button type='button' class='btn "+that.ngbuttonclass+"' data-wordnumber='"+wordnumber+"'><i class='fa fa-close'></i> "+that.nglabel+"</button>",container="<div class='"+that.quickgradecontainerclass+"'>"+okbutton+ngbutton+"</div>";return $(container)},trigger:"manual",placement:"top",html:!0}),$(item).popover("show")},addTranscript:function(item,transcript){if(this.lastitem===item)return $(this.lastitem).popover(this.disposeWord()),void(this.lastitem=!1);this.lastitem&&($(this.lastitem).popover(this.disposeWord()),this.lastitem=!1),this.lastitem=item,$(item).popover({title:this.transcripttitle,content:transcript,trigger:"manual",placement:"top"}),$(item).popover("show")},onAccept:function(){alert($(this).attr("data-wordnumber"))},onReject:function(){alert($(this).attr("data-wordnumber"))}}}));

//# sourceMappingURL=popoverhelper.min.js.map